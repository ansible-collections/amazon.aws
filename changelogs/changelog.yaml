ancestor: null
releases:
  1.1.0:
    changes:
      breaking_changes:
      - aws_s3 - can now delete versioned buckets even when they are not empty - set
        mode to delete to delete a versioned bucket and everything in it.
      bugfixes:
      - aws_ec2 - fix idempotency when managing tags
      - aws_ec2 - fix idempotency when metrics are enable
      - aws_s3 - Delete objects and delete markers so versioned buckets can be removed.
      - aws_s3 - Try to wait for the bucket to exist before setting the access control
        list.
      - cloudformation_info - Fix a KeyError returning information about the stack(s).
      - ec2_asg - Ensure ``wait`` is honored during replace operations
      - ec2_launch_template - Update output to include latest_version and default_version,
        matching the documentation
      - ec2_transit_gateway - Use AWSRetry before ClientError is handled when describing
        transit gateways
      - ec2_transit_gateway - fixed issue where auto_attach set to yes was not being
        honored (https://github.com/ansible/ansible/issues/61907)
      - ec2_vol - fix filtering bug
      - s3_bucket - Accept XNotImplemented response to support NetApp StorageGRID.
      deprecated_features:
      - cloudformation - The ``template_format`` option had no effect since Ansible
        2.3 and will be removed after 2022-06-01
      - cloudformation - the ``template_format`` option has been deprecated and will
        be removed in a later release. It has been ignored by the module since Ansible
        2.3.
      - data_pipeline - The ``version`` option had no effect and will be removed in
        after 2022-06-01
      - ec2 - in a later release, the ``group`` and ``group_id`` options will become
        mutually exclusive.  Currently ``group_id`` is ignored if you pass both.
      - ec2_ami - The ``no_device`` alias ``NoDevice`` has been deprecated  and will
        be removed after 2022-06-01
      - ec2_ami - The ``virtual_name`` alias ``VirtualName`` has been deprecated and
        will be removed after 2022-06-01
      - ec2_eip - The ``wait_timeout`` option had no effect and will be removed after
        2022-06-01
      - ec2_key - The ``wait_timeout`` option had no effect and will be removed after
        2022-06-01
      - ec2_key - The ``wait`` option had no effect and will be removed after 2022-06-01
      - ec2_key - the ``wait_timeout`` option has been deprecated and will be removed
        in a later release. It has had no effect since Ansible 2.5.
      - ec2_key - the ``wait`` option has been deprecated and will be removed in a
        later release. It has had no effect since Ansible 2.5.
      - ec2_lc - The ``associate_public_ip_address`` option had no effect and will
        be removed after 2022-06-01
      - ec2_tag - deprecate the ``list`` option in favor of ec2_tag_info
      - ec2_tag - support for ``list`` as a state has been deprecated and will be
        removed in a later release.  The ``ec2_tag_info`` can be used to fetch the
        tags on an EC2 resource.
      major_changes:
      - ec2 module_utils - The ``AWSRetry`` decorator no longer catches ``NotFound``
        exceptions by default.  ``NotFound`` exceptions need to be explicitly added
        using ``catch_extra_error_codes``.  Some AWS modules may see an increase in
        transient failures due to AWS''s eventual consistency model.
      minor_changes:
      - Add ``aws_security_token``, ``aws_endpoint_url`` and ``endpoint_url`` aliases
        to improve AWS module parameter naming consistency.
      - Add support for ``aws_ca_bundle`` to boto3 based AWS modules
      - Add support for configuring boto3 profiles using ``AWS_PROFILE`` and ``AWS_DEFAULT_PROFILE``
      - Added check_mode support to aws_az_info
      - Added check_mode support to ec2_eni_info
      - Added check_mode support to ec2_snapshot_info
      - ansible_dict_to_boto3_filter_list - convert integers and bools to strings
        before using them in filters.
      - aws_direct_connect_virtual_interface - add direct_connect_gateway_id parameter.
        This field is only applicable in private VIF cases (public=False) and is mutually
        exclusive to virtual_gateway_id.
      - cloudformation - Return change_set_id in the cloudformation output if a change
        set was created.
      - ec2 - deprecate allowing both group and group_id - currently we ignore group_id
        if both are passed.
      - ec2_ami_info - allow integer and bool values for filtering images (https://github.com/ansible/ansible/issues/43570).
      - ec2_asg - Add support for Max Instance Lifetime
      - ec2_asg - Add the ability to use mixed_instance_policy in launch template
        driven autoscaling groups
      - ec2_asg - Migrated to AnsibleAWSModule
      - ec2_placement_group - make ``name`` a required field.
      - ec2_vol_info - Code cleanup and use of the AWSRetry decorator to improve stability
      - ec2_vpc_net - Enable IPv6 CIDR assignment
    fragments:
    - 107_info_check_mode.yml
    - 108-ec2_vol-deprecate-list.yml
    - 27800-ec2_vpc_net-ipv6-support.yml
    - 28-ec2_ami_info_int_bool_filter.yml
    - 52_direct_connect_gateway_id.yml
    - 54435_aws_s3_fix_removing_versioned_buckets.yaml
    - 61279-ec2_launch_template-output.yml
    - 61284-ec2_asg-idempotency.yml
    - 61735-wait-for-s3-bucket-to-exist-before-modifying.yaml
    - 61933-ec2_transit_gateway-honor-auto_attach-setting.yaml
    - 62290-fix-cloudformation_info-KeyError.yaml
    - 63752-cloudformation-return-changeset-id.yaml
    - 64230-deprecate-unused.yml
    - 64368-deprecate-unused.yml
    - 65555-amazon-sanity-required.yml
    - 65960-ec2_vol-filtering-bugfix.yml
    - 66840-ec2_tag-deprecate-list.yaml
    - 66863-ec2_asg-max_instance_lifetime-and-honor-wait-on-replace.yaml
    - 66966-ec2-group-and-group_id.yml
    - 66979-ec2_vol_info-ansibleawsmodule.yaml
    - 67045-ec2_asg_mixed_instance_policy.yml
    - 67247-fix-ec2_transit_gateway-retries.yaml
    - 67462-s3_bucket-accept-storagegrid-response.yaml
    - 93-deprecate-accidental.yml
    - 99-awsmodule.yml
    - porting-guide.yml
    release_date: '2020-08-13'
  1.2.0:
    changes:
      bugfixes:
      - ec2 module_utils - Ensure boto3 verify parameter isn't overridden by setting
        a profile (https://github.com/ansible-collections/amazon.aws/issues/129)
      - 's3_bucket - Ceph compatibility: treat error code NoSuchTagSetError used by
        Ceph synonymously to NoSuchTagSet used by AWS'
      deprecated_features:
      - All AWS Modules - ``aws_access_key``, ``aws_secret_key`` and ``security_token``
        will be made mutually exclusive with ``profile`` after 2022-06-01.
      minor_changes:
      - ec2 module_utils - Update ``ec2_connect`` (boto2) behaviour so that ``ec2_url``
        overrides ``region``.
      - module_utils.core - Support passing arbitrary extra keys to fail_json_aws,
        matching capabilities of fail_json.
    fragments:
    - 121-ec2_url-resolution-order.yaml
    - 129-verify_overridden.yml
    - 140-fail_json_aws_keys.yml
    - 151-deprecate-profile-credential-combination.yml
    - 71484-ceph-tag-set-compat.yaml
    release_date: '2020-08-28'
  1.2.1:
    changes:
      minor_changes:
      - ec2_eni - Add support for tagging.
      - ec2_eni - Port ec2_eni module to boto3 and add an integration test suite.
      - ec2_eni_info - Add retries on transient AWS failures.
      - ec2_eni_info - Add support for providing an ENI ID.
    fragments:
    - 141-ec2_eni-boto3.yml
    release_date: '2020-10-07'
  1.3.0:
    changes:
      bugfixes:
      - ec2 - Code fix so module can create ec2 instances with ``ec2_volume_iops``
        option (https://github.com/ansible-collections/amazon.aws/pull/177).
      - ec2 - ignore terminated instances and instances that are shutting down when
        starting and stopping (https://github.com/ansible-collections/amazon.aws/issues/146).
      - ec2_group - Fixes error handling during tagging failures (https://github.com/ansible-collections/amazon.aws/issues/210).
      - ec2_group_info - Code fix so module works with Python 3.8 (make dict immutable
        in loop) (https://github.com/ansible-collections/amazon.aws/pull/181)
      minor_changes:
      - aws_caller_info - add AWSRetry decorator to automatically retry on common
        temporary failures (https://github.com/ansible-collections/amazon.aws/pull/208)
      - aws_s3 - Add support for uploading templated content (https://github.com/ansible-collections/amazon.aws/pull/20).
      - aws_secret - add ``on_missing`` and ``on_denied`` option (https://github.com/ansible-collections/amazon.aws/pull/122).
      - ec2_ami - Add retries for ratelimiting related errors (https://github.com/ansible-collections/amazon.aws/pull/195).
      - ec2_ami - fixed and streamlined ``max_attempts`` logic when waiting for AMI
        creation to finish (https://github.com/ansible-collections/amazon.aws/pull/194).
      - ec2_ami - increased default ``wait_timeout`` to 1200 seconds (https://github.com/ansible-collections/amazon.aws/pull/194).
      - ec2_ami_info - Add retries for ratelimiting related errors (https://github.com/ansible-collections/amazon.aws/pull/195).
      - ec2_eni - Improve reliability of the module by adding waiters and performing
        lookups by ENI ID rather than repeated searches (https://github.com/ansible-collections/amazon.aws/pull/180).
      - ec2_eni_info - Improve reliability of the module by adding waiters and performing
        lookups by ENI ID rather than repeated searches (https://github.com/ansible-collections/amazon.aws/pull/180).
      - ec2_group - add AWSRetry decorator to automatically retry on common temporary
        failures (https://github.com/ansible-collections/amazon.aws/pull/207)
      - ec2_group_info - add AWSRetry decorator to automatically retry on common temporary
        failures (https://github.com/ansible-collections/amazon.aws/pull/207)
      - ec2_snapshot_info - add AWSRetry decorator to automatically retry on common
        temporary failures (https://github.com/ansible-collections/amazon.aws/pull/208)
      - ec2_vol - Add automatic retries on AWS rate limit errors (https://github.com/ansible-collections/amazon.aws/pull/199).
      - ec2_vol - ported ec2_vol to use boto3 (https://github.com/ansible-collections/amazon.aws/pull/53).
      - ec2_vpc_dhcp_option_info - add AWSRetry decorator to automatically retry on
        common temporary failures (https://github.com/ansible-collections/amazon.aws/pull/208)
      - module_utils/core - add helper function ``scrub_none_parameters`` to remove
        params set to ``None`` (https://github.com/ansible-collections/community.aws/issues/251).
      - module_utils/waiters - Add retries to our waiters for the same failure codes
        that we retry with AWSRetry (https://github.com/ansible-collections/amazon.aws/pull/185)
      - s3_bucket - Add support for managing the ``public_access`` settings (https://github.com/ansible-collections/amazon.aws/pull/171).
    fragments:
    - 122-aws_secret-add-on_missing-and-on_denied-option.yml
    - 171-s3_bucket-public_access.yml
    - 177-fix-ec2-volume-creation-issue-with-iops.yaml
    - 180-ec2_eni-stabilisation.yml
    - 181-ec2-group-info-python-fix.yaml
    - 184-scrub-none-params.yaml
    - 185-waiter-retry-failures.yml
    - 194-ec2-ami-max-attempts.yaml
    - 195-ec2_ami-retries.yml
    - 197-ignore-terminated-instances.yaml
    - 199-ec2_vol-retries.yml
    - 20-aws_s3-content.yml
    - 207-ec2_group-retries.yml
    - 208-info-retries.yaml
    - 211-fix-error-handling-during-tagging-failure.yaml
    - 53-ec2_vol-boto3-port.yml
    release_date: '2020-12-10'
  1.4.0:
    changes:
      bugfixes:
      - ec2_vol - a creation or update now returns a structure with an up to date
        list of tags (https://github.com/ansible-collections/amazon.aws/pull/241).
      minor_changes:
      - aws_ec2 - Add hostname options concatenation
      - aws_ec2 inventory plugin - avoid a superfluous import of ``ansible.utils.display.Display``
        (https://github.com/ansible-collections/amazon.aws/pull/226).
      - aws_ec2 module - Replace inverse aws instance-state-name filters !terminated,
        !shutting-down in favor of postive filters pending, running, stopping, stopped.
        Issue 235. (https://github.com/ansible-collections/amazon.aws/pull/237)
      - aws_secret - add ``bypath`` functionality (https://github.com/ansible-collections/amazon.aws/pull/192).
      - ec2_key - add AWSRetry decorator to automatically retry on common temporary
        failures (https://github.com/ansible-collections/amazon.aws/pull/213).
      - ec2_vol - Add support for gp3 volumes and support for modifying existing volumes
        (https://github.com/ansible-collections/amazon.aws/issues/55).
      - module_utils/elbv2 - add logic to compare_rules to suit Values list nested
        within dicts unique to each field type. Fixes issue (https://github.com/ansible-collections/amazon.aws/issues/187)
      - various AWS plugins and module_utils - Cleanup unused imports (https://github.com/ansible-collections/amazon.aws/pull/217).
    fragments:
    - 188-httprequestmethodconfig-keyerror.yaml
    - 192-aws_secret-bypath-option.yaml
    - 213-ec2_key-retries.yml
    - 215-gp3-and-change-support-for-ec2_vol.yaml
    - 217-duplicate-imports.yml
    - 226_avoid_extra_Display_import.yaml
    - 237_replace_inverse_ec2_aws_filter.yaml
    - 241_ec2_vol-returns-an-up-to-date-tag-dict-of-the-volume.yaml
    - 25-aws_ec2-hostname-options-concatenation.yaml
    release_date: '2021-02-05'
  1.4.1:
    changes:
      minor_changes:
      - module_utils - the ipaddress module utility has been vendored into this collection.  This
        eliminates the collection dependency on ansible.netcommon (which had removed
        the library in its 2.0 release).  The ipaddress library is provided for internal
        use in this collection only. (https://github.com/ansible-collections/amazon.aws/issues/273)-
    fragments:
    - 273-vendor-ipaddress-utility.yml
    release_date: '2021-03-05'
  1.5.0:
    changes:
      bugfixes:
      - ec2_vol - create or update now preserves the existing tags, including Name
        (https://github.com/ansible-collections/amazon.aws/issues/229)
      - ec2_vol - fix exception when platform information isn't available (https://github.com/ansible-collections/amazon.aws/issues/305).
      minor_changes:
      - AWS inventory plugins - use shared HAS_BOTO3 helper rather than copying code
        (https://github.com/ansible-collections/amazon.aws/pull/288).
      - AWS lookup plugins - use shared HAS_BOTO3 helper rather than copying code
        (https://github.com/ansible-collections/amazon.aws/pull/288).
      - aws_account_attribute - add retries on common AWS failures (https://github.com/ansible-collections/amazon.aws/pull/295).
      - aws_ec2 inventory - expose a new configuration key ``use_contrib_script_compatible_ec2_tag_keys``
        to reproduce a behavior of the old ``ec2.py`` inventory script. With this
        option enabled, each tag is exposed using a ``ec2_tag_TAGNAME`` key (https://github.com/ansible-collections/amazon.aws/pull/331).
      - aws_ec2 inventory - expose to new keys called ``include_filters`` and ``exclude_filters``
        to give the user the ability to compose an inventory with multiple queries
        (https://github.com/ansible-collections/amazon.aws/pull/328).
      - aws_ec2 inventory plugin - Added support for using Jinja2 templates in the
        authentication fields (https://github.com/ansible-collections/amazon.aws/pull/57).
      - cloudformation - added support for StackPolicyDuringUpdateBody (https://github.com/ansible-collections/amazon.aws/pull/155).
      - ec2_metadata_facts - add support for IMDSv2 (https://github.com/ansible-collections/amazon.aws/pull/43).
      - ec2_snapshot_info - add the ``max_results`` along with ``next_token_id`` option
        (https://github.com/ansible-collections/amazon.aws/pull/321).
      - ec2_tag - use common code for tagging resources (https://github.com/ansible-collections/amazon.aws/pull/309).
      - ec2_tag_info - use common code for tagging resources (https://github.com/ansible-collections/amazon.aws/pull/309).
      - ec2_vol - add the ``purge_tags`` option (https://github.com/ansible-collections/amazon.aws/pull/242).
      - ec2_vol - use common code for tagging resources (https://github.com/ansible-collections/amazon.aws/pull/309).
      - ec2_vpc_net - use a custom waiter which can handle API rate limiting (https://github.com/ansible-collections/amazon.aws/pull/270).
      - ec2_vpc_subnet - use AWSRetry decorator to more consistently handle API rate
        limiting (https://github.com/ansible-collections/amazon.aws/pull/270).
      - ec2_vpc_subnet - use common code for tagging resources (https://github.com/ansible-collections/amazon.aws/pull/309).
      - module_utils.cloudfront_facts - linting cleanup (https://github.com/ansible-collections/amazon.aws/pull/291).
      - module_utils.ec2 - linting cleanup (https://github.com/ansible-collections/amazon.aws/pull/291).
      - module_utils/core - add a helper function ``normalize_boto3_result`` (https://github.com/ansible-collections/amazon.aws/pull/271).
      - module_utils/core - add parameter ``descend_into_lists`` to ``scrub_none_parameters``
        helper function (https://github.com/ansible-collections/amazon.aws/pull/262).
      - module_utils/ec2 - added additional helper functions for tagging EC2 resources
        (https://github.com/ansible-collections/amazon.aws/pull/309).
      - sanity tests - add ignore.txt for 2.12 (https://github.com/ansible-collections/amazon.aws/pull/315).
    fragments:
    - 155-support-for-StackPolicyDuringUpdateBody.yaml
    - 241_ec2_vol-add_purge_tags_parameter.yaml
    - 242_ec2_vol-preset-the-name-tag-of-the-volume.yaml
    - 261-scrub-params-descend-into-lists.yml
    - 270-vpc-waiters.yaml
    - 271-normalize_boto3_result.yml
    - 288-has_boto3.yml
    - 291-lint-cleanup.yml
    - 295-aws_account_attribute-awsretry.yml
    - 305-ec2_vol-no-platform.yml
    - 309-ec2_tags.yml
    - 321-ec2_snapshot_info-add_max_results_and_next_token_parameters.yaml
    - 328_aws_ec2_inventory_includes_entries_matching.yaml
    - 331_aws_ec2_inventory_use_contrib_script_compatible_ec2_tag_keys.yaml
    - 43-ec2_metadata_facts-IMDSv2.yml
    - 57-aws_ec2-support-for-templates.yml
    - ignore_212.yml
    release_date: '2021-04-27'
  2.0.0:
    changes:
      breaking_changes:
      - 'ec2_instance - instance wait for state behaviour has changed.  If plays require
        the old behavior of waiting for the instance monitoring status to become ``OK``
        when launching a new instance, the action will need to specify ``state: started``
        (https://github.com/ansible-collections/amazon.aws/pull/481).'
      - ec2_snapshot - support for waiting indefinitely has been dropped, new default
        is 10 minutes (https://github.com/ansible-collections/amazon.aws/pull/356).
      - ec2_vol_info - return ``attachment_set`` is now a list of attachments with
        Multi-Attach support on disk. (https://github.com/ansible-collections/amazon.aws/pull/362).
      - ec2_vpc_dhcp_option - The module has been refactored to use boto3. Keys and
        value types returned by the module are now consistent, which is a change from
        the previous behaviour. A ``purge_tags`` option has been added, which defaults
        to ``True``.  (https://github.com/ansible-collections/amazon.aws/pull/252)
      - ec2_vpc_dhcp_option_info - Now preserves case for tag keys in return value.
        (https://github.com/ansible-collections/amazon.aws/pull/252)
      - module_utils.core - The boto3 switch has been removed from the region parameter
        (https://github.com/ansible-collections/amazon.aws/pull/287).
      - module_utils/compat - vendored copy of ipaddress removed (https://github.com/ansible-collections/amazon.aws/pull/461).
      - module_utils/core - updated the ``scrub_none_parameters`` function so that
        ``descend_into_lists`` is set to ``True`` by default (https://github.com/ansible-collections/amazon.aws/pull/297).
      bugfixes:
      - aws_s3 - Fix upload permission when an S3 bucket ACL policy requires a particular
        canned ACL (https://github.com/ansible-collections/amazon.aws/pull/318)
      - ec2_ami - Fix ami issue when creating an ami with no_device parameter (https://github.com/ansible-collections/amazon.aws/pull/386)
      - ec2_instance - ``ec2_instance`` was waiting on EC2 instance monitoring status
        to be ``OK`` when launching a new instance. This could cause a play to wait
        multiple minutes for AWS's monitoring to complete status checks (https://github.com/ansible-collections/amazon.aws/pull/481).
      - ec2_snapshot - Fix snapshot issue when capturing a snapshot of a volume without
        tags (https://github.com/ansible-collections/amazon.aws/pull/383)
      - ec2_vol - Fixes ``changed`` status when ``modify_volume`` is used, but no
        new  disk is being attached.  The module incorrectly reported that no change
        had  occurred even when disks had been modified (iops, throughput, type, etc.).
        (https://github.com/ansible-collections/amazon.aws/issues/482).
      - ec2_vol - fix iops setting and enforce iops/throughput parameters usage (https://github.com/ansible-collections/amazon.aws/pull/334)
      - inventory - ``include_filters`` won't be ignored anymore if ``filters`` is
        not set (https://github.com/ansible-collections/amazon.aws/issues/457).
      - s3_bucket - Fix error handling when attempting to set a feature that is not
        implemented (https://github.com/ansible-collections/amazon.aws/pull/391).
      - s3_bucket - Gracefully handle ``NotImplemented`` exceptions when fetching
        encryption settings (https://github.com/ansible-collections/amazon.aws/issues/390).
      deprecated_features:
      - ec2 - the boto based ``ec2`` module has been deprecated in favour of the boto3
        based ``ec2_instance`` module. The ``ec2`` module will be removed in release
        4.0.0 (https://github.com/ansible-collections/amazon.aws/pull/424).
      - ec2_vpc_dhcp_option - The ``new_config`` return key has been deprecated and
        will be removed in a future release.  It will be replaced by ``dhcp_config``.  Both
        values are returned in the interim. (https://github.com/ansible-collections/amazon.aws/pull/252)
      major_changes:
      - amazon.aws collection - Due to the AWS SDKs announcing the end of support
        for Python less than 3.6 (https://boto3.amazonaws.com/v1/documentation/api/1.17.64/guide/migrationpy3.html)
        this collection now requires Python 3.6+ (https://github.com/ansible-collections/amazon.aws/pull/298).
      - amazon.aws collection - The amazon.aws collection has dropped support for
        ``botocore<1.18.0`` and ``boto3<1.15.0``. Most modules will continue to work
        with older versions of the AWS SDK, however compatibility with older versions
        of the SDK is not guaranteed and will not be tested. When using older versions
        of the SDK a warning will be emitted by Ansible (https://github.com/ansible-collections/amazon.aws/pull/502).
      - ec2_instance - The module has been migrated from the ``community.aws`` collection.
        Playbooks using the Fully Qualified Collection Name for this module should
        be updated to use ``amazon.aws.ec2_instance``.
      - ec2_instance_info - The module has been migrated from the ``community.aws``
        collection. Playbooks using the Fully Qualified Collection Name for this module
        should be updated to use ``amazon.aws.ec2_instance_info``.
      - ec2_vpc_endpoint - The module has been migrated from the ``community.aws``
        collection. Playbooks using the Fully Qualified Collection Name for this module
        should be updated to use ``amazon.aws.ec2_vpc_endpoint``.
      - ec2_vpc_endpoint_facts - The module has been migrated from the ``community.aws``
        collection. Playbooks using the Fully Qualified Collection Name for this module
        should be updated to use ``amazon.aws.ec2_vpc_endpoint_info``.
      - ec2_vpc_endpoint_info - The module has been migrated from the ``community.aws``
        collection. Playbooks using the Fully Qualified Collection Name for this module
        should be updated to use ``amazon.aws.ec2_vpc_endpoint_info``.
      - ec2_vpc_endpoint_service_info - The module has been migrated from the ``community.aws``
        collection. Playbooks using the Fully Qualified Collection Name for this module
        should be updated to use ``amazon.aws.ec2_vpc_endpoint_service_info``.
      - ec2_vpc_igw - The module has been migrated from the ``community.aws`` collection.
        Playbooks using the Fully Qualified Collection Name for this module should
        be updated to use ``amazon.aws.ec2_vpc_igw``.
      - ec2_vpc_igw_facts - The module has been migrated from the ``community.aws``
        collection. Playbooks using the Fully Qualified Collection Name for this module
        should be updated to use ``amazon.aws.ec2_vpc_igw_facts``.
      - ec2_vpc_igw_info - The module has been migrated from the ``community.aws``
        collection. Playbooks using the Fully Qualified Collection Name for this module
        should be updated to use ``amazon.aws.ec2_vpc_igw_info``.
      - ec2_vpc_nat_gateway - The module has been migrated from the ``community.aws``
        collection. Playbooks using the Fully Qualified Collection Name for this module
        should be updated to use ``amazon.aws.ec2_vpc_nat_gateway``.
      - ec2_vpc_nat_gateway_facts - The module has been migrated from the ``community.aws``
        collection. Playbooks using the Fully Qualified Collection Name for this module
        should be updated to use ``amazon.aws.ec2_vpc_nat_gateway_info``.
      - ec2_vpc_nat_gateway_info - The module has been migrated from the ``community.aws``
        collection. Playbooks using the Fully Qualified Collection Name for this module
        should be updated to use ``amazon.aws.ec2_vpc_nat_gateway_info``.
      - ec2_vpc_route_table - The module has been migrated from the ``community.aws``
        collection. Playbooks using the Fully Qualified Collection Name for this module
        should be updated to use ``amazon.aws.ec2_vpc_route_table``.
      - ec2_vpc_route_table_facts - The module has been migrated from the ``community.aws``
        collection. Playbooks using the Fully Qualified Collection Name for this module
        should be updated to use ``amazon.aws.ec2_vpc_route_table_facts``.
      - ec2_vpc_route_table_info - The module has been migrated from the ``community.aws``
        collection. Playbooks using the Fully Qualified Collection Name for this module
        should be updated to use ``amazon.aws.ec2_vpc_route_table_info``.
      minor_changes:
      - aws_ec2 - use a generator rather than list comprehension (https://github.com/ansible-collections/amazon.aws/pull/465).
      - aws_s3 - Tests for compatibility with older versions of the AWS SDKs have
        been removed (https://github.com/ansible-collections/amazon.aws/pull/442).
      - aws_s3 - Tests for compatibility with older versions of the AWS SDKs have
        been removed (https://github.com/ansible-collections/amazon.aws/pull/442).
      - aws_s3 - add ``tags`` and ``purge_tags`` features for an S3 object (https://github.com/ansible-collections/amazon.aws/pull/335)
      - aws_s3 - new mode to copy existing on another bucket (https://github.com/ansible-collections/amazon.aws/pull/359).
      - aws_secret - added support for gracefully handling deleted secrets (https://github.com/ansible-collections/amazon.aws/pull/455).
      - aws_ssm - add ``on_missing`` and ``on_denied`` option (https://github.com/ansible-collections/amazon.aws/pull/370).
      - cloudformation - Tests for compatibility with older versions of the AWS SDKs
        have been removed (https://github.com/ansible-collections/amazon.aws/pull/442).
      - cloudformation - Tests for compatibility with older versions of the AWS SDKs
        have been removed (https://github.com/ansible-collections/amazon.aws/pull/442).
      - ec2_ami - ensure tags are propagated to the snapshot(s) when creating an AMI
        (https://github.com/ansible-collections/amazon.aws/pull/437).
      - ec2_eni - fix idempotency when ``security_groups`` attribute is specified
        (https://github.com/ansible-collections/amazon.aws/pull/337).
      - ec2_eni - timeout increased when waiting for ENIs to finish detaching (https://github.com/ansible-collections/amazon.aws/pull/501).
      - ec2_group - Tests for compatibility with older versions of the AWS SDKs have
        been removed (https://github.com/ansible-collections/amazon.aws/pull/442).
      - ec2_group - Tests for compatibility with older versions of the AWS SDKs have
        been removed (https://github.com/ansible-collections/amazon.aws/pull/442).
      - ec2_group - use a generator rather than list comprehension (https://github.com/ansible-collections/amazon.aws/pull/465).
      - ec2_group - use system ipaddress module, available with Python >= 3.3, instead
        of vendored copy (https://github.com/ansible-collections/amazon.aws/pull/461).
      - ec2_instance - Tests for compatibility with older versions of the AWS SDKs
        have been removed (https://github.com/ansible-collections/amazon.aws/pull/442).
      - ec2_instance - Tests for compatibility with older versions of the AWS SDKs
        have been removed (https://github.com/ansible-collections/amazon.aws/pull/442).
      - ec2_instance - add ``throughput`` parameter for gp3 volume types (https://github.com/ansible-collections/amazon.aws/pull/433).
      - ec2_instance - add support for controlling metadata options (https://github.com/ansible-collections/amazon.aws/pull/414).
      - ec2_instance - remove unnecessary raise when exiting with a failure (https://github.com/ansible-collections/amazon.aws/pull/460).
      - ec2_instance_info - Tests for compatibility with older versions of the AWS
        SDKs have been removed (https://github.com/ansible-collections/amazon.aws/pull/442).
      - ec2_instance_info - Tests for compatibility with older versions of the AWS
        SDKs have been removed (https://github.com/ansible-collections/amazon.aws/pull/442).
      - ec2_snapshot - migrated to use the boto3 python library (https://github.com/ansible-collections/amazon.aws/pull/356).
      - ec2_spot_instance_info - Added a new module that describes the specified Spot
        Instance requests (https://github.com/ansible-collections/amazon.aws/pull/487).
      - ec2_vol - add parameter ``multi_attach`` to support Multi-Attach on volume
        creation/update (https://github.com/ansible-collections/amazon.aws/pull/362).
      - ec2_vol - relax the boto3/botocore requirements and only require botocore
        1.19.27 for modifying the ``throughput`` parameter (https://github.com/ansible-collections/amazon.aws/pull/346).
      - ec2_vpc_dhcp_option - Now also returns a boto3-style resource description
        in the ``dhcp_options`` result key.  This includes any tags for the ``dhcp_options_id``
        and has the same format as the current return value of ``ec2_vpc_dhcp_option_info``.
        (https://github.com/ansible-collections/amazon.aws/pull/252)
      - ec2_vpc_dhcp_option_info - Now also returns a user-friendly ``dhcp_config``
        key that matches the historical ``new_config`` key from ec2_vpc_dhcp_option,
        and alleviates the need to use ``items2dict(key_name='key', value_name='values')``
        when parsing the output of the module. (https://github.com/ansible-collections/amazon.aws/pull/252)
      - ec2_vpc_subnet - Tests for compatibility with older versions of the AWS SDKs
        have been removed (https://github.com/ansible-collections/amazon.aws/pull/442).
      - ec2_vpc_subnet - Tests for compatibility with older versions of the AWS SDKs
        have been removed (https://github.com/ansible-collections/amazon.aws/pull/442).
      - integration tests - remove dependency with collection ``community.general``
        (https://github.com/ansible-collections/amazon.aws/pull/361).
      - module_utils/waiter - add RDS cluster ``cluster_available`` waiter (https://github.com/ansible-collections/amazon.aws/pull/464).
      - module_utils/waiter - add RDS cluster ``cluster_deleted`` waiter (https://github.com/ansible-collections/amazon.aws/pull/464).
      - module_utils/waiter - add Route53 ``resource_record_sets_changed`` waiter
        (https://github.com/ansible-collections/amazon.aws/pull/350).
      - s3_bucket - Tests for compatibility with older versions of the AWS SDKs have
        been removed (https://github.com/ansible-collections/amazon.aws/pull/442).
      - s3_bucket - Tests for compatibility with older versions of the AWS SDKs have
        been removed (https://github.com/ansible-collections/amazon.aws/pull/442).
      - s3_bucket - add new option ``object_ownership`` to configure object ownership
        (https://github.com/ansible-collections/amazon.aws/pull/311)
      - s3_bucket - updated to use HeadBucket instead of ListBucket when testing for
        bucket existence (https://github.com/ansible-collections/amazon.aws/pull/357).
    fragments:
    - 252_boto3_refactor_ec2_vpc_dhcp_option.yaml
    - 290-lint-cleanup.yml
    - 297-scrub_none_parameters-descend-default.yml
    - 298-python3.6.yml
    - 311-s3_bucket-allow-object-ownership-configuration.yaml
    - 318-s3-upload-acl.yml
    - 334-ec2_vol-iops-and-throughput-issues.yaml
    - 335-aws_s3-tagging-object-feature.yaml
    - 337-ec2_eni-fix-idempotency-security-groups.yml
    - 346-ec2_vol-boto3-requirements.yml
    - 350-route53-waiter.yml
    - 356-ec2_snapshot-boto3-migration.yml
    - 357-s3_bucket-use-head.yml
    - 359-aws_s3-add-copy-mode.yml
    - 361-drop-community.general-support-for-integration.tests.yml
    - 362-ec2_vol-add-multi-attach-parameter.yml
    - 370-aws_ssm-add-on_missing-and-on_denied-option.yml
    - 383_ec2_snapshot_tags.yml
    - 386_ec2_ami_no_device.yml
    - 391-s3_bucket-enc_notimplemented.yml
    - 414-ec2_instance-support-controlling-metadata-options.yml
    - 424-deprecate-ec2.yml
    - 433-ec2_instance-throughput.yml
    - 437-ec2_ami-propagate-tags-to-snapshot.yml
    - 442-boto3-minimums.yml
    - 442-boto3-minimums.yml
    - 455-lookup_aws_secret-deleted.yml
    - 460-pylint.yml
    - 461-ipaddress.yml
    - 464-rds_cluster-waiter.yml
    - 465-pylint.yml
    - 481-ec2_instance-wait_sanity.yml
    - 483-ec2_vol_fix_returned_changed_var.yml
    - 487-ec2_spot_instance_info-add-new-module.yml
    - 501-ec2_eni-timeout.yml
    - include_filters_with_filter.yaml
    - migrate_ec2_instance.yml
    - migrate_ec2_vpc_endpoint.yml
    - migrate_ec2_vpc_igw.yml
    - migrate_ec2_vpc_nat_gateway.yml
    - migrate_ec2_vpc_route_table.yml
    modules:
    - description: request, stop, reboot or cancel spot instance
      name: ec2_spot_instance
      namespace: ''
    - description: Gather information about ec2 spot instance requests
      name: ec2_spot_instance_info
      namespace: ''
    release_date: '2021-09-03'
  2.1.0:
    changes:
      bugfixes:
      - AWS action group - added missing ``ec2_instance_facts`` entry (https://github.com/ansible-collections/amazon.aws/issues/557)
      - ec2_ami - fix problem when creating an AMI from an instance with ephemeral
        volumes (https://github.com/ansible-collections/amazon.aws/issues/511).
      - ec2_instance - ensure that ec2_instance falls back to the tag(Name) parameter
        when no filter and no name parameter is passed (https://github.com/ansible-collections/amazon.aws/issues/526).
      - s3_bucket - update error handling to better support DigitalOcean Space (https://github.com/ansible-collections/amazon.aws/issues/508).
      deprecated_features:
      - ec2_classic_lb - setting of the ``ec2_elb`` fact has been deprecated and will
        be removed in release 4.0.0 of the collection. The module now returns ``elb``
        which can be accessed using the register keyword (https://github.com/ansible-collections/amazon.aws/pull/552).
      minor_changes:
      - aws_service_ip_ranges - add new option ``ipv6_prefixes`` to get only IPV6
        addresses and prefixes for Amazon services (https://github.com/ansible-collections/amazon.aws/pull/430)
      - cloudformation - fix detection when there are no changes. Sometimes when there
        are no changes, the change set will have a status FAILED with StatusReason
        No updates are to be performed (https://github.com/ansible-collections/amazon.aws/pull/507).
      - ec2_ami - add check_mode support (https://github.com/ansible-collections/amazon.aws/pull/516).
      - ec2_ami - use module_util helper for tagging AMIs (https://github.com/ansible-collections/amazon.aws/pull/520).
      - ec2_ami - when creating an AMI from an instance pass the tagging options at
        creation time (https://github.com/ansible-collections/amazon.aws/pull/551).
      - ec2_elb_lb - module renamed to ``elb_classic_lb`` (https://github.com/ansible-collections/amazon.aws/pull/377).
      - ec2_eni - add check mode support (https://github.com/ansible-collections/amazon.aws/pull/534).
      - ec2_eni - use module_util helper for tagging ENIs (https://github.com/ansible-collections/amazon.aws/pull/522).
      - ec2_instance - use module_util helpers for tagging (https://github.com/ansible-collections/amazon.aws/pull/527).
      - ec2_key - add support for tagging key pairs (https://github.com/ansible-collections/amazon.aws/pull/548).
      - ec2_snapshot - add check_mode support (https://github.com/ansible-collections/amazon.aws/pull/512).
      - ec2_vol - add check_mode support (https://github.com/ansible-collections/amazon.aws/pull/509).
      - ec2_vpc_dhcp_option - use module_util helpers for tagging (https://github.com/ansible-collections/amazon.aws/pull/531).
      - ec2_vpc_endpoint - added ``vpc_endpoint_security_groups`` parameter to support
        defining the security group attached to an interface endpoint (https://github.com/ansible-collections/amazon.aws/pull/544).
      - ec2_vpc_endpoint - added ``vpc_endpoint_subnets`` parameter to support defining
        the subnet attached to an interface or gateway endpoint (https://github.com/ansible-collections/amazon.aws/pull/544).
      - ec2_vpc_endpoint - use module_util helper for tagging (https://github.com/ansible-collections/amazon.aws/pull/525).
      - ec2_vpc_endpoint - use module_util helpers for tagging (https://github.com/ansible-collections/amazon.aws/pull/531).
      - ec2_vpc_igw - use module_util helper for tagging (https://github.com/ansible-collections/amazon.aws/pull/523).
      - ec2_vpc_igw - use module_util helpers for tagging (https://github.com/ansible-collections/amazon.aws/pull/531).
      - ec2_vpc_nat_gateway - use module_util helper for tagging (https://github.com/ansible-collections/amazon.aws/pull/524).
      - ec2_vpc_nat_gateway - use module_util helpers for tagging (https://github.com/ansible-collections/amazon.aws/pull/531).
      - elb_classic_lb - added retries on common AWS temporary API failures (https://github.com/ansible-collections/amazon.aws/pull/377).
      - elb_classic_lb - added support for check_mode (https://github.com/ansible-collections/amazon.aws/pull/377).
      - elb_classic_lb - added support for wait during creation (https://github.com/ansible-collections/amazon.aws/pull/377).
      - elb_classic_lb - added support for wait during instance addition and removal
        (https://github.com/ansible-collections/amazon.aws/pull/377).
      - elb_classic_lb - migrated to boto3 SDK (https://github.com/ansible-collections/amazon.aws/pull/377).
      - elb_classic_lb - various error messages changed due to refactor (https://github.com/ansible-collections/amazon.aws/pull/377).
      - module_utils.ec2 - moved generic tagging helpers into module_utils.tagging
        (https://github.com/ansible-collections/amazon.aws/pull/527).
      - module_utils.tagging - add new helper to generate TagSpecification lists (https://github.com/ansible-collections/amazon.aws/pull/527).
    fragments:
    - 377-ec2_elb_lb-boto3.yml
    - 430-add_support_for_ipv6_addresses.yml
    - 507-fix_cloudformation_changeset_detection.yml
    - 508-s3_bucket-digital_ocean.yml
    - 509-ec2_vol_add_check_mode_support.yml
    - 512-ec2_snapshot_add_check_mode_support.yml.yml
    - 516-ec2_ami_add_check_mode_support.yml
    - 520-ec2_ami-tagging.yml
    - 522-ec2_eni-tagging.yml
    - 523-ec2_vpc_igw-tagging.yml
    - 524-ec2_vpc_nat_gateway-tagging.yml
    - 525-ec2_vpc_endpoint-tagging.yml
    - 526-ec2_instance_search_tags.yml
    - 527-ec2_instance-tagging.yml
    - 531-use_tags_handlers.yml
    - 534-ec2_eni_add_check_mode_support.yml
    - 544-vpc-endpoint-add-subnets-sg-option.yml
    - 548-ec2_key-tagging.yml
    - 551-ec2_ami-tag-on-create.yml
    - 552-elb_classic_lb-fact.yml
    - 557-action_group-missing-entry.yml
    release_date: '2021-11-11'
  2.2.0:
    changes:
      bugfixes:
      - aws_ec2 inventory - use the iam_role_arn configuration parameter to assume
        the role before trying to call DescribeRegions if the regions configuration
        is not set and AWS credentials provided without enough privilege to perform
        the DescribeRegions action. (https://github.com/ansible-collections/amazon.aws/issues/566).
      - ec2_vol - Sets the Iops value in req_obj even if the iops value has not changed,
        to allow modifying volume types that require passing an iops value to boto.
        (https://github.com/ansible-collections/amazon.aws/pull/606)
      - ec2_vol - changing a volume from a type that does not support IOPS (like ``standard``)
        to a type that does (like ``gp3``) fails (https://github.com/ansible-collections/amazon.aws/issues/626).
      - ec2_vpc_igw - fix 'NoneType' object is not subscriptable error (https://github.com/ansible-collections/amazon.aws/pull/691).
      - ec2_vpc_igw - use paginator for describe internet gateways and add retry to
        fix NoneType object is not subscriptable error (https://github.com/ansible-collections/amazon.aws/pull/695).
      - elb_classic_lb - handle security_group_ids when providing security_group_names
        and fix broken tasks in integration test (https://github.com/ansible-collections/amazon.aws/pull/592).
      minor_changes:
      - ec2_instance - add count parameter support (https://github.com/ansible-collections/amazon.aws/pull/539).
    fragments:
    - 539-ec2_instance_add_count_param.yml
    - 592-elb_classic_lb-handle-sg-ids-fix-tests.yml
    - 606-ec2_vol-set-iops-even-if-unchanged-for-boto-req.yml
    - 619-inventory-aws_ec2-assume-arn-role-when-listing-regions.yml
    - 626-ec2_vol-iops-when-source-does-not-have-iops.yml
    - 691-ec2_vpc_igw-fix-null-igw-error.yml
    - 695-ec2_vpc_igw-fix-nonetype-with-paginator.yml
    release_date: '2022-03-22'
  3.0.0:
    changes:
      breaking_changes:
      - aws_caller_facts - Remove deprecated ``aws_caller_facts`` alias.  Please use
        ``aws_caller_info`` instead.
      - cloudformation_facts - Remove deprecated ``cloudformation_facts`` alias.  Please
        use ``cloudformation_info`` instead.
      - ec2_ami_facts - Remove deprecated ``ec2_ami_facts`` alias.  Please use ``ec2_ami_info``
        instead.
      - ec2_eni_facts - Remove deprecated ``ec2_eni_facts`` alias.  Please use ``ec2_eni_info``
        instead.
      - ec2_group_facts - Remove deprecated ``ec2_group_facts`` alias.  Please use
        ``ec2_group_info`` instead.
      - ec2_instance_facts - Remove deprecated ``ec2_instance_facts`` alias.  Please
        use ``ec2_instance_info`` instead.
      - ec2_snapshot_facts - Remove deprecated ``ec2_snapshot_facts`` alias.  Please
        use ``ec2_snapshot_info`` instead.
      - ec2_vol_facts - Remove deprecated ``ec2_vol_facts`` alias.  Please use ``ec2_vol_info``
        instead.
      - ec2_vpc_dhcp_option_facts - Remove deprecated ``ec2_vpc_dhcp_option_facts``
        alias.  Please use ``ec2_vpc_dhcp_option_info`` instead.
      - ec2_vpc_endpoint_facts - Remove deprecated ``ec2_vpc_endpoint_facts`` alias.  Please
        use ``ec2_vpc_endpoint_info`` instead.
      - ec2_vpc_igw_facts - Remove deprecated ``ec2_vpc_igw_facts`` alias.  Please
        use ``ec2_vpc_igw_info`` instead.
      - ec2_vpc_nat_gateway_facts - Remove deprecated ``ec2_vpc_nat_gateway_facts``
        alias.  Please use ``ec2_vpc_nat_gateway_info`` instead.
      - ec2_vpc_net_facts - Remove deprecated ``ec2_vpc_net_facts`` alias.  Please
        use ``ec2_vpc_net_info`` instead.
      - ec2_vpc_route_table_facts - Remove deprecated ``ec2_vpc_route_table_facts``
        alias.  Please use ``ec2_vpc_route_table_info`` instead.
      - ec2_vpc_subnet_facts - Remove deprecated ``ec2_vpc_subnet_facts`` alias.  Please
        use ``ec2_vpc_subnet_info`` instead.
      deprecated_features:
      - module_utils - support for the original AWS SDK ``boto`` has been deprecated
        in favour of the ``boto3``/``botocore`` SDK. All ``boto`` based modules have
        either been deprecated or migrated to ``botocore``, and the remaining support
        code in module_utils will be removed in release 4.0.0 of the amazon.aws collection.
        Any modules outside of the amazon.aws and community.aws collections based
        on the ``boto`` library will need to be migrated to the ``boto3``/``botocore``
        libraries (https://github.com/ansible-collections/amazon.aws/pull/575).
      major_changes:
      - amazon.aws collection - The amazon.aws collection has dropped support for
        ``botocore<1.19.0`` and ``boto3<1.16.0``. Most modules will continue to work
        with older versions of the AWS SDK, however compatibility with older versions
        of the SDK is not guaranteed and will not be tested. When using older versions
        of the SDK a warning will be emitted by Ansible (https://github.com/ansible-collections/amazon.aws/pull/574).
      minor_changes:
      - ec2_instance - add count parameter support (https://github.com/ansible-collections/amazon.aws/pull/539).
    fragments:
    - 539-ec2_instance_add_count_param.yml
    - 574-botocore-1-19-0.yml
    - 575-deprecate-boto.yml
    - remove_deprecated_facts.yml
    release_date: '2021-12-06'
  3.1.0:
    changes:
      bugfixes:
      - Various modules and plugins - use vendored version of ``distutils.version``
        instead of the deprecated Python standard library ``distutils`` (https://github.com/ansible-collections/amazon.aws/pull/599).
      - aws_acm - No longer raising ResourceNotFound exception while retrieving ACM
        certificates.
      - aws_s3 - fix exception raised when using module to copy from source to destination
        and key is missing from source (https://github.com/ansible-collections/amazon.aws/issues/602).
      - ec2_instance - Add a condition to handle default ```instance_type``` value
        for fix breaking on instance creation with launch template (https://github.com/ansible-collections/amazon.aws/pull/587).
      - ec2_key - add support for ED25519 key type (https://github.com/ansible-collections/amazon.aws/issues/572).
      - ec2_vol - Sets the Iops value in req_obj even if the iops value has not changed,
        to allow modifying volume types that require passing an iops value to boto.
        (https://github.com/ansible-collections/amazon.aws/pull/606)
      - elb_classic_lb - handle security_group_ids when providing security_group_names
        and fix broken tasks in integration test (https://github.com/ansible-collections/amazon.aws/pull/592).
      - s3_bucket - Enable the management of bucket-level ACLs (https://github.com/ansible-collections/amazon.aws/issues/573).
      deprecated_features:
      - ec2_instance - The default value for ```instance_type``` has been deprecated,
        in the future release you must set an instance_type or a launch_template (https://github.com/ansible-collections/amazon.aws/pull/587).
      minor_changes:
      - add new parameters hostvars_prefix and hostvars_suffix for inventory plugins
        aws_ec2 and aws_rds (https://github.com/ansible-collections/amazon.aws/issues/535).
      - aws_s3 - Add ``validate_bucket_name`` option, to control bucket name validation
        (https://github.com/ansible-collections/amazon.aws/pull/615).
      - aws_s3 - add latest choice on ``overwrite`` parameter to get latest object
        on S3 (https://github.com/ansible-collections/amazon.aws/pull/595).
      - ec2_vol - add support for OutpostArn param (https://github.com/ansible-collections/amazon.aws/pull/597).
      - ec2_vol - tag volume on creation (https://github.com/ansible-collections/amazon.aws/pull/603).
      - ec2_vpc_route_table - add support for IPv6 in creating route tables (https://github.com/ansible-collections/amazon.aws/pull/601).
      - s3_bucket - Add ``validate_bucket_name`` option, to control bucket name validation
        (https://github.com/ansible-collections/amazon.aws/pull/615).
    fragments:
    - 587-ec2_instance-default-instance-type-launch-template.yml
    - 592-elb_classic_lb-handle-sg-ids-fix-tests.yml
    - 593-aws_s3-fix-copy-when-missing-key.yml
    - 595-aws_s3-add-latest-choice-on-overwrite-parameter.yml
    - 597-ec2_vol-add-outpostarn-support.yml
    - 601-ec2_vpc_route_table-ipv6-support.yml
    - 603-ec2_vol-add-tags-on-creation.yml
    - 606-ec2_vol-set-iops-even-if-unchanged-for-boto-req.yml
    - 611-s3_bucket-add-support-for-acl.yml
    - 614-ec2_key-add-support-for-ed25519-key-type.yml
    - 615-s3-validate_bucket_name.yml
    - 619-aws_ec2-aws_rds-add-support-for-hostvars_prefix-and-hostvars_suffix.yml
    - 646-acm-resource-not-found.yml
    - disutils.version.yml
    release_date: '2022-02-10'
  3.1.1:
    changes:
      minor_changes:
      - bump the release version of the amazon.aws collection from 3.1.0 to 3.1.1
        because of a bug that occurred while uploading to Galaxy.
    fragments:
    - bump_release_version.yml
    release_date: '2022-02-15'
  3.2.0:
    changes:
      bugfixes:
      - aws_ec2 inventory - use the iam_role_arn configuration parameter to assume
        the role before trying to call DescribeRegions if the regions configuration
        is not set and AWS credentials provided without enough privilege to perform
        the DescribeRegions action. (https://github.com/ansible-collections/amazon.aws/issues/566).
      - ec2_vol - changing a volume from a type that does not support IOPS (like ``standard``)
        to a type that does (like ``gp3``) fails (https://github.com/ansible-collections/amazon.aws/issues/626).
      - ec2_vpc_igw - fix 'NoneType' object is not subscriptable error (https://github.com/ansible-collections/amazon.aws/pull/691).
      - ec2_vpc_igw - use paginator for describe internet gateways and add retry to
        fix NoneType object is not subscriptable error (https://github.com/ansible-collections/amazon.aws/pull/695).
      - ec2_vpc_net - In check mode, ensure the module does not change the configuration.
        Handle case when Amazon-provided ipv6 block is enabled, then disabled, then
        enabled again. Do not disable IPv6 CIDR association (using Amazon pool) if
        ipv6_cidr property is not present in the task. If the VPC already exists and
        ipv6_cidr property, retain the current config (https://github.com/ansible-collections/amazon.aws/pull/631).
      minor_changes:
      - aws_secret - add pagination for ``bypath`` functionality (https://github.com/ansible-collections/amazon.aws/pull/591).
      - ec2_instance - Fix scope of deprecation warning to not show warning when ``state``
        in ``absent`` (https://github.com/ansible-collections/amazon.aws/pull/719).
      - ec2_vpc_route_table - support associating internet gateways (https://github.com/ansible-collections/amazon.aws/pull/690).
      - module_utils.elbv2 - Add support for alb specific attributes and compare_elb_attributes
        method to support check_mode in module_utils.elbv2 (https://github.com/ansible-collections/amazon.aws/pull/696).
      - s3_bucket - Add support for enforced bucket owner object ownership (https://github.com/ansible-collections/amazon.aws/pull/694).
    fragments:
    - 591-aws_secrets-handle-pagination.yml
    - 619-inventory-aws_ec2-assume-arn-role-when-listing-regions.yml
    - 626-ec2_vol-iops-when-source-does-not-have-iops.yml
    - 631-ec2_vpc_net-check_mode.yml
    - 690-ec2_vpc_route_table-associate-igw.yml
    - 691-ec2_vpc_igw-fix-null-igw-error.yml
    - 694-s3_bucket-owner_enforcement.yml
    - 695-ec2_vpc_igw-fix-nonetype-with-paginator.yml
    - 696-elbv2-support-alb-attributes.yml
    - 719-ec2_instance-fix-deprecation-warning-scope.yml
    release_date: '2022-04-05'
  3.3.0:
    changes:
      bugfixes:
      - Include ``PSF-license.txt`` file for ``plugins/module_utils/_version.py``.
      - aws_account_attribute lookup plugin - fix linting errors in documentation
        data (https://github.com/ansible-collections/amazon.aws/pull/701).
      - aws_ec2 inventory plugin - fix linting errors in documentation data (https://github.com/ansible-collections/amazon.aws/pull/701).
      - aws_rds inventory plugin - fix linting errors in documentation data (https://github.com/ansible-collections/amazon.aws/pull/701).
      - aws_resource_actions callback plugin - fix linting errors in documentation
        data (https://github.com/ansible-collections/amazon.aws/pull/701).
      - aws_secret lookup plugin - fix linting errors in documentation data (https://github.com/ansible-collections/amazon.aws/pull/701).
      - aws_service_ip_ranges lookup plugin - fix linting errors in documentation
        data (https://github.com/ansible-collections/amazon.aws/pull/701).
      - aws_ssm - Fix environment variables for client configuration (e.g., AWS_PROFILE,
        AWS_ACCESS_KEY_ID) (https://github.com/ansible-collections/amazon.aws/pull/837).
      - aws_ssm lookup plugin - fix linting errors in documentation data (https://github.com/ansible-collections/amazon.aws/pull/701).
      - ec2_instance - ec2_instance module broken in Python 3.8 - dict keys modified
        during iteration (https://github.com/ansible-collections/amazon.aws/issues/709).
      - module.utils.rds - Add waiter for promoting read replica to fix idempotency
        issue (https://github.com/ansible-collections/amazon.aws/pull/714).
      - module.utils.rds - Catch InvalidDBSecurityGroupStateFault when modifying a
        db instance (https://github.com/ansible-collections/amazon.aws/pull/776).
      - module.utils.s3 - Update validate_bucket_name minimum length to 3 (https://github.com/ansible-collections/amazon.aws/pull/802).
      minor_changes:
      - aws_ec2 inventory - Allow for literal strings in hostname that don't match
        filter parameters in ec2 describe-instances (https://github.com/ansible-collections/amazon.aws/pull/826).
      - aws_ssm - Add support for ``endpoint`` parameter (https://github.com/ansible-collections/amazon.aws/pull/837).
      - module.utils.rds - add retry_codes to get_rds_method_attribute return data
        to use in call_method and add unit tests (https://github.com/ansible-collections/amazon.aws/pull/776).
      - module.utils.rds - refactor to utilize get_rds_method_attribute return data
        (https://github.com/ansible-collections/amazon.aws/pull/776).
      - module_utils - add new aliases ``aws_session_token`` and ``session_token``
        to the ``security_token`` parameter to be more in-line with the boto SDK (https://github.com/ansible-collections/amazon.aws/pull/631).
      - module_utils.rds - Add support and unit tests for addition/removal of IAM
        roles to/from a db instance in module_utils.rds with waiters (https://github.com/ansible-collections/amazon.aws/pull/714).
    fragments:
    - 655-aws_ec2-aws_rds-add-support-for-hostvars_prefix-and-hostvars_suffix.yml
    - 709-ec_2_instance-python-3-8-compatibility.yml
    - 714-module_util_rds-support-iam-roles-add-waiters.yml
    - 776-module_util_rds-add-extra-retry-codes-refactor.yml
    - 802-update-s3-module_util-validate_bucket_name-to-accept-3-character-bucket-name.yml
    - 826-inventory-aws_ec2-allow-literal-string-in-hostname.yml
    - 837-aws_ssm-envars.yml
    - psf-license.yml
    - validate-plugins.yml
    release_date: '2022-05-26'
  3.3.1:
    release_date: '2022-06-22'
  3.4.0:
    changes:
      bugfixes:
      - elb_application_lb - fix ``KeyError`` when balancing across two Target Groups
        (https://github.com/ansible-collections/community.aws/issues/1089).
      - elb_classic_lb - fix ``'NoneType' object has no attribute`` bug when creating
        a new ELB in check mode with a health check (https://github.com/ansible-collections/amazon.aws/pull/915).
      - elb_classic_lb - fix ``'NoneType' object has no attribute`` bug when creating
        a new ELB using security group names (https://github.com/ansible-collections/amazon.aws/issues/914).
      minor_changes:
      - ec2_instance - expanded the use of the automatic retries on temporary failures
        (https://github.com/ansible-collections/amazon.aws/issues/927).
    fragments:
    - 1089-elb_application_lb-ForwardConfig-KeyError.yml
    - 914-elb_classic_lb-security_group_names.yml
    - 927-ec2_instance-retries.yml
    release_date: '2022-08-02'
  3.5.0:
    changes:
      bugfixes:
      - ec2_metadata_facts - fix ``'NoneType' object is not callable`` exception when
        using Ansible 2.13+ (https://github.com/ansible-collections/amazon.aws/issues/942).
      minor_changes:
      - ec2_security_group - set type as ``list`` for rules->group_name as it can
        accept both ``str`` and ``list`` (https://github.com/ansible-collections/amazon.aws/pull/971).
      release_summary: 'Following the release of amazon.aws 5.0.0, 3.5.0 is a bugfix
        release and the final planned release for the 3.x series.

        '
    fragments:
    - 638-ec2_security_group_group_name_datatype.yml
    - 943-ec2_metadata_facts-fix-NoneType-callable.yml
    - RELEASE-3.5.0.yml
    - unit-tests_test_rds_py37_only.yaml
    release_date: '2022-10-06'
  3.5.1:
    changes:
      minor_changes:
      - ec2_instance - refacter ``tower_callback`` code to handle parameter validation
        as part of the argument specification (https://github.com/ansible-collections/amazon.aws/pull/1199).
      - ec2_instance - the ``tower_callback`` parameter has been renamed to ``aap_callback``,
        ``tower_callback`` remains as an alias.  This change should have no observable
        effect for users outside the module documentation (https://github.com/ansible-collections/amazon.aws/pull/1199).
      release_summary: 3.5.1 is a security bugfix release.
      security_fixes:
      - ec2_instance - fixes leak of password into logs when using ``tower_callback.windows=True``
        and ``tower_callback.set_password`` (https://github.com/ansible-collections/amazon.aws/pull/1199).
    fragments:
    - 20221021-ec2_instance-tower_callback.yml
    - 20221026-pytest-forked.yml
    - release_summary.yml
    release_date: '2023-01-09'
  4.0.0:
    changes:
      breaking_changes:
      - Tags beginning with ``aws:`` will not be removed when purging tags, these
        tags are reserved by Amazon and may not be updated or deleted (https://github.com/ansible-collections/amazon.aws/issues/817).
      - amazon.aws collection - the ``profile`` parameter is now mutually exclusive
        with the ``aws_access_key``, ``aws_secret_key`` and ``security_token`` parameters
        (https://github.com/ansible-collections/amazon.aws/pull/834).
      - aws_az_info - the module alias ``aws_az_facts`` was deprecated in Ansible
        2.9 and has now been removed (https://github.com/ansible-collections/amazon.aws/pull/832).
      - aws_s3 - the default value for ``ensure overwrite`` has been changed to ``different``
        instead of ``always`` so that the module is idempotent by default (https://github.com/ansible-collections/amazon.aws/issues/811).
      - aws_ssm - on_denied and on_missing now both default to error, for consistency
        with both aws_secret and the base Lookup class (https://github.com/ansible-collections/amazon.aws/issues/617).
      - ec2 - The ``ec2`` module has been removed in release 4.0.0 and replaced by
        the ``ec2_instance`` module (https://github.com/ansible-collections/amazon.aws/pull/630).
      - ec2_vpc_igw_info - The default value for ``convert_tags`` has been changed
        to ``True`` (https://github.com/ansible-collections/amazon.aws/pull/835).
      - elb_classic_lb - the ``ec2_elb`` fact has been removed (https://github.com/ansible-collections/amazon.aws/pull/827).
      - module_utils - Support for the original AWS SDK aka ``boto`` has been removed,
        including all relevant helper functions. All modules should now use the ``boto3``/``botocore``
        AWS SDK (https://github.com/ansible-collections/amazon.aws/pull/630)
      bugfixes:
      - ec2_group - fix uncaught exception when running with ``--diff`` and ``--check``
        to create a new security group (https://github.com/ansible-collections/amazon.aws/issues/440).
      - ec2_instance - Add a condition to handle default ```instance_type``` value
        for fix breaking on instance creation with launch template (https://github.com/ansible-collections/amazon.aws/pull/587).
      - ec2_instance - raise an error when missing permission to stop instance when
        ``state`` is set to ``rebooted``` (https://github.com/ansible-collections/amazon.aws/pull/671).
      - ec2_vpc_igw - use gateway_id rather than filters to paginate if possible to
        fix 'NoneType' object is not subscriptable error (https://github.com/ansible-collections/amazon.aws/pull/766).
      - ec2_vpc_net - fix a bug where CIDR configuration would be updated in check
        mode (https://github.com/ansible/ansible/issues/62678).
      - ec2_vpc_net - fix a bug where the module would get stuck if DNS options were
        updated in check mode (https://github.com/ansible/ansible/issues/62677).
      - elb_classic_lb - modify the return value of _format_listeners method to resolve
        a failure creating https listeners (https://github.com/ansible-collections/amazon.aws/pull/860).
      deprecated_features:
      - aws_s3 - The ``S3_URL`` alias for the s3_url option has been deprecated and
        will be removed in release 5.0.0 (https://github.com/ansible-collections/community.aws/pull/795).
      - ec2_ami - The ``DeviceName`` alias for the device_name option has been deprecated
        and will be removed in release 5.0.0 (https://github.com/ansible-collections/community.aws/pull/795).
      - ec2_ami - The ``NoDevice`` alias for the no_device option has been deprecated
        and will be removed in release 5.0.0 (https://github.com/ansible-collections/community.aws/pull/795).
      - ec2_ami - The ``VirtualName`` alias for the virtual_name option has been deprecated
        and will be removed in release 5.0.0 (https://github.com/ansible-collections/community.aws/pull/795).
      - ec2_ami - the current default value of ``False`` for ``purge_tags`` has been
        deprecated and will be updated in release 5.0.0 to ``True`` (https://github.com/ansible-collections/amazon.aws/pull/846).
      - ec2_instance - The default value for ```instance_type``` has been deprecated,
        in the future release you must set an instance_type or a launch_template (https://github.com/ansible-collections/amazon.aws/pull/587).
      - ec2_instance - the current default value of ``False`` for ``purge_tags`` has
        been deprecated and will be updated in release 5.0.0 to ``True`` (https://github.com/ansible-collections/amazon.aws/pull/849).
      - ec2_key - the current default value of ``False`` for ``purge_tags`` has been
        deprecated and will be updated in release 5.0.0 to ``True`` (https://github.com/ansible-collections/amazon.aws/pull/846).
      - ec2_vol - the current default value of ``False`` for ``purge_tags`` has been
        deprecated and will be updated in release 5.0.0 to ``True`` (https://github.com/ansible-collections/amazon.aws/pull/846).
      - ec2_vpc_dhcp_option_info - The ``DhcpOptionIds`` alias for the dhcp_option_ids
        option has been deprecated and will be removed in release 5.0.0 (https://github.com/ansible-collections/community.aws/pull/795).
      - ec2_vpc_dhcp_option_info - The ``DryRun`` alias for the dry_run option has
        been deprecated and will be removed in release 5.0.0 (https://github.com/ansible-collections/community.aws/pull/795).
      - ec2_vpc_endpoint - the current default value of ``False`` for ``purge_tags``
        has been deprecated and will be updated in release 5.0.0 to ``True`` (https://github.com/ansible-collections/amazon.aws/pull/846).
      - ec2_vpc_net - the current default value of ``False`` for ``purge_tags`` has
        been deprecated and will be updated in release 5.0.0 to ``True`` (https://github.com/ansible-collections/amazon.aws/pull/848).
      - ec2_vpc_route_table - the current default value of ``False`` for ``purge_tags``
        has been deprecated and will be updated in release 5.0.0 to ``True`` (https://github.com/ansible-collections/amazon.aws/pull/846).
      - s3_bucket - The ``S3_URL`` alias for the s3_url option has been deprecated
        and will be removed in release 5.0.0 (https://github.com/ansible-collections/community.aws/pull/795).
      - s3_object - Support for creation and deletion of S3 buckets has been deprecated.  Please
        use the ``amazon.aws.s3_bucket`` module to create and delete buckets (https://github.com/ansible-collections/amazon.aws/pull/869).
      major_changes:
      - amazon.aws collection - The amazon.aws collection has dropped support for
        ``botocore<1.20.0`` and ``boto3<1.17.0``. Most modules will continue to work
        with older versions of the AWS SDK, however compatibility with older versions
        of the SDK is not guaranteed and will not be tested. When using older versions
        of the SDK a warning will be emitted by Ansible (https://github.com/ansible-collections/amazon.aws/pull/574).
      minor_changes:
      - aws_s3 - Add ``validate_bucket_name`` option, to control bucket name validation
        (https://github.com/ansible-collections/amazon.aws/pull/615).
      - aws_s3 - The ``aws_s3`` module has been renamed to ``s3_object`` (https://github.com/ansible-collections/amazon.aws/pull/869).
      - aws_s3 - ``resource_tags`` has been added as an alias for the ``tags`` parameter
        (https://github.com/ansible-collections/amazon.aws/pull/845).
      - ec2_eni - Change parameter ``device_index`` data type to string when passing
        to ``describe_network_inter`` api call (https://github.com/ansible-collections/amazon.aws/pull/877).
      - ec2_eni - ``resource_tags`` has been added as an alias for the ``tags`` parameter
        (https://github.com/ansible-collections/amazon.aws/pull/845).
      - ec2_group - add ``egress_rules`` as an alias for ``rules_egress`` (https://github.com/ansible-collections/amazon.aws/pull/878).
      - ec2_group - add ``purge_egress_rules`` as an alias for ``purge_rules_egress``
        (https://github.com/ansible-collections/amazon.aws/pull/878).
      - ec2_instance - Add missing ``metadata_options`` parameters (https://github.com/ansible-collections/amazon.aws/pull/715).
      - ec2_key - ``resource_tags`` has been added as an alias for the ``tags`` parameter
        (https://github.com/ansible-collections/amazon.aws/pull/845).
      - ec2_vpc_net - add support for managing VPCs by ID (https://github.com/ansible-collections/amazon.aws/pull/848).
      - ec2_vpc_subnet - add support for OutpostArn param (https://github.com/ansible-collections/amazon.aws/pull/598).
      - elb_classic_lb - ``resource_tags`` has been added as an alias for the ``tags``
        parameter (https://github.com/ansible-collections/amazon.aws/pull/845).
      - s3_bucket - Add ``validate_bucket_name`` option, to control bucket name validation
        (https://github.com/ansible-collections/amazon.aws/pull/615).
      - s3_bucket - ``resource_tags`` has been added as an alias for the ``tags``
        parameter (https://github.com/ansible-collections/amazon.aws/pull/845).
      removed_features:
      - cloudformation - the ``template_format`` option has been removed. It has been
        ignored by the module since Ansible 2.3 (https://github.com/ansible-collections/amazon.aws/pull/833).
      - ec2_key - the ``wait_timeout`` option had no effect, was deprecated in release
        1.0.0, and has now been removed (https://github.com/ansible-collections/amazon.aws/pull/830).
      - ec2_key - the ``wait`` option had no effect, was deprecated in release 1.0.0,
        and has now been removed (https://github.com/ansible-collections/amazon.aws/pull/830).
      - ec2_tag - the previously deprecated state ``list`` has been removed.  To list
        tags on an EC2 resource the ``ec2_tag_info`` module can be used (https://github.com/ansible-collections/amazon.aws/pull/829).
      - ec2_vol - the previously deprecated state ``list`` has been removed.  To list
        volumes the ``ec2_vol_info`` module can be used (https://github.com/ansible-collections/amazon.aws/pull/828).
      - module_utils.batch - the class ``ansible_collections.amazon.aws.plugins.module_utils.batch.AWSConnection``
        has been removed.  Please use ``AnsibleAWSModule.client()`` instead (https://github.com/ansible-collections/amazon.aws/pull/831).
    fragments:
    - 108-ec2_vol-state-list-remove.yml
    - 151-profile-mutually-exclusive.yml
    - 318-ec2_vpc_igw_info-convert-tags.yml
    - 552-elb_classic_lb-fact-remove.yml
    - 57613-facts.yml
    - 587-ec2_instance-default-instance-type-launch-template.yml
    - 598-ec2_vpc_subnet-add-outpostarn-support.yml
    - 615-s3-validate_bucket_name.yml
    - 617-aws_ssm-on_missing-and-on-denied-now-default-to-error.yml
    - 630-remove-boto.yml
    - 64230-ec2_key-remove-unused.yml
    - 64368-cloudformation.yml
    - 66840-ec2_tag-remove-list.yml
    - 67191-remove-AWSConnection.yml
    - 715-ec2-instance-metadata-options.yml
    - 756-ec2_instance-raise-an-error-when-missing-permission.yml
    - 766-ec2_vpc_igw-use-InternetGatewayIds-not-filters.yml
    - 795-deprecate-aliases.yml
    - 811-aws_s3-ovewrite-default.yml
    - 817-skip_purge_aws.yaml
    - 845-tagging.yml
    - 846-tagging-deprecate.yml
    - 848-ec2_vpc_net-tagging-and-id.yml
    - 849-ec2_instance-tagging-deprecate.yml
    - 860-elb_classic_lb-create-https-listeners.yml
    - 869-s3_object.yml
    - 877-ec2_eni-device_index-data-change-type-to-str.yml
    - 878-ec2_group.yml
    - release-4--botocore.yml
    release_date: '2022-06-22'
  4.1.0:
    changes:
      bugfixes:
      - aws_ec2 - ensure the correct number of hosts are returned when tags as hostnames
        are used (https://github.com/ansible-collections/amazon.aws/pull/862).
      - elb_application_lb - fix ``KeyError`` when balancing across two Target Groups
        (https://github.com/ansible-collections/community.aws/issues/1089).
      - elb_classic_lb - fix ``'NoneType' object has no attribute`` bug when creating
        a new ELB in check mode with a health check (https://github.com/ansible-collections/amazon.aws/pull/915).
      - elb_classic_lb - fix ``'NoneType' object has no attribute`` bug when creating
        a new ELB using security group names (https://github.com/ansible-collections/amazon.aws/issues/914).
      deprecated_features:
      - amazon.aws collection - due to the AWS SDKs announcing the end of support
        for Python less than 3.7 (https://aws.amazon.com/blogs/developer/python-support-policy-updates-for-aws-sdks-and-tools/)
        support for Python less than 3.7 by this collection has been deprecated and
        will be removed in a release after 2023-05-31 (https://github.com/ansible-collections/amazon.aws/pull/935).
      minor_changes:
      - ec2_instance - expanded the use of the automatic retries on temporary failures
        (https://github.com/ansible-collections/amazon.aws/issues/927).
      - s3_bucket - updated module to enable support for setting S3 Bucket Keys for
        SSE-KMS (https://github.com/ansible-collections/amazon.aws/pull/882).
    fragments:
    - 1089-elb_application_lb-ForwardConfig-KeyError.yml
    - 862-aws_ec2-hostnames.yml
    - 882-s3_bucket-bucket-keys.yml
    - 914-elb_classic_lb-security_group_names.yml
    - 927-ec2_instance-retries.yml
    - python.yml
    release_date: '2022-08-02'
  4.2.0:
    changes:
      deprecated_features:
      - module_utils.cloud - removal of the ``CloudRetry.backoff`` has been delayed
        until release 6.0.0.  It is recommended to update custom modules to use ``jittered_backoff``
        or ``exponential_backoff`` instead (https://github.com/ansible-collections/amazon.aws/pull/951).
      minor_changes:
      - ec2_security_group - set type as ``list`` for rules->group_name as it can
        accept both ``str`` and ``list`` (https://github.com/ansible-collections/amazon.aws/pull/971).
      - various modules - linting fixups (https://github.com/ansible-collections/amazon.aws/pull/953).
    fragments:
    - 638-ec2_security_group_group_name_datatype.yml
    - 951-cloudretry.yml
    - 965-linting.yml
    release_date: '2022-09-14'
  4.3.0:
    changes:
      bugfixes:
      - ec2_metadata_facts - fix ``'NoneType' object is not callable`` exception when
        using Ansible 2.13+ (https://github.com/ansible-collections/amazon.aws/issues/942).
      - 'module_utils/cloud - Fix ``ValueError: ansible_collections.amazon.aws.plugins.module_utils.core.__spec__
        is None`` error on Ansible 2.9 (https://github.com/ansible-collections/amazon.aws/issues/1083).'
      minor_changes:
      - ec2_instance - expanded the use of the automatic retries to ``InsuffienctInstanceCapacity``
        (https://github.com/ansible-collections/amazon.aws/issues/1038).
      release_summary: 'The amazon.aws 4.3.0 release includes a number of minor bug
        fixes and improvements.

        Following the release of amazon.aws 5.0.0, backports to the 4.x series will
        be limited to

        security issues and bugfixes.

        '
    fragments:
    - 1038-ec2-insufficient-capacity.yml
    - 1083-__spec__-is-None.yml
    - 943-ec2_metadata_facts-fix-NoneType-callable.yml
    - RELEASE-4.3.0.yml
    - tests-cloud.yml
    - unit-tests_test_rds_py37_only.yaml
    release_date: '2022-10-06'
  4.4.0:
    changes:
      minor_changes:
      - ec2_instance - refacter ``tower_callback`` code to handle parameter validation
        as part of the argument specification (https://github.com/ansible-collections/amazon.aws/pull/1199).
      - ec2_instance - the ``tower_callback`` parameter has been renamed to ``aap_callback``,
        ``tower_callback`` remains as an alias.  This change should have no observable
        effect for users outside the module documentation (https://github.com/ansible-collections/amazon.aws/pull/1199).
      release_summary: The amazon.aws 4.4.0 release includes a number of security
        and minor bug fixes.
      security_fixes:
      - ec2_instance - fixes leak of password into logs when using ``tower_callback.windows=True``
        and ``tower_callback.set_password`` (https://github.com/ansible-collections/amazon.aws/pull/1199).
    fragments:
    - 1148-build_run_instance_spec.yml
    - 1318-module_utils.yml
    - 20221021-ec2_instance-tower_callback.yml
    - 20221026-pytest-forked.yml
    - 20230103-sanity-ec2_eni_info.yml
    - 20230106-ec2_vol.yml
    - release_summary.yml
    release_date: '2023-01-09'
  4.5.0:
    changes:
      bugfixes:
      - ec2_vol - handle ec2_vol.tags when the associated instance already exists
        (https://github.com/ansible-collections/amazon.aws/pull/1071).
      minor_changes:
      - ec2_key - minor refactoring and improved unit-tests coverage (https://github.com/ansible-collections/amazon.aws/pull/1288).
      release_summary: 'This release contains a minor bugfix for the ``ec2_vol`` module,
        some minor work on the ``ec2_key`` module, and various documentation fixes.  This
        is the last planned release of the 4.x series.

        '
    fragments:
    - 1071-ec2_vol_tags_idempotent.yaml
    - 1357-subnet-example.yml
    - 1395-s3-encryption.yml
    - release-notes.yml
    - unit-tests_test_ec2_key_only.yaml
    release_date: '2023-05-05'
  5.0.0:
    changes:
      breaking_changes:
      - amazon.aws collection - Support for ansible-core < 2.11 has been dropped (https://github.com/ansible-collections/amazon.aws/pull/1087).
      - amazon.aws collection - The amazon.aws collection has dropped support for
        ``botocore<1.21.0`` and ``boto3<1.18.0``. Most modules will continue to work
        with older versions of the AWS SDK, however compatibility with older versions
        of the SDK is not guaranteed and will not be tested. When using older versions
        of the SDK a warning will be emitted by Ansible (https://github.com/ansible-collections/amazon.aws/pull/934).
      - doc_fragments - remove minimum collection requirements from doc_fragments/aws.py
        and allow pulling those from doc_fragments/aws_boto3.py instead (https://github.com/ansible-collections/amazon.aws/pull/985).
      - ec2_ami - the default value for ``purge_tags`` has been changed from ``False``
        to ``True`` (https://github.com/ansible-collections/amazon.aws/pull/916).
      - ec2_ami - the parameter aliases ``DeviceName``, ``VirtualName`` and ``NoDevice``
        were previously deprecated and have been removed, please use ``device_name``,
        ``virtual_name`` and ``no_device`` instead (https://github.com/ansible-collections/amazon.aws/pull/913).
      - ec2_eni_info - the mutual exclusivity of the ``eni_id`` and ``filters`` parameters
        is now enforced, previously ``filters`` would be ignored if ``eni_id`` was
        set (https://github.com/ansible-collections/amazon.aws/pull/954).
      - ec2_instance - the default value for ``purge_tags`` has been changed from
        ``False`` to ``True`` (https://github.com/ansible-collections/amazon.aws/pull/916).
      - ec2_key - the default value for ``purge_tags`` has been changed from ``False``
        to ``True`` (https://github.com/ansible-collections/amazon.aws/pull/916).
      - ec2_vol - the default value for ``purge_tags`` has been changed from ``False``
        to ``True`` (https://github.com/ansible-collections/amazon.aws/pull/916).
      - ec2_vpc_dhcp_option_info - the parameter aliases ``DhcpOptionIds`` and ``DryRun``
        were previously deprecated and have been removed, please use ``dhcp_options_ids``
        and ``no_device`` instead (https://github.com/ansible-collections/amazon.aws/pull/913).
      - ec2_vpc_endpoint - the default value for ``purge_tags`` has been changed from
        ``False`` to ``True`` (https://github.com/ansible-collections/amazon.aws/pull/916).
      - ec2_vpc_net - the default value for ``purge_tags`` has been changed from ``False``
        to ``True`` (https://github.com/ansible-collections/amazon.aws/pull/916).
      - ec2_vpc_route_table - the default value for ``purge_tags`` has been changed
        from ``False`` to ``True`` (https://github.com/ansible-collections/amazon.aws/pull/916).
      - s3_bucket - the previously deprecated alias ``S3_URL`` for the ``s3_url``
        parameter has been removed.  Playbooks shuold be updated to use ``s3_url``
        (https://github.com/ansible-collections/amazon.aws/pull/908).
      - s3_object - the previously deprecated alias ``S3_URL`` for the ``s3_url``
        parameter has been removed.  Playbooks should be updated to use ``s3_url``
        (https://github.com/ansible-collections/amazon.aws/pull/908).
      bugfixes:
      - aws_ec2 - address a regression introduced in 4.1.0 (https://github.com/ansible-collections/amazon.aws/pull/862)
        that cause the presnse of duplicated hosts in the inventory.
      - cloudtrail - Fix key error TagList to TagsList (https://github.com/ansible-collections/amazon.aws/issues/1088).
      - ec2_instance - Only show the deprecation warning for the default value of
        ``instance_type`` when ``count`` or ``exact_count`` are specified (https://github.com//issues/980).
      - ec2_metadata_facts - fix ``'NoneType' object is not callable`` exception when
        using Ansible 2.13+ (https://github.com/ansible-collections/amazon.aws/issues/942).
      - module_utils/botocore - fix ``object has no attribute 'fail'`` error in error
        handling (https://github.com/ansible-collections/amazon.aws/pull/1045).
      - module_utils/elbv2 - fixes ``KeyError`` when using ``UseExistingClientSecret``
        rather than ``ClientSecret`` (https://github.com/ansible-collections/amazon.aws/pull/940).
      - module_utils/elbv2 - improvements to idempotency when comparing listeners
        (https://github.com/ansible-collections/community.aws/issues/604).
      - s3_object - also use ``ignore_nonexistent_bucket`` when listing a bucket (https://github.com/ansible-collections/amazon.aws/issues/966).
      deprecated_features:
      - amazon.aws collection - due to the AWS SDKs announcing the end of support
        for Python less than 3.7 (https://aws.amazon.com/blogs/developer/python-support-policy-updates-for-aws-sdks-and-tools/)
        support for Python less than 3.7 by this collection has been deprecated and
        will be removed in a release after 2023-05-31 (https://github.com/ansible-collections/amazon.aws/pull/935).
      - inventory/aws_ec2 - the ``include_extra_api_calls`` is now deprecated, its
        value is silently ignored (https://github.com/ansible-collections/amazon.aws/pull/1097).
      major_changes:
      - autoscaling_group - The module has been migrated from the ``community.aws``
        collection. Playbooks using the Fully Qualified Collection Name for this module
        should be updated to use ``amazon.aws.autoscaling_group``.
      - autoscaling_group_info - The module has been migrated from the ``community.aws``
        collection. Playbooks using the Fully Qualified Collection Name for this module
        should be updated to use ``amazon.aws.autoscaling_group_info``.
      - cloudtrail - The module has been migrated from the ``community.aws`` collection.
        Playbooks using the Fully Qualified Collection Name for this module should
        be updated to use ``amazon.aws.cloudtrail``.
      - cloudwatch_metric_alarm - The module has been migrated from the ``community.aws``
        collection. Playbooks using the Fully Qualified Collection Name for this module
        should be updated to use ``amazon.aws.cloudwatch_metric_alarm``.
      - cloudwatchevent_rule - The module has been migrated from the ``community.aws``
        collection. Playbooks using the Fully Qualified Collection Name for this module
        should be updated to use ``amazon.aws.cloudwatchevent_rule``.
      - cloudwatchlogs_log_group - The module has been migrated from the ``community.aws``
        collection. Playbooks using the Fully Qualified Collection Name for this module
        should be updated to use ``amazon.aws.cloudwatchlogs_log_group``.
      - cloudwatchlogs_log_group_info - The module has been migrated from the ``community.aws``
        collection. Playbooks using the Fully Qualified Collection Name for this module
        should be updated to use ``amazon.aws.cloudwatchlogs_log_group_info``.
      - cloudwatchlogs_log_group_metric_filter - The module has been migrated from
        the ``community.aws`` collection. Playbooks using the Fully Qualified Collection
        Name for this module should be updated to use ``amazon.aws.cloudwatchlogs_log_group_metric_filter``.
      - ec2_eip - The module has been migrated from the ``community.aws`` collection.
        Playbooks using the Fully Qualified Collection Name for this module should
        be updated to use ``amazon.aws.ec2_eip``.
      - ec2_eip_info - The module has been migrated from the ``community.aws`` collection.
        Playbooks using the Fully Qualified Collection Name for this module should
        be updated to use ``amazon.aws.ec2_eip_info``.
      - elb_application_lb - The module has been migrated from the ``community.aws``
        collection. Playbooks using the Fully Qualified Collection Name for this module
        should be updated to use ``amazon.aws.elb_application_lb``.
      - elb_application_lb_info - The module has been migrated from the ``community.aws``
        collection. Playbooks using the Fully Qualified Collection Name for this module
        should be updated to use ``amazon.aws.elb_application_lb_info``.
      - execute_lambda - The module has been migrated from the ``community.aws`` collection.
        Playbooks using the Fully Qualified Collection Name for this module should
        be updated to use ``amazon.aws.execute_lambda``.
      - iam_policy - The module has been migrated from the ``community.aws`` collection.
        Playbooks using the Fully Qualified Collection Name for this module should
        be updated to use ``amazon.aws.iam_policy``.
      - iam_policy_info - The module has been migrated from the ``community.aws``
        collection. Playbooks using the Fully Qualified Collection Name for this module
        should be updated to use ``amazon.aws.iam_policy_info``.
      - iam_user - The module has been migrated from the ``community.aws`` collection.
        Playbooks using the Fully Qualified Collection Name for this module should
        be updated to use ``amazon.aws.iam_user``.
      - iam_user_info - The module has been migrated from the ``community.aws`` collection.
        Playbooks using the Fully Qualified Collection Name for this module should
        be updated to use ``amazon.aws.iam_user_info``.
      - kms_key - The module has been migrated from the ``community.aws`` collection.
        Playbooks using the Fully Qualified Collection Name for this module should
        be updated to use ``amazon.aws.kms_key``.
      - kms_key_info - The module has been migrated from the ``community.aws`` collection.
        Playbooks using the Fully Qualified Collection Name for this module should
        be updated to use ``amazon.aws.kms_key_info``.
      - lambda - The module has been migrated from the ``community.aws`` collection.
        Playbooks using the Fully Qualified Collection Name for this module should
        be updated to use ``amazon.aws.lambda``.
      - lambda_alias - The module has been migrated from the ``community.aws`` collection.
        Playbooks using the Fully Qualified Collection Name for this module should
        be updated to use ``amazon.aws.lambda_alias``.
      - lambda_event - The module has been migrated from the ``community.aws`` collection.
        Playbooks using the Fully Qualified Collection Name for this module should
        be updated to use ``amazon.aws.lambda_event``.
      - lambda_execute - The module has been migrated from the ``community.aws`` collection.
        Playbooks using the Fully Qualified Collection Name for this module should
        be updated to use ``amazon.aws.lambda_execute``.
      - lambda_info - The module has been migrated from the ``community.aws`` collection.
        Playbooks using the Fully Qualified Collection Name for this module should
        be updated to use ``amazon.aws.lambda_info``.
      - lambda_policy - The module has been migrated from the ``community.aws`` collection.
        Playbooks using the Fully Qualified Collection Name for this module should
        be updated to use ``amazon.aws.lambda_policy``.
      - rds_cluster - The module has been migrated from the ``community.aws`` collection.
        Playbooks using the Fully Qualified Collection Name for this module should
        be updated to use ``amazon.aws.rds_cluster``.
      - rds_cluster_info - The module has been migrated from the ``community.aws``
        collection. Playbooks using the Fully Qualified Collection Name for this module
        should be updated to use ``amazon.aws.rds_cluster_info``.
      - rds_cluster_snapshot - The module has been migrated from the ``community.aws``
        collection. Playbooks using the Fully Qualified Collection Name for this module
        should be updated to use ``amazon.aws.rds_cluster_snapshot``.
      - rds_instance - The module has been migrated from the ``community.aws`` collection.
        Playbooks using the Fully Qualified Collection Name for this module should
        be updated to use ``amazon.aws.rds_instance``.
      - rds_instance_info - The module has been migrated from the ``community.aws``
        collection. Playbooks using the Fully Qualified Collection Name for this module
        should be updated to use ``amazon.aws.rds_instance_info``.
      - rds_instance_snapshot - The module has been migrated from the ``community.aws``
        collection. Playbooks using the Fully Qualified Collection Name for this module
        should be updated to use ``amazon.aws.rds_instance_snapshot``.
      - rds_option_group - The module has been migrated from the ``community.aws``
        collection. Playbooks using the Fully Qualified Collection Name for this module
        should be updated to use ``amazon.aws.rds_option_group``.
      - rds_option_group_info - The module has been migrated from the ``community.aws``
        collection. Playbooks using the Fully Qualified Collection Name for this module
        should be updated to use ``amazon.aws.rds_option_group_info``.
      - rds_param_group - The module has been migrated from the ``community.aws``
        collection. Playbooks using the Fully Qualified Collection Name for this module
        should be updated to use ``amazon.aws.rds_param_group``.
      - rds_snapshot_info - The module has been migrated from the ``community.aws``
        collection. Playbooks using the Fully Qualified Collection Name for this module
        should be updated to use ``amazon.aws.rds_snapshot_info``.
      - rds_subnet_group - The module has been migrated from the ``community.aws``
        collection. Playbooks using the Fully Qualified Collection Name for this module
        should be updated to use ``amazon.aws.rds_subnet_group``.
      - route53 - The module has been migrated from the ``community.aws`` collection.
        Playbooks using the Fully Qualified Collection Name for this module should
        be updated to use ``amazon.aws.route53``.
      - route53_health_check - The module has been migrated from the ``community.aws``
        collection. Playbooks using the Fully Qualified Collection Name for this module
        should be updated to use ``amazon.aws.route53_health_check``.
      - route53_info - The module has been migrated from the ``community.aws`` collection.
        Playbooks using the Fully Qualified Collection Name for this module should
        be updated to use ``amazon.aws.route53_info``.
      - route53_zone - The module has been migrated from the ``community.aws`` collection.
        Playbooks using the Fully Qualified Collection Name for this module should
        be updated to use ``amazon.aws.route53_zone``.
      minor_changes:
      - Ability to record and replay the API interaction of a module for testing purpose.
        Show case the feature with an example (https://github.com/ansible-collections/amazon.aws/pull/998).
      - Remove the empty __init__.py file from the distribution, they were not required
        anymore (https://github.com/ansible-collections/amazon.aws/pull/1018).
      - amazon.aws modules - the ``ec2_url`` parameter has been renamed to ``endpoint_url``
        for consistency, ``ec2_url`` remains as an alias (https://github.com/ansible-collections/amazon.aws/pull/992).
      - aws_caller_info - minor linting fixes (https://github.com/ansible-collections/amazon.aws/pull/968).
      - aws_ec2 - introduce the ``allow_duplicated_hosts`` configuration key (https://github.com/ansible-collections/amazon.aws/pull/1026).
      - cloudformation - avoid catching ``Exception``, catch more specific errors
        instead (https://github.com/ansible-collections/amazon.aws/pull/968).
      - cloudwatch_metric_alarm_info - Added a new module that describes the cloudwatch
        metric alarms (https://github.com/ansible-collections/amazon.aws/pull/988).
      - ec2_group - The ``ec2_group`` module has been renamed to ``ec2_security_group``,
        ``ec2_group`` remains as an alias (https://github.com/ansible-collections/amazon.aws/pull/897).
      - ec2_group_info - The ``ec2_group_info`` module has been renamed to ``ec2_security_group_info``,
        ``ec2_group_info`` remains as an alias (https://github.com/ansible-collections/amazon.aws/pull/897).
      - ec2_instance - Add hibernation_options and volumes->ebs->encrypted keys to
        support stop-hibernate instance (https://github.com/ansible-collections/amazon.aws/pull/972).
      - ec2_instance - expanded the use of the automatic retries to ``InsuffienctInstanceCapacity``
        (https://github.com/ansible-collections/amazon.aws/issues/1038).
      - ec2_metadata_facts - avoid catching ``Exception``, catch more specific errors
        instead (https://github.com/ansible-collections/amazon.aws/pull/968).
      - ec2_security_group - minor linting fixes (https://github.com/ansible-collections/amazon.aws/pull/968).
      - ec2_vpc_endpoint - avoid catching ``Exception``, catch more specific errors
        instead (https://github.com/ansible-collections/amazon.aws/pull/968).
      - ec2_vpc_nat_gateway - minor linting fixes (https://github.com/ansible-collections/amazon.aws/pull/968).
      - ec2_vpc_net_info - handle classic link check for shared VPCs by throwing a
        warning instead of an error (https://github.com/ansible-collections/amazon.aws/pull/984).
      - module_utils/acm - Move to jittered backoff (https://github.com/ansible-collections/amazon.aws/pull/946).
      - module_utils/elbv2 - ensures that ``ip_address_type`` is set on creation rather
        than re-setting it after creation (https://github.com/ansible-collections/amazon.aws/pull/940).
      - module_utils/elbv2 - uses new waiters with retries for temporary failures
        (https://github.com/ansible-collections/amazon.aws/pull/940).
      - module_utils/waf - Move to jittered backoff (https://github.com/ansible-collections/amazon.aws/pull/946).
      - module_utils/waiters - Add waiters to manage eks_nodegroup module (https://github.com/ansible-collections/community.aws/pull/1415).
      - s3_bucket - ``rgw`` was added as an alias for the ``ceph`` parameter for consistency
        with the ``s3_object`` module (https://github.com/ansible-collections/amazon.aws/pull/994).
      - s3_bucket - the ``s3_url`` parameter was merged into the ``endpoint_url``
        parameter, ``s3_url`` remains as an alias (https://github.com/ansible-collections/amazon.aws/pull/994).
      - s3_object - added the ``sig_v4`` paramater, enbling the user to opt in to
        signature version 4 for download/get operations. (https://github.com/ansible-collections/amazon.aws/pull/1014)
      - s3_object - minor linting fixes (https://github.com/ansible-collections/amazon.aws/pull/968).
      - s3_object - the ``rgw`` parameter was renamed to ``ceph`` for consistency
        with the ``s3_bucket`` module, ``rgw`` remains as an alias (https://github.com/ansible-collections/amazon.aws/pull/994).
      - s3_object - the ``s3_url`` parameter was merged into the ``endpoint_url``
        parameter, ``s3_url`` remains as an alias (https://github.com/ansible-collections/amazon.aws/pull/994).
      - s3_object - updated module to add support for handling file upload to a bucket
        with ACL disabled (https://github.com/ansible-collections/amazon.aws/pull/921).
      - s3_object_info - Added a new module that describes S3 Objects (https://github.com/ansible-collections/amazon.aws/pull/977).
      release_summary: In this release we promoted many community modules to Red Hat
        supported status. Those modules have been moved from the commuity.aws to amazon.aws
        collection. This release also brings some new features, bugfixes, breaking
        changes and deprecated features. The amazon.aws collection has dropped support
        for ``botocore<1.21.0`` and ``boto3<1.18.0``. Support for ``ansible-core<2.11``
        has also been dropped.
    fragments:
    - 1014-add-support-for-signature-version-4-to-the-s3_object-geturl-mode.yml
    - 1038-ec2-insufficient-capacity.yml
    - 1045-botocore_fail.yml
    - 1047-docsite-changelog.yml
    - 1055-bools.yml
    - 1061-legacy_aliases.yml
    - 1061-sanity.yml
    - 1070-gitleaks-1.yml
    - 1073-gitleaks-2.yml
    - 1087-old-ansible.yml
    - 1088-fix_key_error_TagsList_cloudtrail.yml
    - 1094-revert.yml
    - 604-elb_network_lb.yml
    - 897-ec2_security_group.yml
    - 908-s3_url.yml
    - 913-deprecations.yml
    - 916-purge_tags.yml
    - 921-s3_object-handle-file-upload-to-acl-disabled-bucket.yml
    - 943-ec2_metadata_facts-fix-NoneType-callable.yml
    - 946-retries.yml
    - 954-linting.yml
    - 966-ignore_nonexistent_bucket_list.yml
    - 968-sanity.yml
    - 972-ec2_instance-stop-hibernate.yml
    - 975-waiters-eks_nodegroup.yml
    - 977-s3_object_info-add-new-module.yml
    - 978-bools.yml
    - 979-ec2_instance_tests_split.yaml
    - 980-instance-type-deprecation-warning.yml
    - 984-ec2_vpc_net_info_shared_vpc.yml
    - 985-cleanup_doc_fragments.yml
    - 988-cloudwatch_metric_alarm_info-add-new-module.yml
    - 992-ec2_url.yml
    - 994-s3_url.yml
    - botocore.yml
    - ec2_instance-test-duration.yaml
    - inventory-aws_ec2-avoid-py38-syntax.yaml
    - inventory-aws_ec2-include_extra_api_calls-is-deprecated.yaml
    - inventory-aws_ec2_unit-tests.yaml
    - inventory-multi-hosts.yaml
    - migrate_autoscaling_group.yml
    - migrate_cloudtrail.yml
    - migrate_cloudtrail_tests.yml
    - migrate_cloudwatch_metric_alarm.yml
    - migrate_cloudwatchevent.yml
    - migrate_cloudwatchlogs.yml
    - migrate_ec2_eip.yml
    - migrate_elb_application_lb.yml
    - migrate_iam_policy.yml
    - migrate_iam_user.yml
    - migrate_kms_key.yml
    - migrate_lambda.yml
    - migrate_rds_cluster.yml
    - migrate_rds_instance.yml
    - migrate_rds_option_group.yml
    - migrate_rds_param_group.yml
    - migrate_rds_snapshot.yml
    - migrate_rds_subnet_group.yml
    - migrate_route53.yml
    - migrate_route53_module_utils.yml
    - placebo_record.yaml
    - python.yml
    - release_summary.yml
    - remove__init__.py_file.yaml
    - test-python3-unicode-string.yaml
    - tests-cloud.yml
    - unit-tests_test_rds_py37_only.yaml
    modules:
    - description: Gather information about trails in AWS Cloud Trail.
      name: cloudtrail_info
      namespace: ''
    - description: Gather information about the alarms for the specified metric
      name: cloudwatch_metric_alarm_info
      namespace: ''
    - description: Gather information about objects in S3
      name: s3_object_info
      namespace: ''
    release_date: '2022-10-04'
  5.0.1:
    changes:
      bugfixes:
      - ec2_vpc_net_info - fix KeyError (https://github.com/ansible-collections/amazon.aws/pull/1109).
      - ec2_vpc_net_info - remove hardcoded ``ClassicLinkEnabled`` parameter when
        request for ``ClassicLinkDnsSupported`` failed (https://github.com/ansible-collections/amazon.aws/pull/1109).
      - s3_object - be more defensive when checking the results of ``s3.get_bucket_ownership_controls``
        (https://github.com/ansible-collections/amazon.aws/issues/1115).
    fragments:
    - 1109-ec2_vpc_net_info_keyerror.yml
    - 1115-s3_object-scaleway.yml
    release_date: '2022-10-06'
  5.0.2:
    changes:
      bugfixes:
      - ec2_metadata_facts - fixed ``AttributeError`` (https://github.com/ansible-collections/amazon.aws/issues/1134).
    fragments:
    - 1134-ec2_metadata_facts-AttributeError.yml
    release_date: '2022-10-10'
  5.1.0:
    changes:
      bugfixes:
      - ec2_instance - fixes ``Invalid type for parameter TagSpecifications, value
        None`` error when tags aren't specified (https://github.com/ansible-collections/amazon.aws/issues/1148).
      - module_utils.transformations - ensure that ``map_complex_type`` still returns
        transformed items if items exists that are not in the type_map (https://github.com/ansible-collections/amazon.aws/pull/1163).
      deprecated_features:
      - amazon.aws collection - Support for the ``EC2_ACCESS_KEY`` environment variable
        has been deprecated and will be removed in a release after 2024-12-01.  Please
        use the ``access_key`` parameter or ``AWS_ACCESS_KEY_ID`` environment variable
        instead (https://github.com/ansible-collections/amazon.aws/pull/1172).
      - amazon.aws collection - Support for the ``EC2_REGION`` environment variable
        has been deprecated and will be removed in a release after 2024-12-01.  Please
        use the ``region`` parameter or ``AWS_REGION`` environment variable instead
        (https://github.com/ansible-collections/amazon.aws/pull/1172).
      - amazon.aws collection - Support for the ``EC2_SECRET_KEY`` environment variable
        has been deprecated and will be removed in a release after 2024-12-01.  Please
        use the ``secret_key`` parameter or ``AWS_SECRET_ACCESS_KEY`` environment
        variable instead (https://github.com/ansible-collections/amazon.aws/pull/1172).
      - amazon.aws collection - Support for the ``EC2_SECURITY_TOKEN`` environment
        variable has been deprecated and will be removed in a release after 2024-12-01.  Please
        use the ``session_token`` parameter or ``AWS_SESSION_TOKEN`` environment variable
        instead (https://github.com/ansible-collections/amazon.aws/pull/1172).
      - amazon.aws collection - Support for the ``EC2_URL`` and ``S3_URL`` environment
        variables has been deprecated and will be removed in a release after 2024-12-01.  Please
        use the ``endpoint_url`` parameter or ``AWS_ENDPOINT_URL`` environment variable
        instead (https://github.com/ansible-collections/amazon.aws/pull/1172).
      - amazon.aws collection - The ``access_token`` alias for the ``session_token``
        parameter has been deprecated and will be removed in a release after 2024-12-01.  Please
        use the ``session_token`` name instead (https://github.com/ansible-collections/amazon.aws/pull/1172).
      - amazon.aws collection - The ``access_token`` alias for the ``session_token``
        parameter has been deprecated and will be removed in a release after 2024-12-01.  Please
        use the ``session_token`` name instead (https://github.com/ansible-collections/amazon.aws/pull/1172).
      - amazon.aws collection - The ``aws_security_token`` alias for the ``session_token``
        parameter has been deprecated and will be removed in a release after 2024-12-01.  Please
        use the ``session_token`` name instead (https://github.com/ansible-collections/amazon.aws/pull/1172).
      - amazon.aws collection - The ``ec2_access_key`` alias for the ``access_key``
        parameter has been deprecated and will be removed in a release after 2024-12-01.  Please
        use the ``access_key`` name instead (https://github.com/ansible-collections/amazon.aws/pull/1172).
      - amazon.aws collection - The ``ec2_region`` alias for the ``region`` parameter
        has been deprecated and will be removed in a release after 2024-12-01.  Please
        use the ``region`` name instead (https://github.com/ansible-collections/amazon.aws/pull/1172).
      - amazon.aws collection - The ``ec2_secret_key`` alias for the ``secret_key``
        parameter has been deprecated and will be removed in a release after 2024-12-01.  Please
        use the ``secret_key`` name instead (https://github.com/ansible-collections/amazon.aws/pull/1172).
      - amazon.aws collection - The ``security_token`` alias for the ``session_token``
        parameter has been deprecated and will be removed in a release after 2024-12-01.  Please
        use the ``session_token`` name instead (https://github.com/ansible-collections/amazon.aws/pull/1172).
      - 'ec2_security_group - support for passing nested lists to ``cidr_ip`` and
        ``cidr_ipv6`` has been deprecated. Nested lists can be passed through the
        ``flatten`` filter instead ``cidr_ip: ''{{ my_cidrs | flatten }}''`` (https://github.com/ansible-collections/amazon.aws/pull/1213).'
      - module_utils.url - ``ansible_collections.amazon.aws.module_utils.urls`` is
        believed to be unused and has been deprecated and will be removed in release
        7.0.0.
      minor_changes:
      - amazon.aws collection - The ``aws_access_key`` parameter has been renamed
        to ``access_key``, ``access_key`` was previously an alias for this parameter
        and ``aws_access_key`` remains as an alias.  This change should have no observable
        effect for users outside the module/plugin documentation. (https://github.com/ansible-collections/amazon.aws/pull/1172).
      - amazon.aws collection - The ``aws_secret_key`` parameter has been renamed
        to ``secret_key``, ``secret_key`` was previously an alias for this parameter
        and ``aws_secret_key`` remains as an alias.  This change should have no observable
        effect for users outside the module/plugin documentation. (https://github.com/ansible-collections/amazon.aws/pull/1172).
      - amazon.aws collection - The ``security_token`` parameter has been renamed
        to ``session_token``, ``security_token`` was previously an alias for this
        parameter and ``security_token`` remains as an alias.  This change should
        have no observable effect for users outside the module/plugin documentation.
        (https://github.com/ansible-collections/amazon.aws/pull/1172).
      - aws_account_attribute lookup plugin - use ``missing_required_lib`` for more
        consistent error message when boto3/botocore is not available (https://github.com/ansible-collections/amazon.aws/pull/1152).
      - aws_ec2 inventory - minor linting fixes (https://github.com/ansible-collections/amazon.aws/pull/1181).
      - aws_ec2 inventory plugin - use ``missing_required_lib`` for more consistent
        error message when boto3/botocore is not available (https://github.com/ansible-collections/amazon.aws/pull/1152).
      - aws_rds inventory plugin - use ``missing_required_lib`` for more consistent
        error message when boto3/botocore is not available (https://github.com/ansible-collections/amazon.aws/pull/1152).
      - aws_secret lookup plugin - use ``missing_required_lib`` for more consistent
        error message when boto3/botocore is not available (https://github.com/ansible-collections/amazon.aws/pull/1152).
      - aws_ssm lookup plugin - use ``missing_required_lib`` for more consistent error
        message when boto3/botocore is not available (https://github.com/ansible-collections/amazon.aws/pull/1152).
      - ec2_instance - minor fix for launching an instance in specified AZ when ``vpc_subnet_id``
        is not provided (https://github.com/ansible-collections/amazon.aws/pull/1150).
      - ec2_instance - refacter ``tower_callback`` code to handle parameter validation
        as part of the argument specification (https://github.com/ansible-collections/amazon.aws/pull/1199).
      - ec2_instance - the ``instance_role`` parameter has been renamed to ``iam_instance_profile``
        to better reflect what it is, ``instance_role`` remains as an alias (https://github.com/ansible-collections/amazon.aws/pull/1151).
      - ec2_instance - the ``tower_callback`` parameter has been renamed to ``aap_callback``,
        ``tower_callback`` remains as an alias.  This change should have no observable
        effect for users outside the module documentation (https://github.com/ansible-collections/amazon.aws/pull/1199).
      - s3_object_info - minor linting fixes (https://github.com/ansible-collections/amazon.aws/pull/1181).
      release_summary: This release brings some minor changes, bugfixes, security
        fixes and deprecated features.
      security_fixes:
      - ec2_instance - fixes leak of password into logs when using ``tower_callback.windows=True``
        and ``tower_callback.set_password`` (https://github.com/ansible-collections/amazon.aws/pull/1199).
    fragments:
    - 1148-build_run_instance_spec.yml
    - 1150-ec2_instance-fix-instance-creation-in-az.yml
    - 1152-missing-botocore.yml
    - 1163-map_complex_type.yml
    - 1172-credentials_parameters.yml
    - 1181-stable-5-linting.yml
    - 20221010-test-times.yml
    - 20221021-ec2_instance-tower_callback.yml
    - 20221026-pytest-forked.yml
    - 20221027-ec2_security_group-nested.yml
    - DEPRECATE-module_utils-urls.yml
    - summary.yml
    - version_added-5.yml
    - workflows-add-intersphinx.yml
    release_date: '2022-10-28'
  5.2.0:
    changes:
      bugfixes:
      - aws_rds - fixes bug in RDS inventory plugin where config file was ignored
        (https://github.com/ansible-collections/amazon.aws/issues/1304).
      - lambda - fix flaky integration test which assumes there are no other lambdas
        in the account (https://github.com/ansible-collections/amazon.aws/issues/1277)
      minor_changes:
      - amazon.aws collection - refacterization of code to use argument specification
        ``fallback`` when falling back to environment variables for security credentials
        and AWS connection details (https://github.com/ansible-collections/amazon.aws/pull/1174).
      - rds_instance - Split up the integration test-suite in a series of smaller
        tests (https://github.com/ansible-collections/amazon.aws/pull/1185).
      - rds_instance - add support for gp3 storage type (https://github.com/ansible-collections/amazon.aws/pull/1266).
      release_summary: 'A minor release containing bugfixes for the ``ec2_eni_info``
        module and the ``aws_rds`` inventory plugin, as well as improvements to the
        ``rds_instance`` module.

        '
    fragments:
    - 1174-module_params.yml
    - 1266-rds_instance_gp3_support.yaml
    - 1277-lambda-int-test-other-lambdas.yml
    - 1283-aws_ec2_inventory_compose_doc_examples.yml
    - 1304-aws_rds-config.yml
    - 20230103-sanity-ec2_eni_info.yml
    - 20230106-ec2_vol.yml
    - integration_tests_max_duration_increase.yaml
    - rds_instance_split_the_integration_test-suite.yaml
    - rds_mariadb_version-10.6.10.yml
    - release.yml
    release_date: '2023-01-24'
  5.3.0:
    changes:
      bugfixes:
      - cloudtrail - support to disabling encryption using ``kms_key_id`` (https://github.com/ansible-collections/amazon.aws/pull/1384).
      - ec2_key - fix issue when trying to update existing key pair with the same
        key material (https://github.com/ansible-collections/amazon.aws/pull/1383).
      - module_utils/elbv2 - fix change detection by adding default values for ``Scope``
        and ``SessionTimeout`` parameters in ``authenticate-oidc`` rules (https://github.com/ansible-collections/amazon.aws/pull/1270).
      - module_utils/elbv2 - respect ``UseExistingClientSecret`` parameter in ``authenticate-oidc``
        rules (https://github.com/ansible-collections/amazon.aws/pull/1270).
      - revert breaking change introduced in 5.2.0 when passing credentials through
        a mix of environment variables and parameters (https://github.com/ansible-collections/amazon.aws/issues/1353).
      - s3_bucket - empty bucket policy was throwing a JSONDecodeError - deal with
        it gracefully instead (https://github.com/ansible-collections/amazon.aws/pull/1368)
      deprecated_features:
      - support for passing both profile and security tokens through a mix of environment
        variables and parameters has been deprecated and support will be removed in
        release 6.0.0. After release 6.0.0 it will only be possible to pass either
        a profile or security tokens, regardless of mechanism used to pass them.  To
        explicitly block a parameter coming from an environment variable pass an empty
        string as the parameter value.  Support for passing profile and security tokens
        together was originally deprecated in release 1.2.0, however only partially
        implemented in release 5.0.0 (https://github.com/ansible-collections/amazon.aws/pull/1355).
      minor_changes:
      - ec2_instance - more consistently return ``instances`` information (https://github.com/ansible-collections/amazon.aws/pull/964).
      - ec2_instance - remove unused import (https://github.com/ansible-collections/amazon.aws/pull/1350).
      - ec2_key - Add unit-tests coverage (https://github.com/ansible-collections/amazon.aws/pull/1288).
      - ec2_vpc_nat_gateway - ensure allocation_id is defined before potential access
        (https://github.com/ansible-collections/amazon.aws/pull/1350).
      - route53_zone - added support for associating multiple VPCs to route53 hosted
        zones (https://github.com/ansible-collections/amazon.aws/pull/1300).
      - s3_bucket - add option to support creation of buckets with object lock enabled
        (https://github.com/ansible-collections/amazon.aws/pull/1372).
      release_summary: This release brings some minor changes, bugfixes, and deprecated
        features.
    fragments:
    - 1226-defaults.yml
    - 1270-elbv2-fixes.yml
    - 1299-route53_zone-multi-vpc.yml
    - 1347-s3-object-lock-enabled.yml
    - 1353-revert-env-fallback.yml
    - 1357-subnet-example.yml
    - 1368-empty_bucket_policy.yml
    - 1383-ec2_key-fix-idempotency-issue-when-creating-existing-key-with-same-key-material.yaml
    - 1384-cloudtrail-disable_encryption.yml
    - 1395-s3-encryption.yml
    - 1400-typo.yml
    - 20230204-sanity.yml
    - 20230220-inventory_docs_ec2_aws.yml
    - 389-ssm_parameter-versioned_test.yml
    - 964-ec2_instance-return-instances.yml
    - release_summary.yml
    - unit-tests_test_ec2_key_only.yaml
    release_date: '2023-03-05'
  5.4.0:
    changes:
      bugfixes:
      - ec2_metadata_facts - fix ``AttributeError`` when running the ec2_metadata_facts
        module on Python 2 managed nodes (https://github.com/ansible-collections/amazon.aws/issues/1358).
      - ec2_vol - handle ec2_vol.tags when the associated instance already exists
        (https://github.com/ansible-collections/amazon.aws/pull/1071).
      - rds_instance - Fixed ``TypeError`` when tagging RDS DB with storage type ``gp3``
        (https://github.com/ansible-collections/amazon.aws/pull/1437).
      - route53_info - Add new return key ``health_check_observations`` for health
        check operations (https://github.com/ansible-collections/amazon.aws/pull/1419).
      - route53_info - Fixed ``Key Error`` when getting status or failure_reason of
        a health check (https://github.com/ansible-collections/amazon.aws/pull/1419).
      minor_changes:
      - ec2_spot_instance - add parameter ``terminate_instances`` to support terminate
        instances associated with spot requests. (https://github.com/ansible-collections/amazon.aws/pull/1402).
      - route53_health_check -  added support for enabling Latency graphs (MeasureLatency)
        during creation of a Route53 Health Check. (https://github.com/ansible-collections/amazon.aws/pull/1201).
      release_summary: This minor release brings bugfixes and minor new features.
    fragments:
    - 1071-ec2_vol_tags_idempotent.yaml
    - 1201-route53_health_check-add-support-for-latency-graphs.yml
    - 1358-ec2_metadata_facts.yml
    - 1402-ec2_spot_instance-ability-to-terminate-instances.yml
    - 1419-route53_info-fix-keyerror-for-healthcheck-operations.yml
    - 1437-rds_instance-gp3-tagging-bugfix.yml
    - 5.4.0-release.yml
    - 5.4.0-route53_health_check.yml
    release_date: '2023-03-27'
  5.5.0:
    changes:
      bugfixes:
      - cloudwatch_metric_alarm - Don't consider ``StateTransitionedTimestamp`` in
        change detection. (https://github.com/ansible-collections/amazon.aws/pull/1440).
      - ec2_instance - Pick up ``app_callback -> set_password`` rather than ``app_callback
        -> set_passwd`` (https://github.com/ansible-collections/amazon.aws/issues/1449).
      - lambda_info - Do not convert environment variables to snake_case when querying
        lambda config. (https://github.com/ansible-collections/amazon.aws/pull/1457).
      - rds_instance - fix type of ``promotion_tier`` as passed to the APIs (https://github.com/ansible-collections/amazon.aws/pull/1475).
      minor_changes:
      - Add connectivity_type to ec2_vpc_nat_gateway module (https://github.com/ansible-collections/amazon.aws/pull/1267).
      - cloudwatch - Add metrics and extended_statistic keys to cloudwatch module
        (https://github.com/ansible-collections/amazon.aws/pull/1133).
      - ec2_ami - add support for BootMode, TpmSupport, UefiData params (https://github.com/ansible-collections/amazon.aws/pull/1037).
      - ec2_metadata_facts - added support to query instance tags in metadata (https://github.com/ansible-collections/amazon.aws/pull/1186).
      - kms_key - Add multi_region option to create_key (https://github.com/ansible-collections/amazon.aws/pull/1290).
      - lambda -  add support for function layers when creating or updating lambda
        function (https://github.com/ansible-collections/amazon.aws/pull/1118).
      - lambda_event -  Added support to set FunctionResponseTypes when creating lambda
        event source mappings (https://github.com/ansible-collections/amazon.aws/pull/1209).
      - module_utils/elbv2 - removed compatibility code for ``botocore < 1.10.30``
        (https://github.com/ansible-collections/amazon.aws/pull/1477).
      - rds_cluster - New ``engine_mode`` parameter (https://github.com/ansible-collections/amazon.aws/pull/941).
      - rds_cluster - add new options (e.g., ``db_cluster_instance_class``, ``allocated_storage``,
        ``storage_type``, ``iops``) (https://github.com/ansible-collections/amazon.aws/pull/1191).
      - rds_cluster - update list of supported engines with ``mysql`` and ``postgres``
        (https://github.com/ansible-collections/amazon.aws/pull/1191).
      - s3_bucket - ensure ``public_access`` is configured before updating policies
        (https://github.com/ansible-collections/amazon.aws/pull/1511).
      release_summary: 'This release contains a number of bugfixes, new features and
        new modules.  This is the last planned minor release prior to the release
        of version 6.0.0.

        '
    fragments:
    - 1037-ec2_ami-add-support-for-boot_mode-tpm_support-uefi_data.yml
    - 1133-add_metrics_cloudwatch.yml
    - 1186-ec2_metadata_facts-query-instance-metadata-tags.yml
    - 1191-rds_cluster-new_options.yml
    - 1209-lambda_event-add-support-for-function_response_types.yml
    - 1258-ec2_instance.yml
    - 1267-ec2_vpc_nat_gateway_connectivitytype.yml
    - 1290-create_multi_region_key.yml
    - 1440-cloudwatch_metric_alarm-fix-change-detection.yml
    - 1457-lambda_info-fix-env-var-in-output.yml
    - 1474-ec2_vol.yml
    - 1475-rds_instance-promotion-tier.yml
    - 1477-elbv2-botocore.yml
    - 1505-ec2_instance_test_fixes.yml
    - 1511-s3_bucket-public_access.yml
    - 20230424-ec2_instance-app_callback.yml
    - 20230502-rds_cluster-engine.yml
    - 20230503-rds_cluster-engine-rds_cluster_snapshot.yml
    - fix_version_added.yml
    - lambda-add-support-for-layers.yml
    - rds_cluster_engine_mode.yaml
    - release-summary.yml
    modules:
    - description: Creates an AWS Lambda layer or deletes an AWS Lambda layer version
      name: lambda_layer
      namespace: ''
    - description: List lambda layer or lambda layer versions
      name: lambda_layer_info
      namespace: ''
    release_date: '2023-05-04'
  6.0.0:
    changes:
      breaking_changes:
      - The amazon.aws collection has dropped support for ``botocore<1.25.0`` and
        ``boto3<1.22.0``. Most modules will continue to work with older versions of
        the AWS SDK, however compatibility with older versions of the SDK is not guaranteed
        and will not be tested. When using older versions of the SDK a warning will
        be emitted by Ansible (https://github.com/ansible-collections/amazon.aws/pull/1342).
      - amazon.aws - compatibility code for Python < 3.6 has been removed (https://github.com/ansible-collections/amazon.aws/pull/1257).
      - ec2_eip - the previously deprecated ``instance_id`` alias for the ``device_id``
        parameter has been removed. Please use the ``device_id`` parameter name instead
        (https://github.com/ansible-collections/amazon.aws/issues/1176).
      - ec2_instance - the default value for ``instance_type`` has been removed. At
        least one of ``instance_type`` or ``launch_template`` must be specified when
        launching new instances (https://github.com/ansible-collections/amazon.aws/pull/1315).
      - ec2_vpc_dhcp_options - the ``new_options`` return value has been deprecated
        after being renamed to ``dhcp_config``.  Please use the ``dhcp_config`` or
        ``dhcp_options`` return values (https://github.com/ansible-collections/amazon.aws/pull/1327).
      - ec2_vpc_endpoint - the ``policy_file`` parameter has been removed.  I(policy)
        with a file lookup can be used instead (https://github.com/ansible-collections/amazon.aws/issues/1178).
      - ec2_vpc_net - the ``classic_link_enabled`` return value has been removed.
        Support for EC2 Classic networking was dropped by AWS (https://github.com/ansible-collections/amazon.aws/pull/1374).
      - ec2_vpc_net_info - the ``classic_link_dns_status`` return value has been removed.
        Support for EC2 Classic networking was dropped by AWS (https://github.com/ansible-collections/amazon.aws/pull/1374).
      - ec2_vpc_net_info - the ``classic_link_enabled`` return value has been removed.
        Support for EC2 Classic networking was dropped by AWS (https://github.com/ansible-collections/amazon.aws/pull/1374).
      - module_utils.cloud - the previously deprecated ``CloudRetry.backoff`` has
        been removed. Please use ``CloudRetry.exponential_backoff`` or ``CloudRetry.jittered_backoff``
        instead (https://github.com/ansible-collections/amazon.aws/issues/1110).
      bugfixes:
      - ec2_security_group - file included unreachable code. Fix now removes unreachable
        code by removing an inapproproate logic (https://github.com/ansible-collections/amazon.aws/pull/1348).
      - ec2_vpc_dhcp_option - retry ``describe_dhcp_options`` after creation when
        ``InvalidDhcpOptionID.NotFound`` is raised (https://github.com/ansible-collections/amazon.aws/pull/1320).
      - lambda_execute - Fix waiter error when function_arn is passed instead of name(https://github.com/ansible-collections/amazon.aws/issues/1268).
      - 'module_utils - fixes ``TypeError: deciding_wrapper() got multiple values
        for argument ''aws_retry''`` when passing positional arguments to functions
        wrapped by AnsibleAWSModule.client (https://github.com/ansible-collections/amazon.aws/pull/1230).'
      - rds_param_group - added a check to fail the task while modifying/updating
        rds_param_group if trying to change DB parameter group family. (https://github.com/ansible-collections/amazon.aws/pull/1169).
      - route53_health_check - Fix ``Name`` tag key removal idempotentcy issue when
        creating health_check with ``use_unique_names`` and ``tags`` set (https://github.com/ansible-collections/amazon.aws/pull/1253).
      - s3_bucket - Handle setting of permissions while acl is disabled.(https://github.com/ansible-collections/amazon.aws/pull/1168).
      deprecated_features:
      - amazon.aws collection - due to the AWS SDKs Python support policies (https://aws.amazon.com/blogs/developer/python-support-policy-updates-for-aws-sdks-and-tools/)
        support for Python less than 3.8 by this collection is expected to be removed
        in a release after 2024-12-01 (https://github.com/ansible-collections/amazon.aws/pull/1342).
      - amazon.aws collection - due to the AWS SDKs announcing the end of support
        for Python less than 3.7 (https://aws.amazon.com/blogs/developer/python-support-policy-updates-for-aws-sdks-and-tools/)
        support for Python less than 3.7 by this collection has been deprecated and
        will be removed in release 7.0.0. (https://github.com/ansible-collections/amazon.aws/pull/1342).
      - amazon.aws lookup plugins - the ``boto3_profile`` alias for the ``profile``
        option has been deprecated, please use ``profile`` instead (https://github.com/ansible-collections/amazon.aws/pull/1225).
      - docs_fragments - ``amazon.aws.aws_credentials`` docs fragment has been deprecated
        please use ``amazon.aws.common.plugins`` instead (https://github.com/ansible-collections/amazon.aws/pull/1248).
      - docs_fragments - ``amazon.aws.aws_region`` docs fragment has been deprecated
        please use ``amazon.aws.region.plugins`` instead (https://github.com/ansible-collections/amazon.aws/pull/1248).
      - docs_fragments - ``amazon.aws.aws`` docs fragment has been deprecated please
        use ``amazon.aws.common.modules`` instead (https://github.com/ansible-collections/amazon.aws/pull/1248).
      - docs_fragments - ``amazon.aws.ec2`` docs fragment has been deprecated please
        use ``amazon.aws.region.modules`` instead (https://github.com/ansible-collections/amazon.aws/pull/1248).
      - module_utils.policy - ``ansible_collections.amazon.aws.module_utils.policy.sort_json_policy_dict``
        has been deprecated consider using ``ansible_collections.amazon.aws.module_utils.poilcies.compare_policies``
        instead (https://github.com/ansible-collections/amazon.aws/pull/1136).
      - s3_object - Support for passing ``dualstack`` and ``endpoint_url`` at the
        same time has been deprecated, the ``dualstack`` parameter is ignored when
        ``endpoint_url`` is passed. Support will be removed in a release after 2024-12-01
        (https://github.com/ansible-collections/amazon.aws/pull/1305).
      - s3_object - Support for passing values of ``overwrite`` other than ``always``,
        ``never``, ``different`` or last ``last`` has been deprecated.  Boolean values
        should be replaced by the strings ``always`` or ``never`` Support will be
        removed in a release after 2024-12-01 (https://github.com/ansible-collections/amazon.aws/pull/1305).
      - s3_object_info - Support for passing ``dualstack`` and ``endpoint_url`` at
        the same time has been deprecated, the ``dualstack`` parameter is ignored
        when ``endpoint_url`` is passed. Support will be removed in a release after
        2024-12-01 (https://github.com/ansible-collections/amazon.aws/pull/1305).
      minor_changes:
      - Add github actions to run unit and sanity tests.(https://github.com/ansible-collections/amazon.aws/pull/1393).
      - AnsibleAWSModule - add support to the ``client`` and ``resource`` methods
        for overriding the default parameters (https://github.com/ansible-collections/amazon.aws/pull/1303).
      - CONTRIBUTING.md - refactors and adds to contributor documentation (https://github.com/ansible-collections/amazon.aws/issues/924)
      - Refactor inventory plugins and add aws_rds inventory unit tests (https://github.com/ansible-collections/amazon.aws/pull/1218).
      - Refactor module_utils/cloudfront_facts.py and add unit tests (https://github.com/ansible-collections/amazon.aws/pull/1265).
      - The ``black`` code formatter has been run across the collection to improve
        code consistency (https://github.com/ansible-collections/amazon.aws/pull/1465).
      - amazon.aws inventory plugins - additional refactorization of inventory plugin
        connection handling (https://github.com/ansible-collections/amazon.aws/pull/1271).
      - amazon.aws lookup plugins - ``aws_access_key`` has been renamed to ``access_key``
        for consistency between modules and plugins, ``aws_access_key`` remains as
        an alias. This change should have no observable effect for users outside the
        module/plugin documentation (https://github.com/ansible-collections/amazon.aws/pull/1225).
      - amazon.aws lookup plugins - ``aws_profile`` has been renamed to ``profile``
        for consistency between modules and plugins, ``aws_profile`` remains as an
        alias. This change should have no observable effect for users outside the
        module/plugin documentation (https://github.com/ansible-collections/amazon.aws/pull/1225).
      - amazon.aws lookup plugins - ``aws_secret_key`` has been renamed to ``secret_key``
        for consistency between modules and plugins, ``aws_secret_key`` remains as
        an alias. This change should have no observable effect for users outside the
        module/plugin documentation (https://github.com/ansible-collections/amazon.aws/pull/1225).
      - amazon.aws lookup plugins - ``aws_security_token`` has been renamed to ``session_token``
        for consistency between modules and plugins, ``aws_security_token`` remains
        as an alias. This change should have no observable effect for users outside
        the module/plugin documentation (https://github.com/ansible-collections/amazon.aws/pull/1225).
      - amazon.aws modules - bulk update of import statements following various refactors
        (https://github.com/ansible-collections/amazon.aws/pull/1310).
      - autoscaling_group - minor linting fixes (https://github.com/ansible-collections/amazon.aws/pull/1181).
      - aws_account_attribute - the ``aws_account_attribute`` lookup plugin has been
        refactored to use ``AWSLookupBase`` as its base class (https://github.com/ansible-collections/amazon.aws/pull/1225).
      - aws_ec2 inventory - minor linting fixes (https://github.com/ansible-collections/amazon.aws/pull/1181).
      - aws_secret - the ``aws_secret`` lookup plugin has been refactored to use ``AWSLookupBase``
        as its base class (https://github.com/ansible-collections/amazon.aws/pull/1225).
      - aws_secret - the ``aws_secret`` lookup plugin has been renamed ``secretsmanager_secret``,
        ``aws_secret`` remains as an alias (https://github.com/ansible-collections/amazon.aws/pull/1225).
      - aws_ssm - the ``aws_ssm`` lookup plugin has been refactored to use ``AWSLookupBase``
        as its base class (https://github.com/ansible-collections/amazon.aws/pull/1225).
      - aws_ssm - the ``aws_ssm`` lookup plugin has been renamed ``ssm_parameter``,
        ``aws_ssm`` remains as an alias (https://github.com/ansible-collections/amazon.aws/pull/1225).
      - backup - Add logic for backup_selection* modules (https://github.com/ansible-collections/amazon.aws/pull/1530).
      - bulk migration of ``%`` and ``.format()`` to fstrings (https://github.com/ansible-collections/amazon.aws/pull/1483).
      - cloud module_utils - minor linting fixes (https://github.com/ansible-collections/amazon.aws/pull/1181).
      - cloudtrail_info - minor linting fixes (https://github.com/ansible-collections/amazon.aws/pull/1181).
      - cloudwatchlogs_log_group - minor linting fixes (https://github.com/ansible-collections/amazon.aws/pull/1181).
      - docs_fragments - ``amazon.aws.boto3`` fragment now pulls the botocore version
        requirements from ``module_utils.botocore`` (https://github.com/ansible-collections/amazon.aws/pull/1248).
      - docs_fragments - common parameters for modules and plugins have been synchronised
        and moved to ``amazon.aws.common.modules`` and ``amazon.aws.common.plugins``
        (https://github.com/ansible-collections/amazon.aws/pull/1248).
      - docs_fragments - region parameters for modules and plugins have been synchronised
        and moved to ``amazon.aws.region.modules`` and ``amazon.aws.region.plugins``
        (https://github.com/ansible-collections/amazon.aws/pull/1248).
      - ec2_ami - Extend the unit-test coverage of the module (https://github.com/ansible-collections/amazon.aws/pull/1159).
      - ec2_ami - allow ``ImageAvailable`` waiter to retry when the image can't be
        found (https://github.com/ansible-collections/amazon.aws/pull/1321).
      - ec2_ami_info - Add unit-tests coverage (https://github.com/ansible-collections/amazon.aws/pull/1252).
      - ec2_eip - minor linting fixes (https://github.com/ansible-collections/amazon.aws/pull/1181).
      - ec2_eni_info - Add unit-tests coverage (https://github.com/ansible-collections/amazon.aws/pull/1236).
      - ec2_instance - avoid changing ``module.params`` (https://github.com/ansible-collections/amazon.aws/pull/1187).
      - ec2_instance - updated to avoid manipulating ``module.params`` (https://github.com/ansible-collections/amazon.aws/pull/1337).
      - ec2_security_group - added rule options to argument specifications to improve
        handling of inputs (https://github.com/ansible-collections/amazon.aws/pull/1214).
      - ec2_security_group - refacter ``get_target_from_rule()`` (https://github.com/ansible-collections/amazon.aws/pull/1221).
      - ec2_security_group - refactor rule expansion and add unit tests (https://github.com/ansible-collections/amazon.aws/pull/1261).
      - ec2_snapshot - Reenable the integration tests (https://github.com/ansible-collections/amazon.aws/pull/1235).
      - ec2_snapshot_info - Add unit-tests coverage (https://github.com/ansible-collections/amazon.aws/pull/1211).
      - ec2_vpc_route_table - add support for Carrier Gateway entry (https://github.com/ansible-collections/amazon.aws/pull/926).
      - ec2_vpc_subnet - retry fetching subnet details after creation if the first
        attempt fails (https://github.com/ansible-collections/amazon.aws/pull/1526).
      - inventory aws ec2 - add parameter ``use_ssm_inventory`` allowing to query
        ssm inventory information for configured EC2 instances and populate hostvars
        (https://github.com/ansible-collections/amazon.aws/issues/704).
      - inventory plugins - refactor cache handling (https://github.com/ansible-collections/amazon.aws/pull/1285).
      - inventory plugins - refactor file verification handling (https://github.com/ansible-collections/amazon.aws/pull/1285).
      - inventory_aws_ec2 integration tests - replace local module ``test_get_ssm_inventory``
        by ``community.aws.ssm_inventory_info`` (https://github.com/ansible-collections/amazon.aws/pull/1416).
      - kms_key_info - minor linting fixes (https://github.com/ansible-collections/amazon.aws/pull/1181).
      - lambda - minor linting fixes (https://github.com/ansible-collections/amazon.aws/pull/1181).
      - lambda - use common ``get_aws_account_info`` helper rather than reimplementing
        (https://github.com/ansible-collections/amazon.aws/pull/1181).
      - lambda_alias - refactored to avoid passing around the complex ``module`` resource
        (https://github.com/ansible-collections/amazon.aws/pull/1336).
      - lambda_alias - updated to avoid manipulating ``module.params`` (https://github.com/ansible-collections/amazon.aws/pull/1336).
      - lambda_execute - minor linting fixes (https://github.com/ansible-collections/amazon.aws/pull/1181).
      - lambda_info - updated to avoid manipulating ``module.params`` (https://github.com/ansible-collections/amazon.aws/pull/1336).
      - lambda_layer_info -  add support for parameter version_number to retrieve
        detailed information for a specific layer version (https://github.com/ansible-collections/amazon.aws/pull/1293).
      - module_utils - move RetryingBotoClientWrapper into module_utils.retries for
        reuse with other plugin types (https://github.com/ansible-collections/amazon.aws/pull/1230).
      - module_utils - move exceptions into dedicated python module (https://github.com/ansible-collections/amazon.aws/pull/1246).
      - module_utils - refacter botocore version validation into module_utils.botocore
        for future reuse (https://github.com/ansible-collections/amazon.aws/pull/1227).
      - module_utils.acm - Refactor ACMServiceManager class and add unit tests (https://github.com/ansible-collections/amazon.aws/pull/1273).
      - module_utils.botocore - Add Ansible AWS User-Agent identification (https://github.com/ansible-collections/amazon.aws/pull/1306).
      - module_utils.botocore - refactorization of ``get_aws_region``, ``get_aws_connection_info``
        so that the code can be reused by non-module plugins (https://github.com/ansible-collections/amazon.aws/pull/1231).
      - module_utils.policy - minor refacter of code to reduce complexity and improve
        test coverage (https://github.com/ansible-collections/amazon.aws/pull/1136).
      - module_utils.s3 - Refactor get_s3_connection into a module_utils for S3 modules
        and expand module_utils.s3 unit tests (https://github.com/ansible-collections/amazon.aws/pull/1139).
      - module_utils/botocore - added support to ``_boto3_conn`` for passing dictionaries
        of configuration (https://github.com/ansible-collections/amazon.aws/pull/1307).
      - plugin_utils - Added ``AWSConnectionBase`` to support refactoring connection
        plugins (https://github.com/ansible-collections/amazon.aws/pull/1340).
      - rds - AWS is phasing out aurora1. Integration tests use aurora2 (aurora-mysql)
        by default (https://github.com/ansible-collections/amazon.aws/pull/1233).
      - rds_cluster - Split up the functional tests in smaller targets (https://github.com/ansible-collections/amazon.aws/pull/1175).
      - rds_cluster_snapshot - minor linting fixes (https://github.com/ansible-collections/amazon.aws/pull/1181).
      - rds_instance - minor linting fixes (https://github.com/ansible-collections/amazon.aws/pull/1181).
      - rds_instance_info - Add unit-tests coverage (https://github.com/ansible-collections/amazon.aws/pull/1132).
      - rds_instance_snapshot - minor linting fixes (https://github.com/ansible-collections/amazon.aws/pull/1181).
      - rds_param_group - drop Python2 import fallbacks (https://github.com/ansible-collections/amazon.aws/pull/1513).
      - route53_health_check - Drop deprecation warning (https://github.com/ansible-collections/community.aws/pull/1335).
      - route53_health_check - minor fix for returning health check info while updating
        a Route53 health check (https://github.com/ansible-collections/amazon.aws/pull/1200).
      - route53_health_check - minor linting fixes (https://github.com/ansible-collections/amazon.aws/pull/1181).
      - route53_info - drop unused imports (https://github.com/ansible-collections/amazon.aws/pull/1462).
      - s3_bucket - add support for S3 dualstack endpoint (https://github.com/ansible-collections/amazon.aws/pull/1305).
      - s3_bucket - handle missing read permissions more gracefully when possible
        (https://github.com/ansible-collections/amazon.aws/pull/1406).
      - s3_bucket - refactor S3 connection code (https://github.com/ansible-collections/amazon.aws/pull/1305).
      - s3_object - refactor S3 connection code (https://github.com/ansible-collections/amazon.aws/pull/1305).
      - s3_object - refactor main to reduce complexity (https://github.com/ansible-collections/amazon.aws/pull/1193).
      - s3_object_info - minor linting fixes (https://github.com/ansible-collections/amazon.aws/pull/1181).
      - s3_object_info - refactor S3 connection code (https://github.com/ansible-collections/amazon.aws/pull/1305).
      release_summary: This release brings some new plugins and features. Several
        bugfixes, breaking changes and deprecated features are also included. The
        amazon.aws collection has dropped support for ``botocore<1.25.0`` and ``boto3<1.22.0``.
        Support for Python 3.6 has also been dropped.
      removed_features:
      - ec2_vpc_endpoint_info - support for the ``query`` parameter was removed. The
        ``amazon.aws.ec2_vpc_endpoint_info`` module now only queries for endpoints.
        Services can be queried using the ``amazon.aws.ec2_vpc_endpoint_service_info``
        module (https://github.com/ansible-collections/amazon.aws/pull/1308).
      - s3_object - support for creating and deleting buckets using the ``s3_object``
        module has been removed. S3 buckets can be created and deleted using the ``amazon.aws.s3_bucket``
        module (https://github.com/ansible-collections/amazon.aws/issues/1112).
    fragments:
    - 1108-main-6.0.0.yml
    - 1110-deprecation-complete-cloudretry-backoff.yml
    - 1112-s3_object-delete-create.yml
    - 1136-DEPRECATE-sort_json_policy_dict.yml
    - 1168-s3_bucket_acl_disabled.yml
    - 1169-rds_param_group-fail-on-updating-engine.yml
    - 1180-december-deprecations.yml
    - 1181-linting.yml
    - 1187-ec2_instance.yml
    - 1193-s3_object_refactor.yaml
    - 1200-route53_health_check-return-health-check-info-on-updating.yml
    - 1221-ec2_security_group.yml
    - 1222-route53_health_check-bump-up-version_added.yml
    - 1225-refacter-lookup.yml
    - 1227-refacter-sdk-versions.yml
    - 1230-move-RetryingBotoClientWrapper.yml
    - 1231-boto3_connections.yml
    - 1248-docs.yml
    - 1253-route53_health_check-fix-name-tag-key-removal-idempotentcy-issue.yml
    - 1255-async-tests.yml
    - 1256-ec2_instance-running.yml
    - 1257-python2-compat.yml
    - 1258-slow.yml
    - 1268-lambda-execute-arn.yml
    - 1269-inventory_tests.yml
    - 1271-inventory-connections.yml
    - 1276-gitignore-inventory.yml
    - 1285-inventory-refactor.yml
    - 1303-client-override.yml
    - 1305-s3-refactor.yml
    - 1307-botocore-configs.yml
    - 1308-ec2_vpc_endpoint_info-query.yml
    - 1310-imports.yml
    - 1315-ec2_instance-instance_type.yml
    - 1320-ec2_vpc_dhcp_options-retrys.yaml
    - 1321-ec2_ami.yaml
    - 1327-ec2_vpc_dhcp_options.yml
    - 1335-route53_health_check-rescind-deprecation-message.yml
    - 1336-lambda-module_params.yml
    - 1337-ec2_instance.yml
    - 1348-remove-unreachable-code.yml
    - 1352-s3-limited-permissions.yml
    - 1369-inventory_aws_ec2-add-support-for-ssm-inventory.yml
    - 1374-get_classic_link_status.yml
    - 1375-lint.yml
    - 1382-docs.yml
    - 1394-lint.yml
    - 1427-backup_tag-and_backup_tag_info-add-new-module.yml
    - 1435-backup_restore_job_info-add-new-module.yml
    - 1446-backup_plan-add-new-module.yml
    - 1448-replace-pycrypto.yml
    - 1462-sanity.yml
    - 1465-black.yml
    - 20221013-reenable-ec2_vpc_endpoint-tests.yml
    - 20221024-ec2_eip-instance_id.yml
    - 20221024-ec2_vpc_endpoint.yml
    - 20221026-ec2_eip-instance_id-followup.yml
    - 20221027-ec2_security_group-arg_spec.yml
    - 20221103-ec2_security_group_-1.yml
    - 20221103-tests.yml
    - 20221104-exceptions.yml
    - 20221107-metadata_test.yml
    - 20221110-security_group.yml
    - 20221124-docs-cleanup.yml
    - 20230105-ec2_snapshot.yml
    - 20230109-ec2_vpc_route_table.yml
    - 20230306-headers.yml
    - 20230423-update_readme_and_runtime.yml
    - 20230502-rds_cluster-engine_version.yml
    - 20230502-s3_object-permission.yml
    - 924-contributing-docs.yml
    - 926-ec2_vpc_route_table.yml
    - add_github_actions_unitandsanity.yml
    - add_linters_to_tox.yml
    - aws_collection_constants.yml
    - backup_add_backup_selections_logic.yml
    - backup_resource.yml
    - backup_selection-return_snake_case.yml
    - botocore-add-custom-user-agent.yaml
    - ec2_ami_test-coverage.yaml
    - ec2_snapshot_reenable_the_integration_tests.yaml
    - ec2_snapshot_tests_improve_reliability.yaml
    - endpoint.yml
    - fstring-1.yml
    - fstring-2.yml
    - fstring-3.yml
    - fstring-4.yml
    - fstring-ec2_inv.yml
    - inventory_aws_ec2_update.yml
    - lambda_layer_info-add-parameter-layer_version.yml
    - module_utils_acm-unit-testing.yml
    - module_utils_cloudfront_facts_unit_tests.yml
    - module_utils_s3-unit-testing.yml
    - python37.yml
    - rds_cluster_split_functional_tests.yaml
    - rds_instance_disable_aurora_integration_tests.yaml
    - rds_use_aurora2_during_the_integration_tests.yaml
    - refactor_connection_plugins.yml
    - refactor_inventory_plugins.yml
    - release-6-botocore.yml
    - release_summary.yml
    - remove-tests-integration-inventory-file.yml
    - rename-cleanup-tests.yml
    - unit-tests-tagging.yml
    - unit-tests_test_ec2_ami_info_only.yaml
    - unit-tests_test_ec2_eni_info_only.yaml
    - unit-tests_test_ec2_snapshot_info_only.yaml
    - unit-tests_test_rds_instance_info_only.yaml
    - use_ec2_ami_to_test_ec2_snapshot_info.yaml
    modules:
    - description: Manage AWS Backup Plans
      name: backup_plan
      namespace: ''
    - description: Describe AWS Backup Plans
      name: backup_plan_info
      namespace: ''
    - description: List information about backup restore jobs
      name: backup_restore_job_info
      namespace: ''
    - description: Create, delete and modify AWS Backup selection
      name: backup_selection
      namespace: ''
    - description: Describe AWS Backup Selections
      name: backup_selection_info
      namespace: ''
    - description: Manage tags on backup plan, backup vault, recovery point
      name: backup_tag
      namespace: ''
    - description: List tags on AWS Backup resources
      name: backup_tag_info
      namespace: ''
    - description: Manage AWS Backup Vaults
      name: backup_vault
      namespace: ''
    - description: Describe AWS Backup Vaults
      name: backup_vault_info
      namespace: ''
    plugins:
      lookup:
      - description: expose various collection related constants
        name: aws_collection_constants
        namespace: null
    release_date: '2023-05-09'
  6.0.1:
    changes:
      bugfixes:
      - aws_ec2 inventory plugin - fix ``NoRegionError`` when no regions are provided
        and region isn't specified (https://github.com/ansible-collections/amazon.aws/issues/1551).
      - s3_bucket - fixes issue when deleting a bucket with unversioned objects (https://github.com/ansible-collections/amazon.aws/issues/1533).
      - s3_object - fixes regression related to objects with a leading ``/`` (https://github.com/ansible-collections/amazon.aws/issues/1548).
      release_summary: This is a patch release that includes some bug fixes for the
        aws_ec2 inventory plugin and the s3_bucket and s3_object modules.
    fragments:
    - 1538-s3-null.yml
    - 1548-s3_object-leading-slash.yml
    - 1551-ec2_inventory-no-region.yml
    - 1560-revert_1546.yml
    - release_summary.yml
    release_date: '2023-05-19'
