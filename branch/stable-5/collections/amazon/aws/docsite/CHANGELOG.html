<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>amazon.aws Release Notes &mdash; Ansible collections  documentation</title>
      <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/ansible.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/antsibull-minimal.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/rtd-ethical-ads.css" type="text/css" />
    <link rel="shortcut icon" href="../../../../_static/images/Ansible-Mark-RGB_Black.png"/>
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/doctools.js"></script>
        <script src="../../../../_static/sphinx_highlight.js"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="Amazon Web Services Guide" href="guide_aws.html" />
    <link rel="prev" title="Amazon.Aws" href="../index.html" /><!-- extra head elements for Ansible beyond RTD Sphinx Theme -->




</head>

<body class="wy-body-for-nav"><!-- extra body elements for Ansible beyond RTD Sphinx Theme -->

<div class="DocSite-globalNav ansibleNav">
  <ul>
    <li><a href="https://www.ansible.com/ansiblefest" target="_blank">AnsibleFest</a></li>
    <li><a href="https://www.ansible.com/tower" target="_blank">Products</a></li>
    <li><a href="https://www.ansible.com/community" target="_blank">Community</a></li>
    <li><a href="https://www.ansible.com/webinars-training" target="_blank">Webinars & Training</a></li>
    <li><a href="https://www.ansible.com/blog" target="_blank">Blog</a></li>
  </ul>
</div>

<a class="DocSite-nav" href="/" style="padding-bottom: 30px;">

  <img class="DocSiteNav-logo"
    src="../../../../_static/images/Ansible-Mark-RGB_White.png"
    alt="Ansible Logo">
  <div class="DocSiteNav-title">Ansible Collections Documentation</div>
</a>
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../../index.html" class="icon icon-home">
            Ansible collections
          </a><!--- Based on https://github.com/rtfd/sphinx_rtd_theme/pull/438/files -->

<div class="version">
  
    
  
</div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <label class="sr-only" for="q">Search docs:</label>
    <input type="text" class="st-default-search-input" id="q" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
  
              <p class="caption" role="heading"><span class="caption-text">Collections:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../../index.html">Collection Index</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../../index.html">Collections in the Amazon Namespace</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../index.html">Amazon.Aws</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../index.html#description">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../index.html#communication">Communication</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="../index.html#changelog">Changelog</a></li>
<li class="toctree-l4"><a class="reference internal" href="../index.html#scenario-guide">Scenario Guide</a></li>
<li class="toctree-l4"><a class="reference internal" href="../index.html#module-development-guidelines">Module Development Guidelines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../index.html#dynamic-inventory-plugin-guide">Dynamic Inventory Plugin Guide</a></li>
<li class="toctree-l4"><a class="reference internal" href="../index.html#plugin-index">Plugin Index</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Plugin indexes:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../index_callback.html">Index of all Callback Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../index_inventory.html">Index of all Inventory Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../index_lookup.html">Index of all Lookup Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../index_module.html">Index of all Modules</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference indexes:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../environment_variables.html">Index of all Collection Environment Variables</a></li>
</ul>
<!-- extra nav elements for Ansible beyond RTD Sphinx Theme -->

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">Ansible collections</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../index.html">Collection Index</a></li>
          <li class="breadcrumb-item"><a href="../../index.html">Collections in the Amazon Namespace</a></li>
          <li class="breadcrumb-item"><a href="../index.html">Amazon.Aws</a></li>
      <li class="breadcrumb-item active">amazon.aws Release Notes</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">

  
           <div itemprop="articleBody">
             
  <section id="amazon-aws-release-notes">
<h1><a class="toc-backref" href="#id71" role="doc-backlink">amazon.aws Release Notes</a><a class="headerlink" href="#amazon-aws-release-notes" title="Permalink to this heading"></a></h1>
<nav class="contents" id="topics">
<p class="topic-title">Topics</p>
<ul class="simple">
<li><p><a class="reference internal" href="#amazon-aws-release-notes" id="id71">amazon.aws Release Notes</a></p>
<ul>
<li><p><a class="reference internal" href="#v5-3-0" id="id72">v5.3.0</a></p>
<ul>
<li><p><a class="reference internal" href="#release-summary" id="id73">Release Summary</a></p></li>
<li><p><a class="reference internal" href="#minor-changes" id="id74">Minor Changes</a></p></li>
<li><p><a class="reference internal" href="#deprecated-features" id="id75">Deprecated Features</a></p></li>
<li><p><a class="reference internal" href="#bugfixes" id="id76">Bugfixes</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#v5-2-0" id="id77">v5.2.0</a></p>
<ul>
<li><p><a class="reference internal" href="#id1" id="id78">Release Summary</a></p></li>
<li><p><a class="reference internal" href="#id2" id="id79">Minor Changes</a></p></li>
<li><p><a class="reference internal" href="#id3" id="id80">Bugfixes</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#v5-1-0" id="id81">v5.1.0</a></p>
<ul>
<li><p><a class="reference internal" href="#id4" id="id82">Release Summary</a></p></li>
<li><p><a class="reference internal" href="#id5" id="id83">Minor Changes</a></p></li>
<li><p><a class="reference internal" href="#id6" id="id84">Deprecated Features</a></p></li>
<li><p><a class="reference internal" href="#security-fixes" id="id85">Security Fixes</a></p></li>
<li><p><a class="reference internal" href="#id7" id="id86">Bugfixes</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#v5-0-2" id="id87">v5.0.2</a></p>
<ul>
<li><p><a class="reference internal" href="#id8" id="id88">Bugfixes</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#v5-0-1" id="id89">v5.0.1</a></p>
<ul>
<li><p><a class="reference internal" href="#id9" id="id90">Bugfixes</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#v5-0-0" id="id91">v5.0.0</a></p>
<ul>
<li><p><a class="reference internal" href="#id10" id="id92">Release Summary</a></p></li>
<li><p><a class="reference internal" href="#major-changes" id="id93">Major Changes</a></p></li>
<li><p><a class="reference internal" href="#id11" id="id94">Minor Changes</a></p></li>
<li><p><a class="reference internal" href="#breaking-changes-porting-guide" id="id95">Breaking Changes / Porting Guide</a></p></li>
<li><p><a class="reference internal" href="#id12" id="id96">Deprecated Features</a></p></li>
<li><p><a class="reference internal" href="#id13" id="id97">Bugfixes</a></p></li>
<li><p><a class="reference internal" href="#new-modules" id="id98">New Modules</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#v4-3-0" id="id99">v4.3.0</a></p>
<ul>
<li><p><a class="reference internal" href="#id14" id="id100">Release Summary</a></p></li>
<li><p><a class="reference internal" href="#id15" id="id101">Minor Changes</a></p></li>
<li><p><a class="reference internal" href="#id16" id="id102">Bugfixes</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#v4-2-0" id="id103">v4.2.0</a></p>
<ul>
<li><p><a class="reference internal" href="#id17" id="id104">Minor Changes</a></p></li>
<li><p><a class="reference internal" href="#id18" id="id105">Deprecated Features</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#v4-1-0" id="id106">v4.1.0</a></p>
<ul>
<li><p><a class="reference internal" href="#id19" id="id107">Minor Changes</a></p></li>
<li><p><a class="reference internal" href="#id20" id="id108">Deprecated Features</a></p></li>
<li><p><a class="reference internal" href="#id21" id="id109">Bugfixes</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#v4-0-0" id="id110">v4.0.0</a></p>
<ul>
<li><p><a class="reference internal" href="#id22" id="id111">Major Changes</a></p></li>
<li><p><a class="reference internal" href="#id23" id="id112">Minor Changes</a></p></li>
<li><p><a class="reference internal" href="#id24" id="id113">Breaking Changes / Porting Guide</a></p></li>
<li><p><a class="reference internal" href="#id25" id="id114">Deprecated Features</a></p></li>
<li><p><a class="reference internal" href="#removed-features-previously-deprecated" id="id115">Removed Features (previously deprecated)</a></p></li>
<li><p><a class="reference internal" href="#id26" id="id116">Bugfixes</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#v3-5-0" id="id117">v3.5.0</a></p>
<ul>
<li><p><a class="reference internal" href="#id27" id="id118">Release Summary</a></p></li>
<li><p><a class="reference internal" href="#id28" id="id119">Minor Changes</a></p></li>
<li><p><a class="reference internal" href="#id29" id="id120">Bugfixes</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#v3-4-0" id="id121">v3.4.0</a></p>
<ul>
<li><p><a class="reference internal" href="#id30" id="id122">Minor Changes</a></p></li>
<li><p><a class="reference internal" href="#id31" id="id123">Bugfixes</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#v3-3-1" id="id124">v3.3.1</a></p></li>
<li><p><a class="reference internal" href="#v3-3-0" id="id125">v3.3.0</a></p>
<ul>
<li><p><a class="reference internal" href="#id32" id="id126">Minor Changes</a></p></li>
<li><p><a class="reference internal" href="#id33" id="id127">Bugfixes</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#v3-2-0" id="id128">v3.2.0</a></p>
<ul>
<li><p><a class="reference internal" href="#id34" id="id129">Minor Changes</a></p></li>
<li><p><a class="reference internal" href="#id35" id="id130">Bugfixes</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#v3-1-1" id="id131">v3.1.1</a></p>
<ul>
<li><p><a class="reference internal" href="#id36" id="id132">Minor Changes</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#v3-1-0" id="id133">v3.1.0</a></p>
<ul>
<li><p><a class="reference internal" href="#id37" id="id134">Minor Changes</a></p></li>
<li><p><a class="reference internal" href="#id38" id="id135">Deprecated Features</a></p></li>
<li><p><a class="reference internal" href="#id39" id="id136">Bugfixes</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#v3-0-0" id="id137">v3.0.0</a></p>
<ul>
<li><p><a class="reference internal" href="#id40" id="id138">Major Changes</a></p></li>
<li><p><a class="reference internal" href="#id41" id="id139">Minor Changes</a></p></li>
<li><p><a class="reference internal" href="#id42" id="id140">Breaking Changes / Porting Guide</a></p></li>
<li><p><a class="reference internal" href="#id43" id="id141">Deprecated Features</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#v2-2-0" id="id142">v2.2.0</a></p>
<ul>
<li><p><a class="reference internal" href="#id44" id="id143">Minor Changes</a></p></li>
<li><p><a class="reference internal" href="#id45" id="id144">Bugfixes</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#v2-1-0" id="id145">v2.1.0</a></p>
<ul>
<li><p><a class="reference internal" href="#id46" id="id146">Minor Changes</a></p></li>
<li><p><a class="reference internal" href="#id47" id="id147">Deprecated Features</a></p></li>
<li><p><a class="reference internal" href="#id48" id="id148">Bugfixes</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#v2-0-0" id="id149">v2.0.0</a></p>
<ul>
<li><p><a class="reference internal" href="#id49" id="id150">Major Changes</a></p></li>
<li><p><a class="reference internal" href="#id50" id="id151">Minor Changes</a></p></li>
<li><p><a class="reference internal" href="#id51" id="id152">Breaking Changes / Porting Guide</a></p></li>
<li><p><a class="reference internal" href="#id52" id="id153">Deprecated Features</a></p></li>
<li><p><a class="reference internal" href="#id53" id="id154">Bugfixes</a></p></li>
<li><p><a class="reference internal" href="#id54" id="id155">New Modules</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#v1-5-0" id="id156">v1.5.0</a></p>
<ul>
<li><p><a class="reference internal" href="#id55" id="id157">Minor Changes</a></p></li>
<li><p><a class="reference internal" href="#id56" id="id158">Bugfixes</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#v1-4-1" id="id159">v1.4.1</a></p>
<ul>
<li><p><a class="reference internal" href="#id57" id="id160">Minor Changes</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#v1-4-0" id="id161">v1.4.0</a></p>
<ul>
<li><p><a class="reference internal" href="#id58" id="id162">Minor Changes</a></p></li>
<li><p><a class="reference internal" href="#id59" id="id163">Bugfixes</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#v1-3-0" id="id164">v1.3.0</a></p>
<ul>
<li><p><a class="reference internal" href="#id60" id="id165">Minor Changes</a></p></li>
<li><p><a class="reference internal" href="#id61" id="id166">Bugfixes</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#v1-2-1" id="id167">v1.2.1</a></p>
<ul>
<li><p><a class="reference internal" href="#id62" id="id168">Minor Changes</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#v1-2-0" id="id169">v1.2.0</a></p>
<ul>
<li><p><a class="reference internal" href="#id63" id="id170">Minor Changes</a></p></li>
<li><p><a class="reference internal" href="#id64" id="id171">Deprecated Features</a></p></li>
<li><p><a class="reference internal" href="#id65" id="id172">Bugfixes</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#v1-1-0" id="id173">v1.1.0</a></p>
<ul>
<li><p><a class="reference internal" href="#id66" id="id174">Major Changes</a></p></li>
<li><p><a class="reference internal" href="#id67" id="id175">Minor Changes</a></p></li>
<li><p><a class="reference internal" href="#id68" id="id176">Breaking Changes / Porting Guide</a></p></li>
<li><p><a class="reference internal" href="#id69" id="id177">Deprecated Features</a></p></li>
<li><p><a class="reference internal" href="#id70" id="id178">Bugfixes</a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
<section id="v5-3-0">
<h2><a class="toc-backref" href="#id72" role="doc-backlink">v5.3.0</a><a class="headerlink" href="#v5-3-0" title="Permalink to this heading"></a></h2>
<section id="release-summary">
<h3><a class="toc-backref" href="#id73" role="doc-backlink">Release Summary</a><a class="headerlink" href="#release-summary" title="Permalink to this heading"></a></h3>
<p>This release brings some minor changes, bugfixes, and deprecated features.</p>
</section>
<section id="minor-changes">
<h3><a class="toc-backref" href="#id74" role="doc-backlink">Minor Changes</a><a class="headerlink" href="#minor-changes" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>ec2_instance - more consistently return <code class="docutils literal notranslate"><span class="pre">instances</span></code> information (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/964">https://github.com/ansible-collections/amazon.aws/pull/964</a>).</p></li>
<li><p>ec2_instance - remove unused import (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/1350">https://github.com/ansible-collections/amazon.aws/pull/1350</a>).</p></li>
<li><p>ec2_key - Add unit-tests coverage (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/1288">https://github.com/ansible-collections/amazon.aws/pull/1288</a>).</p></li>
<li><p>ec2_vpc_nat_gateway - ensure allocation_id is defined before potential access (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/1350">https://github.com/ansible-collections/amazon.aws/pull/1350</a>).</p></li>
<li><p>route53_zone - added support for associating multiple VPCs to route53 hosted zones (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/1300">https://github.com/ansible-collections/amazon.aws/pull/1300</a>).</p></li>
<li><p>s3_bucket - add option to support creation of buckets with object lock enabled (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/1372">https://github.com/ansible-collections/amazon.aws/pull/1372</a>).</p></li>
</ul>
</section>
<section id="deprecated-features">
<h3><a class="toc-backref" href="#id75" role="doc-backlink">Deprecated Features</a><a class="headerlink" href="#deprecated-features" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>support for passing both profile and security tokens through a mix of environment variables and parameters has been deprecated and support will be removed in release 6.0.0. After release 6.0.0 it will only be possible to pass either a profile or security tokens, regardless of mechanism used to pass them.  To explicitly block a parameter coming from an environment variable pass an empty string as the parameter value.  Support for passing profile and security tokens together was originally deprecated in release 1.2.0, however only partially implemented in release 5.0.0 (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/1355">https://github.com/ansible-collections/amazon.aws/pull/1355</a>).</p></li>
</ul>
</section>
<section id="bugfixes">
<h3><a class="toc-backref" href="#id76" role="doc-backlink">Bugfixes</a><a class="headerlink" href="#bugfixes" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>cloudtrail - support to disabling encryption using <code class="docutils literal notranslate"><span class="pre">kms_key_id</span></code> (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/1384">https://github.com/ansible-collections/amazon.aws/pull/1384</a>).</p></li>
<li><p>ec2_key - fix issue when trying to update existing key pair with the same key material (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/1383">https://github.com/ansible-collections/amazon.aws/pull/1383</a>).</p></li>
<li><p>module_utils/elbv2 - fix change detection by adding default values for <code class="docutils literal notranslate"><span class="pre">Scope</span></code> and <code class="docutils literal notranslate"><span class="pre">SessionTimeout</span></code> parameters in <code class="docutils literal notranslate"><span class="pre">authenticate-oidc</span></code> rules (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/1270">https://github.com/ansible-collections/amazon.aws/pull/1270</a>).</p></li>
<li><p>module_utils/elbv2 - respect <code class="docutils literal notranslate"><span class="pre">UseExistingClientSecret</span></code> parameter in <code class="docutils literal notranslate"><span class="pre">authenticate-oidc</span></code> rules (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/1270">https://github.com/ansible-collections/amazon.aws/pull/1270</a>).</p></li>
<li><p>revert breaking change introduced in 5.2.0 when passing credentials through a mix of environment variables and parameters (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/issues/1353">https://github.com/ansible-collections/amazon.aws/issues/1353</a>).</p></li>
<li><p>s3_bucket - empty bucket policy was throwing a JSONDecodeError - deal with it gracefully instead (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/1368">https://github.com/ansible-collections/amazon.aws/pull/1368</a>)</p></li>
</ul>
</section>
</section>
<section id="v5-2-0">
<h2><a class="toc-backref" href="#id77" role="doc-backlink">v5.2.0</a><a class="headerlink" href="#v5-2-0" title="Permalink to this heading"></a></h2>
<section id="id1">
<h3><a class="toc-backref" href="#id78" role="doc-backlink">Release Summary</a><a class="headerlink" href="#id1" title="Permalink to this heading"></a></h3>
<p>A minor release containing bugfixes for the <code class="docutils literal notranslate"><span class="pre">ec2_eni_info</span></code> module and the <code class="docutils literal notranslate"><span class="pre">aws_rds</span></code> inventory plugin, as well as improvements to the <code class="docutils literal notranslate"><span class="pre">rds_instance</span></code> module.</p>
</section>
<section id="id2">
<h3><a class="toc-backref" href="#id79" role="doc-backlink">Minor Changes</a><a class="headerlink" href="#id2" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>amazon.aws collection - refacterization of code to use argument specification <code class="docutils literal notranslate"><span class="pre">fallback</span></code> when falling back to environment variables for security credentials and AWS connection details (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/1174">https://github.com/ansible-collections/amazon.aws/pull/1174</a>).</p></li>
<li><p>rds_instance - Split up the integration test-suite in a series of smaller tests (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/1185">https://github.com/ansible-collections/amazon.aws/pull/1185</a>).</p></li>
<li><p>rds_instance - add support for gp3 storage type (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/1266">https://github.com/ansible-collections/amazon.aws/pull/1266</a>).</p></li>
</ul>
</section>
<section id="id3">
<h3><a class="toc-backref" href="#id80" role="doc-backlink">Bugfixes</a><a class="headerlink" href="#id3" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>aws_rds - fixes bug in RDS inventory plugin where config file was ignored (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/issues/1304">https://github.com/ansible-collections/amazon.aws/issues/1304</a>).</p></li>
<li><p>lambda - fix flaky integration test which assumes there are no other lambdas in the account (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/issues/1277">https://github.com/ansible-collections/amazon.aws/issues/1277</a>)</p></li>
</ul>
</section>
</section>
<section id="v5-1-0">
<h2><a class="toc-backref" href="#id81" role="doc-backlink">v5.1.0</a><a class="headerlink" href="#v5-1-0" title="Permalink to this heading"></a></h2>
<section id="id4">
<h3><a class="toc-backref" href="#id82" role="doc-backlink">Release Summary</a><a class="headerlink" href="#id4" title="Permalink to this heading"></a></h3>
<p>This release brings some minor changes, bugfixes, security fixes and deprecated features.</p>
</section>
<section id="id5">
<h3><a class="toc-backref" href="#id83" role="doc-backlink">Minor Changes</a><a class="headerlink" href="#id5" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>amazon.aws collection - The <code class="docutils literal notranslate"><span class="pre">aws_access_key</span></code> parameter has been renamed to <code class="docutils literal notranslate"><span class="pre">access_key</span></code>, <code class="docutils literal notranslate"><span class="pre">access_key</span></code> was previously an alias for this parameter and <code class="docutils literal notranslate"><span class="pre">aws_access_key</span></code> remains as an alias.  This change should have no observable effect for users outside the module/plugin documentation. (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/1172">https://github.com/ansible-collections/amazon.aws/pull/1172</a>).</p></li>
<li><p>amazon.aws collection - The <code class="docutils literal notranslate"><span class="pre">aws_secret_key</span></code> parameter has been renamed to <code class="docutils literal notranslate"><span class="pre">secret_key</span></code>, <code class="docutils literal notranslate"><span class="pre">secret_key</span></code> was previously an alias for this parameter and <code class="docutils literal notranslate"><span class="pre">aws_secret_key</span></code> remains as an alias.  This change should have no observable effect for users outside the module/plugin documentation. (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/1172">https://github.com/ansible-collections/amazon.aws/pull/1172</a>).</p></li>
<li><p>amazon.aws collection - The <code class="docutils literal notranslate"><span class="pre">security_token</span></code> parameter has been renamed to <code class="docutils literal notranslate"><span class="pre">session_token</span></code>, <code class="docutils literal notranslate"><span class="pre">security_token</span></code> was previously an alias for this parameter and <code class="docutils literal notranslate"><span class="pre">security_token</span></code> remains as an alias.  This change should have no observable effect for users outside the module/plugin documentation. (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/1172">https://github.com/ansible-collections/amazon.aws/pull/1172</a>).</p></li>
<li><p>aws_account_attribute lookup plugin - use <code class="docutils literal notranslate"><span class="pre">missing_required_lib</span></code> for more consistent error message when boto3/botocore is not available (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/1152">https://github.com/ansible-collections/amazon.aws/pull/1152</a>).</p></li>
<li><p>aws_ec2 inventory - minor linting fixes (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/1181">https://github.com/ansible-collections/amazon.aws/pull/1181</a>).</p></li>
<li><p>aws_ec2 inventory plugin - use <code class="docutils literal notranslate"><span class="pre">missing_required_lib</span></code> for more consistent error message when boto3/botocore is not available (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/1152">https://github.com/ansible-collections/amazon.aws/pull/1152</a>).</p></li>
<li><p>aws_rds inventory plugin - use <code class="docutils literal notranslate"><span class="pre">missing_required_lib</span></code> for more consistent error message when boto3/botocore is not available (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/1152">https://github.com/ansible-collections/amazon.aws/pull/1152</a>).</p></li>
<li><p>aws_secret lookup plugin - use <code class="docutils literal notranslate"><span class="pre">missing_required_lib</span></code> for more consistent error message when boto3/botocore is not available (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/1152">https://github.com/ansible-collections/amazon.aws/pull/1152</a>).</p></li>
<li><p>aws_ssm lookup plugin - use <code class="docutils literal notranslate"><span class="pre">missing_required_lib</span></code> for more consistent error message when boto3/botocore is not available (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/1152">https://github.com/ansible-collections/amazon.aws/pull/1152</a>).</p></li>
<li><p>ec2_instance - minor fix for launching an instance in specified AZ when <code class="docutils literal notranslate"><span class="pre">vpc_subnet_id</span></code> is not provided (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/1150">https://github.com/ansible-collections/amazon.aws/pull/1150</a>).</p></li>
<li><p>ec2_instance - refacter <code class="docutils literal notranslate"><span class="pre">tower_callback</span></code> code to handle parameter validation as part of the argument specification (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/1199">https://github.com/ansible-collections/amazon.aws/pull/1199</a>).</p></li>
<li><p>ec2_instance - the <code class="docutils literal notranslate"><span class="pre">instance_role</span></code> parameter has been renamed to <code class="docutils literal notranslate"><span class="pre">iam_instance_profile</span></code> to better reflect what it is, <code class="docutils literal notranslate"><span class="pre">instance_role</span></code> remains as an alias (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/1151">https://github.com/ansible-collections/amazon.aws/pull/1151</a>).</p></li>
<li><p>ec2_instance - the <code class="docutils literal notranslate"><span class="pre">tower_callback</span></code> parameter has been renamed to <code class="docutils literal notranslate"><span class="pre">aap_callback</span></code>, <code class="docutils literal notranslate"><span class="pre">tower_callback</span></code> remains as an alias.  This change should have no observable effect for users outside the module documentation (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/1199">https://github.com/ansible-collections/amazon.aws/pull/1199</a>).</p></li>
<li><p>s3_object_info - minor linting fixes (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/1181">https://github.com/ansible-collections/amazon.aws/pull/1181</a>).</p></li>
</ul>
</section>
<section id="id6">
<h3><a class="toc-backref" href="#id84" role="doc-backlink">Deprecated Features</a><a class="headerlink" href="#id6" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>amazon.aws collection - Support for the <code class="docutils literal notranslate"><span class="pre">EC2_ACCESS_KEY</span></code> environment variable has been deprecated and will be removed in a release after 2024-12-01.  Please use the <code class="docutils literal notranslate"><span class="pre">access_key</span></code> parameter or <code class="docutils literal notranslate"><span class="pre">AWS_ACCESS_KEY_ID</span></code> environment variable instead (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/1172">https://github.com/ansible-collections/amazon.aws/pull/1172</a>).</p></li>
<li><p>amazon.aws collection - Support for the <code class="docutils literal notranslate"><span class="pre">EC2_REGION</span></code> environment variable has been deprecated and will be removed in a release after 2024-12-01.  Please use the <code class="docutils literal notranslate"><span class="pre">region</span></code> parameter or <code class="docutils literal notranslate"><span class="pre">AWS_REGION</span></code> environment variable instead (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/1172">https://github.com/ansible-collections/amazon.aws/pull/1172</a>).</p></li>
<li><p>amazon.aws collection - Support for the <code class="docutils literal notranslate"><span class="pre">EC2_SECRET_KEY</span></code> environment variable has been deprecated and will be removed in a release after 2024-12-01.  Please use the <code class="docutils literal notranslate"><span class="pre">secret_key</span></code> parameter or <code class="docutils literal notranslate"><span class="pre">AWS_SECRET_ACCESS_KEY</span></code> environment variable instead (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/1172">https://github.com/ansible-collections/amazon.aws/pull/1172</a>).</p></li>
<li><p>amazon.aws collection - Support for the <code class="docutils literal notranslate"><span class="pre">EC2_SECURITY_TOKEN</span></code> environment variable has been deprecated and will be removed in a release after 2024-12-01.  Please use the <code class="docutils literal notranslate"><span class="pre">session_token</span></code> parameter or <code class="docutils literal notranslate"><span class="pre">AWS_SESSION_TOKEN</span></code> environment variable instead (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/1172">https://github.com/ansible-collections/amazon.aws/pull/1172</a>).</p></li>
<li><p>amazon.aws collection - Support for the <code class="docutils literal notranslate"><span class="pre">EC2_URL</span></code> and <code class="docutils literal notranslate"><span class="pre">S3_URL</span></code> environment variables has been deprecated and will be removed in a release after 2024-12-01.  Please use the <code class="docutils literal notranslate"><span class="pre">endpoint_url</span></code> parameter or <code class="docutils literal notranslate"><span class="pre">AWS_ENDPOINT_URL</span></code> environment variable instead (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/1172">https://github.com/ansible-collections/amazon.aws/pull/1172</a>).</p></li>
<li><p>amazon.aws collection - The <code class="docutils literal notranslate"><span class="pre">access_token</span></code> alias for the <code class="docutils literal notranslate"><span class="pre">session_token</span></code> parameter has been deprecated and will be removed in a release after 2024-12-01.  Please use the <code class="docutils literal notranslate"><span class="pre">session_token</span></code> name instead (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/1172">https://github.com/ansible-collections/amazon.aws/pull/1172</a>).</p></li>
<li><p>amazon.aws collection - The <code class="docutils literal notranslate"><span class="pre">access_token</span></code> alias for the <code class="docutils literal notranslate"><span class="pre">session_token</span></code> parameter has been deprecated and will be removed in a release after 2024-12-01.  Please use the <code class="docutils literal notranslate"><span class="pre">session_token</span></code> name instead (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/1172">https://github.com/ansible-collections/amazon.aws/pull/1172</a>).</p></li>
<li><p>amazon.aws collection - The <code class="docutils literal notranslate"><span class="pre">aws_security_token</span></code> alias for the <code class="docutils literal notranslate"><span class="pre">session_token</span></code> parameter has been deprecated and will be removed in a release after 2024-12-01.  Please use the <code class="docutils literal notranslate"><span class="pre">session_token</span></code> name instead (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/1172">https://github.com/ansible-collections/amazon.aws/pull/1172</a>).</p></li>
<li><p>amazon.aws collection - The <code class="docutils literal notranslate"><span class="pre">ec2_access_key</span></code> alias for the <code class="docutils literal notranslate"><span class="pre">access_key</span></code> parameter has been deprecated and will be removed in a release after 2024-12-01.  Please use the <code class="docutils literal notranslate"><span class="pre">access_key</span></code> name instead (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/1172">https://github.com/ansible-collections/amazon.aws/pull/1172</a>).</p></li>
<li><p>amazon.aws collection - The <code class="docutils literal notranslate"><span class="pre">ec2_region</span></code> alias for the <code class="docutils literal notranslate"><span class="pre">region</span></code> parameter has been deprecated and will be removed in a release after 2024-12-01.  Please use the <code class="docutils literal notranslate"><span class="pre">region</span></code> name instead (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/1172">https://github.com/ansible-collections/amazon.aws/pull/1172</a>).</p></li>
<li><p>amazon.aws collection - The <code class="docutils literal notranslate"><span class="pre">ec2_secret_key</span></code> alias for the <code class="docutils literal notranslate"><span class="pre">secret_key</span></code> parameter has been deprecated and will be removed in a release after 2024-12-01.  Please use the <code class="docutils literal notranslate"><span class="pre">secret_key</span></code> name instead (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/1172">https://github.com/ansible-collections/amazon.aws/pull/1172</a>).</p></li>
<li><p>amazon.aws collection - The <code class="docutils literal notranslate"><span class="pre">security_token</span></code> alias for the <code class="docutils literal notranslate"><span class="pre">session_token</span></code> parameter has been deprecated and will be removed in a release after 2024-12-01.  Please use the <code class="docutils literal notranslate"><span class="pre">session_token</span></code> name instead (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/1172">https://github.com/ansible-collections/amazon.aws/pull/1172</a>).</p></li>
<li><p>ec2_security_group - support for passing nested lists to <code class="docutils literal notranslate"><span class="pre">cidr_ip</span></code> and <code class="docutils literal notranslate"><span class="pre">cidr_ipv6</span></code> has been deprecated. Nested lists can be passed through the <code class="docutils literal notranslate"><span class="pre">flatten</span></code> filter instead <code class="docutils literal notranslate"><span class="pre">cidr_ip:</span> <span class="pre">'{{</span> <span class="pre">my_cidrs</span> <span class="pre">|</span> <span class="pre">flatten</span> <span class="pre">}}'</span></code> (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/1213">https://github.com/ansible-collections/amazon.aws/pull/1213</a>).</p></li>
<li><p>module_utils.url - <code class="docutils literal notranslate"><span class="pre">ansible_collections.amazon.aws.module_utils.urls</span></code> is believed to be unused and has been deprecated and will be removed in release 7.0.0.</p></li>
</ul>
</section>
<section id="security-fixes">
<h3><a class="toc-backref" href="#id85" role="doc-backlink">Security Fixes</a><a class="headerlink" href="#security-fixes" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>ec2_instance - fixes leak of password into logs when using <code class="docutils literal notranslate"><span class="pre">tower_callback.windows=True</span></code> and <code class="docutils literal notranslate"><span class="pre">tower_callback.set_password</span></code> (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/1199">https://github.com/ansible-collections/amazon.aws/pull/1199</a>).</p></li>
</ul>
</section>
<section id="id7">
<h3><a class="toc-backref" href="#id86" role="doc-backlink">Bugfixes</a><a class="headerlink" href="#id7" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>ec2_instance - fixes <code class="docutils literal notranslate"><span class="pre">Invalid</span> <span class="pre">type</span> <span class="pre">for</span> <span class="pre">parameter</span> <span class="pre">TagSpecifications,</span> <span class="pre">value</span> <span class="pre">None</span></code> error when tags aren’t specified (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/issues/1148">https://github.com/ansible-collections/amazon.aws/issues/1148</a>).</p></li>
<li><p>module_utils.transformations - ensure that <code class="docutils literal notranslate"><span class="pre">map_complex_type</span></code> still returns transformed items if items exists that are not in the type_map (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/1163">https://github.com/ansible-collections/amazon.aws/pull/1163</a>).</p></li>
</ul>
</section>
</section>
<section id="v5-0-2">
<h2><a class="toc-backref" href="#id87" role="doc-backlink">v5.0.2</a><a class="headerlink" href="#v5-0-2" title="Permalink to this heading"></a></h2>
<section id="id8">
<h3><a class="toc-backref" href="#id88" role="doc-backlink">Bugfixes</a><a class="headerlink" href="#id8" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>ec2_metadata_facts - fixed <code class="docutils literal notranslate"><span class="pre">AttributeError</span></code> (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/issues/1134">https://github.com/ansible-collections/amazon.aws/issues/1134</a>).</p></li>
</ul>
</section>
</section>
<section id="v5-0-1">
<h2><a class="toc-backref" href="#id89" role="doc-backlink">v5.0.1</a><a class="headerlink" href="#v5-0-1" title="Permalink to this heading"></a></h2>
<section id="id9">
<h3><a class="toc-backref" href="#id90" role="doc-backlink">Bugfixes</a><a class="headerlink" href="#id9" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>ec2_vpc_net_info - fix KeyError (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/1109">https://github.com/ansible-collections/amazon.aws/pull/1109</a>).</p></li>
<li><p>ec2_vpc_net_info - remove hardcoded <code class="docutils literal notranslate"><span class="pre">ClassicLinkEnabled</span></code> parameter when request for <code class="docutils literal notranslate"><span class="pre">ClassicLinkDnsSupported</span></code> failed (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/1109">https://github.com/ansible-collections/amazon.aws/pull/1109</a>).</p></li>
<li><p>s3_object - be more defensive when checking the results of <code class="docutils literal notranslate"><span class="pre">s3.get_bucket_ownership_controls</span></code> (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/issues/1115">https://github.com/ansible-collections/amazon.aws/issues/1115</a>).</p></li>
</ul>
</section>
</section>
<section id="v5-0-0">
<h2><a class="toc-backref" href="#id91" role="doc-backlink">v5.0.0</a><a class="headerlink" href="#v5-0-0" title="Permalink to this heading"></a></h2>
<section id="id10">
<h3><a class="toc-backref" href="#id92" role="doc-backlink">Release Summary</a><a class="headerlink" href="#id10" title="Permalink to this heading"></a></h3>
<p>In this release we promoted many community modules to Red Hat supported status. Those modules have been moved from the commuity.aws to amazon.aws collection. This release also brings some new features, bugfixes, breaking changes and deprecated features. The amazon.aws collection has dropped support for <code class="docutils literal notranslate"><span class="pre">botocore&lt;1.21.0</span></code> and <code class="docutils literal notranslate"><span class="pre">boto3&lt;1.18.0</span></code>. Support for <code class="docutils literal notranslate"><span class="pre">ansible-core&lt;2.11</span></code> has also been dropped.</p>
</section>
<section id="major-changes">
<h3><a class="toc-backref" href="#id93" role="doc-backlink">Major Changes</a><a class="headerlink" href="#major-changes" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>autoscaling_group - The module has been migrated from the <code class="docutils literal notranslate"><span class="pre">community.aws</span></code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code class="docutils literal notranslate"><span class="pre">amazon.aws.autoscaling_group</span></code>.</p></li>
<li><p>autoscaling_group_info - The module has been migrated from the <code class="docutils literal notranslate"><span class="pre">community.aws</span></code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code class="docutils literal notranslate"><span class="pre">amazon.aws.autoscaling_group_info</span></code>.</p></li>
<li><p>cloudtrail - The module has been migrated from the <code class="docutils literal notranslate"><span class="pre">community.aws</span></code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code class="docutils literal notranslate"><span class="pre">amazon.aws.cloudtrail</span></code>.</p></li>
<li><p>cloudwatch_metric_alarm - The module has been migrated from the <code class="docutils literal notranslate"><span class="pre">community.aws</span></code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code class="docutils literal notranslate"><span class="pre">amazon.aws.cloudwatch_metric_alarm</span></code>.</p></li>
<li><p>cloudwatchevent_rule - The module has been migrated from the <code class="docutils literal notranslate"><span class="pre">community.aws</span></code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code class="docutils literal notranslate"><span class="pre">amazon.aws.cloudwatchevent_rule</span></code>.</p></li>
<li><p>cloudwatchlogs_log_group - The module has been migrated from the <code class="docutils literal notranslate"><span class="pre">community.aws</span></code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code class="docutils literal notranslate"><span class="pre">amazon.aws.cloudwatchlogs_log_group</span></code>.</p></li>
<li><p>cloudwatchlogs_log_group_info - The module has been migrated from the <code class="docutils literal notranslate"><span class="pre">community.aws</span></code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code class="docutils literal notranslate"><span class="pre">amazon.aws.cloudwatchlogs_log_group_info</span></code>.</p></li>
<li><p>cloudwatchlogs_log_group_metric_filter - The module has been migrated from the <code class="docutils literal notranslate"><span class="pre">community.aws</span></code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code class="docutils literal notranslate"><span class="pre">amazon.aws.cloudwatchlogs_log_group_metric_filter</span></code>.</p></li>
<li><p>ec2_eip - The module has been migrated from the <code class="docutils literal notranslate"><span class="pre">community.aws</span></code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code class="docutils literal notranslate"><span class="pre">amazon.aws.ec2_eip</span></code>.</p></li>
<li><p>ec2_eip_info - The module has been migrated from the <code class="docutils literal notranslate"><span class="pre">community.aws</span></code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code class="docutils literal notranslate"><span class="pre">amazon.aws.ec2_eip_info</span></code>.</p></li>
<li><p>elb_application_lb - The module has been migrated from the <code class="docutils literal notranslate"><span class="pre">community.aws</span></code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code class="docutils literal notranslate"><span class="pre">amazon.aws.elb_application_lb</span></code>.</p></li>
<li><p>elb_application_lb_info - The module has been migrated from the <code class="docutils literal notranslate"><span class="pre">community.aws</span></code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code class="docutils literal notranslate"><span class="pre">amazon.aws.elb_application_lb_info</span></code>.</p></li>
<li><p>execute_lambda - The module has been migrated from the <code class="docutils literal notranslate"><span class="pre">community.aws</span></code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code class="docutils literal notranslate"><span class="pre">amazon.aws.execute_lambda</span></code>.</p></li>
<li><p>iam_policy - The module has been migrated from the <code class="docutils literal notranslate"><span class="pre">community.aws</span></code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code class="docutils literal notranslate"><span class="pre">amazon.aws.iam_policy</span></code>.</p></li>
<li><p>iam_policy_info - The module has been migrated from the <code class="docutils literal notranslate"><span class="pre">community.aws</span></code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code class="docutils literal notranslate"><span class="pre">amazon.aws.iam_policy_info</span></code>.</p></li>
<li><p>iam_user - The module has been migrated from the <code class="docutils literal notranslate"><span class="pre">community.aws</span></code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code class="docutils literal notranslate"><span class="pre">amazon.aws.iam_user</span></code>.</p></li>
<li><p>iam_user_info - The module has been migrated from the <code class="docutils literal notranslate"><span class="pre">community.aws</span></code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code class="docutils literal notranslate"><span class="pre">amazon.aws.iam_user_info</span></code>.</p></li>
<li><p>kms_key - The module has been migrated from the <code class="docutils literal notranslate"><span class="pre">community.aws</span></code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code class="docutils literal notranslate"><span class="pre">amazon.aws.kms_key</span></code>.</p></li>
<li><p>kms_key_info - The module has been migrated from the <code class="docutils literal notranslate"><span class="pre">community.aws</span></code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code class="docutils literal notranslate"><span class="pre">amazon.aws.kms_key_info</span></code>.</p></li>
<li><p>lambda - The module has been migrated from the <code class="docutils literal notranslate"><span class="pre">community.aws</span></code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code class="docutils literal notranslate"><span class="pre">amazon.aws.lambda</span></code>.</p></li>
<li><p>lambda_alias - The module has been migrated from the <code class="docutils literal notranslate"><span class="pre">community.aws</span></code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code class="docutils literal notranslate"><span class="pre">amazon.aws.lambda_alias</span></code>.</p></li>
<li><p>lambda_event - The module has been migrated from the <code class="docutils literal notranslate"><span class="pre">community.aws</span></code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code class="docutils literal notranslate"><span class="pre">amazon.aws.lambda_event</span></code>.</p></li>
<li><p>lambda_execute - The module has been migrated from the <code class="docutils literal notranslate"><span class="pre">community.aws</span></code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code class="docutils literal notranslate"><span class="pre">amazon.aws.lambda_execute</span></code>.</p></li>
<li><p>lambda_info - The module has been migrated from the <code class="docutils literal notranslate"><span class="pre">community.aws</span></code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code class="docutils literal notranslate"><span class="pre">amazon.aws.lambda_info</span></code>.</p></li>
<li><p>lambda_policy - The module has been migrated from the <code class="docutils literal notranslate"><span class="pre">community.aws</span></code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code class="docutils literal notranslate"><span class="pre">amazon.aws.lambda_policy</span></code>.</p></li>
<li><p>rds_cluster - The module has been migrated from the <code class="docutils literal notranslate"><span class="pre">community.aws</span></code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code class="docutils literal notranslate"><span class="pre">amazon.aws.rds_cluster</span></code>.</p></li>
<li><p>rds_cluster_info - The module has been migrated from the <code class="docutils literal notranslate"><span class="pre">community.aws</span></code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code class="docutils literal notranslate"><span class="pre">amazon.aws.rds_cluster_info</span></code>.</p></li>
<li><p>rds_cluster_snapshot - The module has been migrated from the <code class="docutils literal notranslate"><span class="pre">community.aws</span></code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code class="docutils literal notranslate"><span class="pre">amazon.aws.rds_cluster_snapshot</span></code>.</p></li>
<li><p>rds_instance - The module has been migrated from the <code class="docutils literal notranslate"><span class="pre">community.aws</span></code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code class="docutils literal notranslate"><span class="pre">amazon.aws.rds_instance</span></code>.</p></li>
<li><p>rds_instance_info - The module has been migrated from the <code class="docutils literal notranslate"><span class="pre">community.aws</span></code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code class="docutils literal notranslate"><span class="pre">amazon.aws.rds_instance_info</span></code>.</p></li>
<li><p>rds_instance_snapshot - The module has been migrated from the <code class="docutils literal notranslate"><span class="pre">community.aws</span></code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code class="docutils literal notranslate"><span class="pre">amazon.aws.rds_instance_snapshot</span></code>.</p></li>
<li><p>rds_option_group - The module has been migrated from the <code class="docutils literal notranslate"><span class="pre">community.aws</span></code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code class="docutils literal notranslate"><span class="pre">amazon.aws.rds_option_group</span></code>.</p></li>
<li><p>rds_option_group_info - The module has been migrated from the <code class="docutils literal notranslate"><span class="pre">community.aws</span></code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code class="docutils literal notranslate"><span class="pre">amazon.aws.rds_option_group_info</span></code>.</p></li>
<li><p>rds_param_group - The module has been migrated from the <code class="docutils literal notranslate"><span class="pre">community.aws</span></code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code class="docutils literal notranslate"><span class="pre">amazon.aws.rds_param_group</span></code>.</p></li>
<li><p>rds_snapshot_info - The module has been migrated from the <code class="docutils literal notranslate"><span class="pre">community.aws</span></code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code class="docutils literal notranslate"><span class="pre">amazon.aws.rds_snapshot_info</span></code>.</p></li>
<li><p>rds_subnet_group - The module has been migrated from the <code class="docutils literal notranslate"><span class="pre">community.aws</span></code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code class="docutils literal notranslate"><span class="pre">amazon.aws.rds_subnet_group</span></code>.</p></li>
<li><p>route53 - The module has been migrated from the <code class="docutils literal notranslate"><span class="pre">community.aws</span></code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code class="docutils literal notranslate"><span class="pre">amazon.aws.route53</span></code>.</p></li>
<li><p>route53_health_check - The module has been migrated from the <code class="docutils literal notranslate"><span class="pre">community.aws</span></code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code class="docutils literal notranslate"><span class="pre">amazon.aws.route53_health_check</span></code>.</p></li>
<li><p>route53_info - The module has been migrated from the <code class="docutils literal notranslate"><span class="pre">community.aws</span></code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code class="docutils literal notranslate"><span class="pre">amazon.aws.route53_info</span></code>.</p></li>
<li><p>route53_zone - The module has been migrated from the <code class="docutils literal notranslate"><span class="pre">community.aws</span></code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code class="docutils literal notranslate"><span class="pre">amazon.aws.route53_zone</span></code>.</p></li>
</ul>
</section>
<section id="id11">
<h3><a class="toc-backref" href="#id94" role="doc-backlink">Minor Changes</a><a class="headerlink" href="#id11" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>Ability to record and replay the API interaction of a module for testing purpose. Show case the feature with an example (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/998">https://github.com/ansible-collections/amazon.aws/pull/998</a>).</p></li>
<li><p>Remove the empty __init__.py file from the distribution, they were not required anymore (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/1018">https://github.com/ansible-collections/amazon.aws/pull/1018</a>).</p></li>
<li><p>amazon.aws modules - the <code class="docutils literal notranslate"><span class="pre">ec2_url</span></code> parameter has been renamed to <code class="docutils literal notranslate"><span class="pre">endpoint_url</span></code> for consistency, <code class="docutils literal notranslate"><span class="pre">ec2_url</span></code> remains as an alias (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/992">https://github.com/ansible-collections/amazon.aws/pull/992</a>).</p></li>
<li><p>aws_caller_info - minor linting fixes (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/968">https://github.com/ansible-collections/amazon.aws/pull/968</a>).</p></li>
<li><p>aws_ec2 - introduce the <code class="docutils literal notranslate"><span class="pre">allow_duplicated_hosts</span></code> configuration key (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/1026">https://github.com/ansible-collections/amazon.aws/pull/1026</a>).</p></li>
<li><p>cloudformation - avoid catching <code class="docutils literal notranslate"><span class="pre">Exception</span></code>, catch more specific errors instead (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/968">https://github.com/ansible-collections/amazon.aws/pull/968</a>).</p></li>
<li><p>cloudwatch_metric_alarm_info - Added a new module that describes the cloudwatch metric alarms (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/988">https://github.com/ansible-collections/amazon.aws/pull/988</a>).</p></li>
<li><p>ec2_group - The <code class="docutils literal notranslate"><span class="pre">ec2_group</span></code> module has been renamed to <code class="docutils literal notranslate"><span class="pre">ec2_security_group</span></code>, <code class="docutils literal notranslate"><span class="pre">ec2_group</span></code> remains as an alias (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/897">https://github.com/ansible-collections/amazon.aws/pull/897</a>).</p></li>
<li><p>ec2_group_info - The <code class="docutils literal notranslate"><span class="pre">ec2_group_info</span></code> module has been renamed to <code class="docutils literal notranslate"><span class="pre">ec2_security_group_info</span></code>, <code class="docutils literal notranslate"><span class="pre">ec2_group_info</span></code> remains as an alias (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/897">https://github.com/ansible-collections/amazon.aws/pull/897</a>).</p></li>
<li><p>ec2_instance - Add hibernation_options and volumes-&gt;ebs-&gt;encrypted keys to support stop-hibernate instance (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/972">https://github.com/ansible-collections/amazon.aws/pull/972</a>).</p></li>
<li><p>ec2_instance - expanded the use of the automatic retries to <code class="docutils literal notranslate"><span class="pre">InsuffienctInstanceCapacity</span></code> (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/issues/1038">https://github.com/ansible-collections/amazon.aws/issues/1038</a>).</p></li>
<li><p>ec2_metadata_facts - avoid catching <code class="docutils literal notranslate"><span class="pre">Exception</span></code>, catch more specific errors instead (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/968">https://github.com/ansible-collections/amazon.aws/pull/968</a>).</p></li>
<li><p>ec2_security_group - minor linting fixes (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/968">https://github.com/ansible-collections/amazon.aws/pull/968</a>).</p></li>
<li><p>ec2_vpc_endpoint - avoid catching <code class="docutils literal notranslate"><span class="pre">Exception</span></code>, catch more specific errors instead (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/968">https://github.com/ansible-collections/amazon.aws/pull/968</a>).</p></li>
<li><p>ec2_vpc_nat_gateway - minor linting fixes (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/968">https://github.com/ansible-collections/amazon.aws/pull/968</a>).</p></li>
<li><p>ec2_vpc_net_info - handle classic link check for shared VPCs by throwing a warning instead of an error (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/984">https://github.com/ansible-collections/amazon.aws/pull/984</a>).</p></li>
<li><p>module_utils/acm - Move to jittered backoff (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/946">https://github.com/ansible-collections/amazon.aws/pull/946</a>).</p></li>
<li><p>module_utils/elbv2 - ensures that <code class="docutils literal notranslate"><span class="pre">ip_address_type</span></code> is set on creation rather than re-setting it after creation (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/940">https://github.com/ansible-collections/amazon.aws/pull/940</a>).</p></li>
<li><p>module_utils/elbv2 - uses new waiters with retries for temporary failures (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/940">https://github.com/ansible-collections/amazon.aws/pull/940</a>).</p></li>
<li><p>module_utils/waf - Move to jittered backoff (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/946">https://github.com/ansible-collections/amazon.aws/pull/946</a>).</p></li>
<li><p>module_utils/waiters - Add waiters to manage eks_nodegroup module (<a class="reference external" href="https://github.com/ansible-collections/community.aws/pull/1415">https://github.com/ansible-collections/community.aws/pull/1415</a>).</p></li>
<li><p>s3_bucket - <code class="docutils literal notranslate"><span class="pre">rgw</span></code> was added as an alias for the <code class="docutils literal notranslate"><span class="pre">ceph</span></code> parameter for consistency with the <code class="docutils literal notranslate"><span class="pre">s3_object</span></code> module (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/994">https://github.com/ansible-collections/amazon.aws/pull/994</a>).</p></li>
<li><p>s3_bucket - the <code class="docutils literal notranslate"><span class="pre">s3_url</span></code> parameter was merged into the <code class="docutils literal notranslate"><span class="pre">endpoint_url</span></code> parameter, <code class="docutils literal notranslate"><span class="pre">s3_url</span></code> remains as an alias (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/994">https://github.com/ansible-collections/amazon.aws/pull/994</a>).</p></li>
<li><p>s3_object - added the <code class="docutils literal notranslate"><span class="pre">sig_v4</span></code> paramater, enbling the user to opt in to signature version 4 for download/get operations. (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/1014">https://github.com/ansible-collections/amazon.aws/pull/1014</a>)</p></li>
<li><p>s3_object - minor linting fixes (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/968">https://github.com/ansible-collections/amazon.aws/pull/968</a>).</p></li>
<li><p>s3_object - the <code class="docutils literal notranslate"><span class="pre">rgw</span></code> parameter was renamed to <code class="docutils literal notranslate"><span class="pre">ceph</span></code> for consistency with the <code class="docutils literal notranslate"><span class="pre">s3_bucket</span></code> module, <code class="docutils literal notranslate"><span class="pre">rgw</span></code> remains as an alias (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/994">https://github.com/ansible-collections/amazon.aws/pull/994</a>).</p></li>
<li><p>s3_object - the <code class="docutils literal notranslate"><span class="pre">s3_url</span></code> parameter was merged into the <code class="docutils literal notranslate"><span class="pre">endpoint_url</span></code> parameter, <code class="docutils literal notranslate"><span class="pre">s3_url</span></code> remains as an alias (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/994">https://github.com/ansible-collections/amazon.aws/pull/994</a>).</p></li>
<li><p>s3_object - updated module to add support for handling file upload to a bucket with ACL disabled (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/921">https://github.com/ansible-collections/amazon.aws/pull/921</a>).</p></li>
<li><p>s3_object_info - Added a new module that describes S3 Objects (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/977">https://github.com/ansible-collections/amazon.aws/pull/977</a>).</p></li>
</ul>
</section>
<section id="breaking-changes-porting-guide">
<h3><a class="toc-backref" href="#id95" role="doc-backlink">Breaking Changes / Porting Guide</a><a class="headerlink" href="#breaking-changes-porting-guide" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>amazon.aws collection - Support for ansible-core &lt; 2.11 has been dropped (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/1087">https://github.com/ansible-collections/amazon.aws/pull/1087</a>).</p></li>
<li><p>amazon.aws collection - The amazon.aws collection has dropped support for <code class="docutils literal notranslate"><span class="pre">botocore&lt;1.21.0</span></code> and <code class="docutils literal notranslate"><span class="pre">boto3&lt;1.18.0</span></code>. Most modules will continue to work with older versions of the AWS SDK, however compatibility with older versions of the SDK is not guaranteed and will not be tested. When using older versions of the SDK a warning will be emitted by Ansible (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/934">https://github.com/ansible-collections/amazon.aws/pull/934</a>).</p></li>
<li><p>doc_fragments - remove minimum collection requirements from doc_fragments/aws.py and allow pulling those from doc_fragments/aws_boto3.py instead (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/985">https://github.com/ansible-collections/amazon.aws/pull/985</a>).</p></li>
<li><p>ec2_ami - the default value for <code class="docutils literal notranslate"><span class="pre">purge_tags</span></code> has been changed from <code class="docutils literal notranslate"><span class="pre">False</span></code> to <code class="docutils literal notranslate"><span class="pre">True</span></code> (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/916">https://github.com/ansible-collections/amazon.aws/pull/916</a>).</p></li>
<li><p>ec2_ami - the parameter aliases <code class="docutils literal notranslate"><span class="pre">DeviceName</span></code>, <code class="docutils literal notranslate"><span class="pre">VirtualName</span></code> and <code class="docutils literal notranslate"><span class="pre">NoDevice</span></code> were previously deprecated and have been removed, please use <code class="docutils literal notranslate"><span class="pre">device_name</span></code>, <code class="docutils literal notranslate"><span class="pre">virtual_name</span></code> and <code class="docutils literal notranslate"><span class="pre">no_device</span></code> instead (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/913">https://github.com/ansible-collections/amazon.aws/pull/913</a>).</p></li>
<li><p>ec2_eni_info - the mutual exclusivity of the <code class="docutils literal notranslate"><span class="pre">eni_id</span></code> and <code class="docutils literal notranslate"><span class="pre">filters</span></code> parameters is now enforced, previously <code class="docutils literal notranslate"><span class="pre">filters</span></code> would be ignored if <code class="docutils literal notranslate"><span class="pre">eni_id</span></code> was set (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/954">https://github.com/ansible-collections/amazon.aws/pull/954</a>).</p></li>
<li><p>ec2_instance - the default value for <code class="docutils literal notranslate"><span class="pre">purge_tags</span></code> has been changed from <code class="docutils literal notranslate"><span class="pre">False</span></code> to <code class="docutils literal notranslate"><span class="pre">True</span></code> (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/916">https://github.com/ansible-collections/amazon.aws/pull/916</a>).</p></li>
<li><p>ec2_key - the default value for <code class="docutils literal notranslate"><span class="pre">purge_tags</span></code> has been changed from <code class="docutils literal notranslate"><span class="pre">False</span></code> to <code class="docutils literal notranslate"><span class="pre">True</span></code> (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/916">https://github.com/ansible-collections/amazon.aws/pull/916</a>).</p></li>
<li><p>ec2_vol - the default value for <code class="docutils literal notranslate"><span class="pre">purge_tags</span></code> has been changed from <code class="docutils literal notranslate"><span class="pre">False</span></code> to <code class="docutils literal notranslate"><span class="pre">True</span></code> (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/916">https://github.com/ansible-collections/amazon.aws/pull/916</a>).</p></li>
<li><p>ec2_vpc_dhcp_option_info - the parameter aliases <code class="docutils literal notranslate"><span class="pre">DhcpOptionIds</span></code> and <code class="docutils literal notranslate"><span class="pre">DryRun</span></code> were previously deprecated and have been removed, please use <code class="docutils literal notranslate"><span class="pre">dhcp_options_ids</span></code> and <code class="docutils literal notranslate"><span class="pre">no_device</span></code> instead (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/913">https://github.com/ansible-collections/amazon.aws/pull/913</a>).</p></li>
<li><p>ec2_vpc_endpoint - the default value for <code class="docutils literal notranslate"><span class="pre">purge_tags</span></code> has been changed from <code class="docutils literal notranslate"><span class="pre">False</span></code> to <code class="docutils literal notranslate"><span class="pre">True</span></code> (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/916">https://github.com/ansible-collections/amazon.aws/pull/916</a>).</p></li>
<li><p>ec2_vpc_net - the default value for <code class="docutils literal notranslate"><span class="pre">purge_tags</span></code> has been changed from <code class="docutils literal notranslate"><span class="pre">False</span></code> to <code class="docutils literal notranslate"><span class="pre">True</span></code> (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/916">https://github.com/ansible-collections/amazon.aws/pull/916</a>).</p></li>
<li><p>ec2_vpc_route_table - the default value for <code class="docutils literal notranslate"><span class="pre">purge_tags</span></code> has been changed from <code class="docutils literal notranslate"><span class="pre">False</span></code> to <code class="docutils literal notranslate"><span class="pre">True</span></code> (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/916">https://github.com/ansible-collections/amazon.aws/pull/916</a>).</p></li>
<li><p>s3_bucket - the previously deprecated alias <code class="docutils literal notranslate"><span class="pre">S3_URL</span></code> for the <code class="docutils literal notranslate"><span class="pre">s3_url</span></code> parameter has been removed.  Playbooks shuold be updated to use <code class="docutils literal notranslate"><span class="pre">s3_url</span></code> (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/908">https://github.com/ansible-collections/amazon.aws/pull/908</a>).</p></li>
<li><p>s3_object - the previously deprecated alias <code class="docutils literal notranslate"><span class="pre">S3_URL</span></code> for the <code class="docutils literal notranslate"><span class="pre">s3_url</span></code> parameter has been removed.  Playbooks should be updated to use <code class="docutils literal notranslate"><span class="pre">s3_url</span></code> (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/908">https://github.com/ansible-collections/amazon.aws/pull/908</a>).</p></li>
</ul>
</section>
<section id="id12">
<h3><a class="toc-backref" href="#id96" role="doc-backlink">Deprecated Features</a><a class="headerlink" href="#id12" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>amazon.aws collection - due to the AWS SDKs announcing the end of support for Python less than 3.7 (<a class="reference external" href="https://aws.amazon.com/blogs/developer/python-support-policy-updates-for-aws-sdks-and-tools/">https://aws.amazon.com/blogs/developer/python-support-policy-updates-for-aws-sdks-and-tools/</a>) support for Python less than 3.7 by this collection has been deprecated and will be removed in a release after 2023-05-31 (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/935">https://github.com/ansible-collections/amazon.aws/pull/935</a>).</p></li>
<li><p>inventory/aws_ec2 - the <code class="docutils literal notranslate"><span class="pre">include_extra_api_calls</span></code> is now deprecated, its value is silently ignored (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/1097">https://github.com/ansible-collections/amazon.aws/pull/1097</a>).</p></li>
</ul>
</section>
<section id="id13">
<h3><a class="toc-backref" href="#id97" role="doc-backlink">Bugfixes</a><a class="headerlink" href="#id13" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>aws_ec2 - address a regression introduced in 4.1.0 (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/862">https://github.com/ansible-collections/amazon.aws/pull/862</a>) that cause the presnse of duplicated hosts in the inventory.</p></li>
<li><p>cloudtrail - Fix key error TagList to TagsList (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/issues/1088">https://github.com/ansible-collections/amazon.aws/issues/1088</a>).</p></li>
<li><p>ec2_instance - Only show the deprecation warning for the default value of <code class="docutils literal notranslate"><span class="pre">instance_type</span></code> when <code class="docutils literal notranslate"><span class="pre">count</span></code> or <code class="docutils literal notranslate"><span class="pre">exact_count</span></code> are specified (<a class="reference external" href="https://github.com//issues/980">https://github.com//issues/980</a>).</p></li>
<li><p>ec2_metadata_facts - fix <code class="docutils literal notranslate"><span class="pre">'NoneType'</span> <span class="pre">object</span> <span class="pre">is</span> <span class="pre">not</span> <span class="pre">callable</span></code> exception when using Ansible 2.13+ (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/issues/942">https://github.com/ansible-collections/amazon.aws/issues/942</a>).</p></li>
<li><p>module_utils/botocore - fix <code class="docutils literal notranslate"><span class="pre">object</span> <span class="pre">has</span> <span class="pre">no</span> <span class="pre">attribute</span> <span class="pre">'fail'</span></code> error in error handling (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/1045">https://github.com/ansible-collections/amazon.aws/pull/1045</a>).</p></li>
<li><p>module_utils/elbv2 - fixes <code class="docutils literal notranslate"><span class="pre">KeyError</span></code> when using <code class="docutils literal notranslate"><span class="pre">UseExistingClientSecret</span></code> rather than <code class="docutils literal notranslate"><span class="pre">ClientSecret</span></code> (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/940">https://github.com/ansible-collections/amazon.aws/pull/940</a>).</p></li>
<li><p>module_utils/elbv2 - improvements to idempotency when comparing listeners (<a class="reference external" href="https://github.com/ansible-collections/community.aws/issues/604">https://github.com/ansible-collections/community.aws/issues/604</a>).</p></li>
<li><p>s3_object - also use <code class="docutils literal notranslate"><span class="pre">ignore_nonexistent_bucket</span></code> when listing a bucket (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/issues/966">https://github.com/ansible-collections/amazon.aws/issues/966</a>).</p></li>
</ul>
</section>
<section id="new-modules">
<h3><a class="toc-backref" href="#id98" role="doc-backlink">New Modules</a><a class="headerlink" href="#new-modules" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>cloudtrail_info - Gather information about trails in AWS Cloud Trail.</p></li>
<li><p>cloudwatch_metric_alarm_info - Gather information about the alarms for the specified metric</p></li>
<li><p>s3_object_info - Gather information about objects in S3</p></li>
</ul>
</section>
</section>
<section id="v4-3-0">
<h2><a class="toc-backref" href="#id99" role="doc-backlink">v4.3.0</a><a class="headerlink" href="#v4-3-0" title="Permalink to this heading"></a></h2>
<section id="id14">
<h3><a class="toc-backref" href="#id100" role="doc-backlink">Release Summary</a><a class="headerlink" href="#id14" title="Permalink to this heading"></a></h3>
<p>The amazon.aws 4.3.0 release includes a number of minor bug fixes and improvements.
Following the release of amazon.aws 5.0.0, backports to the 4.x series will be limited to
security issues and bugfixes.</p>
</section>
<section id="id15">
<h3><a class="toc-backref" href="#id101" role="doc-backlink">Minor Changes</a><a class="headerlink" href="#id15" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>ec2_instance - expanded the use of the automatic retries to <code class="docutils literal notranslate"><span class="pre">InsuffienctInstanceCapacity</span></code> (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/issues/1038">https://github.com/ansible-collections/amazon.aws/issues/1038</a>).</p></li>
</ul>
</section>
<section id="id16">
<h3><a class="toc-backref" href="#id102" role="doc-backlink">Bugfixes</a><a class="headerlink" href="#id16" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>ec2_metadata_facts - fix <code class="docutils literal notranslate"><span class="pre">'NoneType'</span> <span class="pre">object</span> <span class="pre">is</span> <span class="pre">not</span> <span class="pre">callable</span></code> exception when using Ansible 2.13+ (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/issues/942">https://github.com/ansible-collections/amazon.aws/issues/942</a>).</p></li>
<li><p>module_utils/cloud - Fix <code class="docutils literal notranslate"><span class="pre">ValueError:</span> <span class="pre">ansible_collections.amazon.aws.plugins.module_utils.core.__spec__</span> <span class="pre">is</span> <span class="pre">None</span></code> error on Ansible 2.9 (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/issues/1083">https://github.com/ansible-collections/amazon.aws/issues/1083</a>).</p></li>
</ul>
</section>
</section>
<section id="v4-2-0">
<h2><a class="toc-backref" href="#id103" role="doc-backlink">v4.2.0</a><a class="headerlink" href="#v4-2-0" title="Permalink to this heading"></a></h2>
<section id="id17">
<h3><a class="toc-backref" href="#id104" role="doc-backlink">Minor Changes</a><a class="headerlink" href="#id17" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>ec2_security_group - set type as <code class="docutils literal notranslate"><span class="pre">list</span></code> for rules-&gt;group_name as it can accept both <code class="docutils literal notranslate"><span class="pre">str</span></code> and <code class="docutils literal notranslate"><span class="pre">list</span></code> (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/971">https://github.com/ansible-collections/amazon.aws/pull/971</a>).</p></li>
<li><p>various modules - linting fixups (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/953">https://github.com/ansible-collections/amazon.aws/pull/953</a>).</p></li>
</ul>
</section>
<section id="id18">
<h3><a class="toc-backref" href="#id105" role="doc-backlink">Deprecated Features</a><a class="headerlink" href="#id18" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>module_utils.cloud - removal of the <code class="docutils literal notranslate"><span class="pre">CloudRetry.backoff</span></code> has been delayed until release 6.0.0.  It is recommended to update custom modules to use <code class="docutils literal notranslate"><span class="pre">jittered_backoff</span></code> or <code class="docutils literal notranslate"><span class="pre">exponential_backoff</span></code> instead (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/951">https://github.com/ansible-collections/amazon.aws/pull/951</a>).</p></li>
</ul>
</section>
</section>
<section id="v4-1-0">
<h2><a class="toc-backref" href="#id106" role="doc-backlink">v4.1.0</a><a class="headerlink" href="#v4-1-0" title="Permalink to this heading"></a></h2>
<section id="id19">
<h3><a class="toc-backref" href="#id107" role="doc-backlink">Minor Changes</a><a class="headerlink" href="#id19" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>ec2_instance - expanded the use of the automatic retries on temporary failures (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/issues/927">https://github.com/ansible-collections/amazon.aws/issues/927</a>).</p></li>
<li><p>s3_bucket - updated module to enable support for setting S3 Bucket Keys for SSE-KMS (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/882">https://github.com/ansible-collections/amazon.aws/pull/882</a>).</p></li>
</ul>
</section>
<section id="id20">
<h3><a class="toc-backref" href="#id108" role="doc-backlink">Deprecated Features</a><a class="headerlink" href="#id20" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>amazon.aws collection - due to the AWS SDKs announcing the end of support for Python less than 3.7 (<a class="reference external" href="https://aws.amazon.com/blogs/developer/python-support-policy-updates-for-aws-sdks-and-tools/">https://aws.amazon.com/blogs/developer/python-support-policy-updates-for-aws-sdks-and-tools/</a>) support for Python less than 3.7 by this collection has been deprecated and will be removed in a release after 2023-05-31 (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/935">https://github.com/ansible-collections/amazon.aws/pull/935</a>).</p></li>
</ul>
</section>
<section id="id21">
<h3><a class="toc-backref" href="#id109" role="doc-backlink">Bugfixes</a><a class="headerlink" href="#id21" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>aws_ec2 - ensure the correct number of hosts are returned when tags as hostnames are used (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/862">https://github.com/ansible-collections/amazon.aws/pull/862</a>).</p></li>
<li><p>elb_application_lb - fix <code class="docutils literal notranslate"><span class="pre">KeyError</span></code> when balancing across two Target Groups (<a class="reference external" href="https://github.com/ansible-collections/community.aws/issues/1089">https://github.com/ansible-collections/community.aws/issues/1089</a>).</p></li>
<li><p>elb_classic_lb - fix <code class="docutils literal notranslate"><span class="pre">'NoneType'</span> <span class="pre">object</span> <span class="pre">has</span> <span class="pre">no</span> <span class="pre">attribute</span></code> bug when creating a new ELB in check mode with a health check (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/915">https://github.com/ansible-collections/amazon.aws/pull/915</a>).</p></li>
<li><p>elb_classic_lb - fix <code class="docutils literal notranslate"><span class="pre">'NoneType'</span> <span class="pre">object</span> <span class="pre">has</span> <span class="pre">no</span> <span class="pre">attribute</span></code> bug when creating a new ELB using security group names (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/issues/914">https://github.com/ansible-collections/amazon.aws/issues/914</a>).</p></li>
</ul>
</section>
</section>
<section id="v4-0-0">
<h2><a class="toc-backref" href="#id110" role="doc-backlink">v4.0.0</a><a class="headerlink" href="#v4-0-0" title="Permalink to this heading"></a></h2>
<section id="id22">
<h3><a class="toc-backref" href="#id111" role="doc-backlink">Major Changes</a><a class="headerlink" href="#id22" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>amazon.aws collection - The amazon.aws collection has dropped support for <code class="docutils literal notranslate"><span class="pre">botocore&lt;1.20.0</span></code> and <code class="docutils literal notranslate"><span class="pre">boto3&lt;1.17.0</span></code>. Most modules will continue to work with older versions of the AWS SDK, however compatibility with older versions of the SDK is not guaranteed and will not be tested. When using older versions of the SDK a warning will be emitted by Ansible (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/574">https://github.com/ansible-collections/amazon.aws/pull/574</a>).</p></li>
</ul>
</section>
<section id="id23">
<h3><a class="toc-backref" href="#id112" role="doc-backlink">Minor Changes</a><a class="headerlink" href="#id23" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>aws_s3 - Add <code class="docutils literal notranslate"><span class="pre">validate_bucket_name</span></code> option, to control bucket name validation (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/615">https://github.com/ansible-collections/amazon.aws/pull/615</a>).</p></li>
<li><p>aws_s3 - The <code class="docutils literal notranslate"><span class="pre">aws_s3</span></code> module has been renamed to <code class="docutils literal notranslate"><span class="pre">s3_object</span></code> (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/869">https://github.com/ansible-collections/amazon.aws/pull/869</a>).</p></li>
<li><p>aws_s3 - <code class="docutils literal notranslate"><span class="pre">resource_tags</span></code> has been added as an alias for the <code class="docutils literal notranslate"><span class="pre">tags</span></code> parameter (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/845">https://github.com/ansible-collections/amazon.aws/pull/845</a>).</p></li>
<li><p>ec2_eni - Change parameter <code class="docutils literal notranslate"><span class="pre">device_index</span></code> data type to string when passing to <code class="docutils literal notranslate"><span class="pre">describe_network_inter</span></code> api call (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/877">https://github.com/ansible-collections/amazon.aws/pull/877</a>).</p></li>
<li><p>ec2_eni - <code class="docutils literal notranslate"><span class="pre">resource_tags</span></code> has been added as an alias for the <code class="docutils literal notranslate"><span class="pre">tags</span></code> parameter (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/845">https://github.com/ansible-collections/amazon.aws/pull/845</a>).</p></li>
<li><p>ec2_group - add <code class="docutils literal notranslate"><span class="pre">egress_rules</span></code> as an alias for <code class="docutils literal notranslate"><span class="pre">rules_egress</span></code> (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/878">https://github.com/ansible-collections/amazon.aws/pull/878</a>).</p></li>
<li><p>ec2_group - add <code class="docutils literal notranslate"><span class="pre">purge_egress_rules</span></code> as an alias for <code class="docutils literal notranslate"><span class="pre">purge_rules_egress</span></code> (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/878">https://github.com/ansible-collections/amazon.aws/pull/878</a>).</p></li>
<li><p>ec2_instance - Add missing <code class="docutils literal notranslate"><span class="pre">metadata_options</span></code> parameters (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/715">https://github.com/ansible-collections/amazon.aws/pull/715</a>).</p></li>
<li><p>ec2_key - <code class="docutils literal notranslate"><span class="pre">resource_tags</span></code> has been added as an alias for the <code class="docutils literal notranslate"><span class="pre">tags</span></code> parameter (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/845">https://github.com/ansible-collections/amazon.aws/pull/845</a>).</p></li>
<li><p>ec2_vpc_net - add support for managing VPCs by ID (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/848">https://github.com/ansible-collections/amazon.aws/pull/848</a>).</p></li>
<li><p>ec2_vpc_subnet - add support for OutpostArn param (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/598">https://github.com/ansible-collections/amazon.aws/pull/598</a>).</p></li>
<li><p>elb_classic_lb - <code class="docutils literal notranslate"><span class="pre">resource_tags</span></code> has been added as an alias for the <code class="docutils literal notranslate"><span class="pre">tags</span></code> parameter (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/845">https://github.com/ansible-collections/amazon.aws/pull/845</a>).</p></li>
<li><p>s3_bucket - Add <code class="docutils literal notranslate"><span class="pre">validate_bucket_name</span></code> option, to control bucket name validation (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/615">https://github.com/ansible-collections/amazon.aws/pull/615</a>).</p></li>
<li><p>s3_bucket - <code class="docutils literal notranslate"><span class="pre">resource_tags</span></code> has been added as an alias for the <code class="docutils literal notranslate"><span class="pre">tags</span></code> parameter (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/845">https://github.com/ansible-collections/amazon.aws/pull/845</a>).</p></li>
</ul>
</section>
<section id="id24">
<h3><a class="toc-backref" href="#id113" role="doc-backlink">Breaking Changes / Porting Guide</a><a class="headerlink" href="#id24" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>Tags beginning with <code class="docutils literal notranslate"><span class="pre">aws:</span></code> will not be removed when purging tags, these tags are reserved by Amazon and may not be updated or deleted (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/issues/817">https://github.com/ansible-collections/amazon.aws/issues/817</a>).</p></li>
<li><p>amazon.aws collection - the <code class="docutils literal notranslate"><span class="pre">profile</span></code> parameter is now mutually exclusive with the <code class="docutils literal notranslate"><span class="pre">aws_access_key</span></code>, <code class="docutils literal notranslate"><span class="pre">aws_secret_key</span></code> and <code class="docutils literal notranslate"><span class="pre">security_token</span></code> parameters (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/834">https://github.com/ansible-collections/amazon.aws/pull/834</a>).</p></li>
<li><p>aws_az_info - the module alias <code class="docutils literal notranslate"><span class="pre">aws_az_facts</span></code> was deprecated in Ansible 2.9 and has now been removed (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/832">https://github.com/ansible-collections/amazon.aws/pull/832</a>).</p></li>
<li><p>aws_s3 - the default value for <code class="docutils literal notranslate"><span class="pre">ensure</span> <span class="pre">overwrite</span></code> has been changed to <code class="docutils literal notranslate"><span class="pre">different</span></code> instead of <code class="docutils literal notranslate"><span class="pre">always</span></code> so that the module is idempotent by default (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/issues/811">https://github.com/ansible-collections/amazon.aws/issues/811</a>).</p></li>
<li><p>aws_ssm - on_denied and on_missing now both default to error, for consistency with both aws_secret and the base Lookup class (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/issues/617">https://github.com/ansible-collections/amazon.aws/issues/617</a>).</p></li>
<li><p>ec2 - The <code class="docutils literal notranslate"><span class="pre">ec2</span></code> module has been removed in release 4.0.0 and replaced by the <code class="docutils literal notranslate"><span class="pre">ec2_instance</span></code> module (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/630">https://github.com/ansible-collections/amazon.aws/pull/630</a>).</p></li>
<li><p>ec2_vpc_igw_info - The default value for <code class="docutils literal notranslate"><span class="pre">convert_tags</span></code> has been changed to <code class="docutils literal notranslate"><span class="pre">True</span></code> (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/835">https://github.com/ansible-collections/amazon.aws/pull/835</a>).</p></li>
<li><p>elb_classic_lb - the <code class="docutils literal notranslate"><span class="pre">ec2_elb</span></code> fact has been removed (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/827">https://github.com/ansible-collections/amazon.aws/pull/827</a>).</p></li>
<li><p>module_utils - Support for the original AWS SDK aka <code class="docutils literal notranslate"><span class="pre">boto</span></code> has been removed, including all relevant helper functions. All modules should now use the <code class="docutils literal notranslate"><span class="pre">boto3</span></code>/<code class="docutils literal notranslate"><span class="pre">botocore</span></code> AWS SDK (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/630">https://github.com/ansible-collections/amazon.aws/pull/630</a>)</p></li>
</ul>
</section>
<section id="id25">
<h3><a class="toc-backref" href="#id114" role="doc-backlink">Deprecated Features</a><a class="headerlink" href="#id25" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>aws_s3 - The <code class="docutils literal notranslate"><span class="pre">S3_URL</span></code> alias for the s3_url option has been deprecated and will be removed in release 5.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.aws/pull/795">https://github.com/ansible-collections/community.aws/pull/795</a>).</p></li>
<li><p>ec2_ami - The <code class="docutils literal notranslate"><span class="pre">DeviceName</span></code> alias for the device_name option has been deprecated and will be removed in release 5.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.aws/pull/795">https://github.com/ansible-collections/community.aws/pull/795</a>).</p></li>
<li><p>ec2_ami - The <code class="docutils literal notranslate"><span class="pre">NoDevice</span></code> alias for the no_device option has been deprecated and will be removed in release 5.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.aws/pull/795">https://github.com/ansible-collections/community.aws/pull/795</a>).</p></li>
<li><p>ec2_ami - The <code class="docutils literal notranslate"><span class="pre">VirtualName</span></code> alias for the virtual_name option has been deprecated and will be removed in release 5.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.aws/pull/795">https://github.com/ansible-collections/community.aws/pull/795</a>).</p></li>
<li><p>ec2_ami - the current default value of <code class="docutils literal notranslate"><span class="pre">False</span></code> for <code class="docutils literal notranslate"><span class="pre">purge_tags</span></code> has been deprecated and will be updated in release 5.0.0 to <code class="docutils literal notranslate"><span class="pre">True</span></code> (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/846">https://github.com/ansible-collections/amazon.aws/pull/846</a>).</p></li>
<li><p>ec2_instance - The default value for <code class="docutils literal notranslate"><span class="pre">`instance_type`</span></code> has been deprecated, in the future release you must set an instance_type or a launch_template (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/587">https://github.com/ansible-collections/amazon.aws/pull/587</a>).</p></li>
<li><p>ec2_instance - the current default value of <code class="docutils literal notranslate"><span class="pre">False</span></code> for <code class="docutils literal notranslate"><span class="pre">purge_tags</span></code> has been deprecated and will be updated in release 5.0.0 to <code class="docutils literal notranslate"><span class="pre">True</span></code> (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/849">https://github.com/ansible-collections/amazon.aws/pull/849</a>).</p></li>
<li><p>ec2_key - the current default value of <code class="docutils literal notranslate"><span class="pre">False</span></code> for <code class="docutils literal notranslate"><span class="pre">purge_tags</span></code> has been deprecated and will be updated in release 5.0.0 to <code class="docutils literal notranslate"><span class="pre">True</span></code> (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/846">https://github.com/ansible-collections/amazon.aws/pull/846</a>).</p></li>
<li><p>ec2_vol - the current default value of <code class="docutils literal notranslate"><span class="pre">False</span></code> for <code class="docutils literal notranslate"><span class="pre">purge_tags</span></code> has been deprecated and will be updated in release 5.0.0 to <code class="docutils literal notranslate"><span class="pre">True</span></code> (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/846">https://github.com/ansible-collections/amazon.aws/pull/846</a>).</p></li>
<li><p>ec2_vpc_dhcp_option_info - The <code class="docutils literal notranslate"><span class="pre">DhcpOptionIds</span></code> alias for the dhcp_option_ids option has been deprecated and will be removed in release 5.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.aws/pull/795">https://github.com/ansible-collections/community.aws/pull/795</a>).</p></li>
<li><p>ec2_vpc_dhcp_option_info - The <code class="docutils literal notranslate"><span class="pre">DryRun</span></code> alias for the dry_run option has been deprecated and will be removed in release 5.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.aws/pull/795">https://github.com/ansible-collections/community.aws/pull/795</a>).</p></li>
<li><p>ec2_vpc_endpoint - the current default value of <code class="docutils literal notranslate"><span class="pre">False</span></code> for <code class="docutils literal notranslate"><span class="pre">purge_tags</span></code> has been deprecated and will be updated in release 5.0.0 to <code class="docutils literal notranslate"><span class="pre">True</span></code> (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/846">https://github.com/ansible-collections/amazon.aws/pull/846</a>).</p></li>
<li><p>ec2_vpc_net - the current default value of <code class="docutils literal notranslate"><span class="pre">False</span></code> for <code class="docutils literal notranslate"><span class="pre">purge_tags</span></code> has been deprecated and will be updated in release 5.0.0 to <code class="docutils literal notranslate"><span class="pre">True</span></code> (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/848">https://github.com/ansible-collections/amazon.aws/pull/848</a>).</p></li>
<li><p>ec2_vpc_route_table - the current default value of <code class="docutils literal notranslate"><span class="pre">False</span></code> for <code class="docutils literal notranslate"><span class="pre">purge_tags</span></code> has been deprecated and will be updated in release 5.0.0 to <code class="docutils literal notranslate"><span class="pre">True</span></code> (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/846">https://github.com/ansible-collections/amazon.aws/pull/846</a>).</p></li>
<li><p>s3_bucket - The <code class="docutils literal notranslate"><span class="pre">S3_URL</span></code> alias for the s3_url option has been deprecated and will be removed in release 5.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.aws/pull/795">https://github.com/ansible-collections/community.aws/pull/795</a>).</p></li>
<li><p>s3_object - Support for creation and deletion of S3 buckets has been deprecated.  Please use the <code class="docutils literal notranslate"><span class="pre">amazon.aws.s3_bucket</span></code> module to create and delete buckets (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/869">https://github.com/ansible-collections/amazon.aws/pull/869</a>).</p></li>
</ul>
</section>
<section id="removed-features-previously-deprecated">
<h3><a class="toc-backref" href="#id115" role="doc-backlink">Removed Features (previously deprecated)</a><a class="headerlink" href="#removed-features-previously-deprecated" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>cloudformation - the <code class="docutils literal notranslate"><span class="pre">template_format</span></code> option has been removed. It has been ignored by the module since Ansible 2.3 (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/833">https://github.com/ansible-collections/amazon.aws/pull/833</a>).</p></li>
<li><p>ec2_key - the <code class="docutils literal notranslate"><span class="pre">wait_timeout</span></code> option had no effect, was deprecated in release 1.0.0, and has now been removed (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/830">https://github.com/ansible-collections/amazon.aws/pull/830</a>).</p></li>
<li><p>ec2_key - the <code class="docutils literal notranslate"><span class="pre">wait</span></code> option had no effect, was deprecated in release 1.0.0, and has now been removed (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/830">https://github.com/ansible-collections/amazon.aws/pull/830</a>).</p></li>
<li><p>ec2_tag - the previously deprecated state <code class="docutils literal notranslate"><span class="pre">list</span></code> has been removed.  To list tags on an EC2 resource the <code class="docutils literal notranslate"><span class="pre">ec2_tag_info</span></code> module can be used (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/829">https://github.com/ansible-collections/amazon.aws/pull/829</a>).</p></li>
<li><p>ec2_vol - the previously deprecated state <code class="docutils literal notranslate"><span class="pre">list</span></code> has been removed.  To list volumes the <code class="docutils literal notranslate"><span class="pre">ec2_vol_info</span></code> module can be used (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/828">https://github.com/ansible-collections/amazon.aws/pull/828</a>).</p></li>
<li><p>module_utils.batch - the class <code class="docutils literal notranslate"><span class="pre">ansible_collections.amazon.aws.plugins.module_utils.batch.AWSConnection</span></code> has been removed.  Please use <code class="docutils literal notranslate"><span class="pre">AnsibleAWSModule.client()</span></code> instead (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/831">https://github.com/ansible-collections/amazon.aws/pull/831</a>).</p></li>
</ul>
</section>
<section id="id26">
<h3><a class="toc-backref" href="#id116" role="doc-backlink">Bugfixes</a><a class="headerlink" href="#id26" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>ec2_group - fix uncaught exception when running with <code class="docutils literal notranslate"><span class="pre">--diff</span></code> and <code class="docutils literal notranslate"><span class="pre">--check</span></code> to create a new security group (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/issues/440">https://github.com/ansible-collections/amazon.aws/issues/440</a>).</p></li>
<li><p>ec2_instance - Add a condition to handle default <code class="docutils literal notranslate"><span class="pre">`instance_type`</span></code> value for fix breaking on instance creation with launch template (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/587">https://github.com/ansible-collections/amazon.aws/pull/587</a>).</p></li>
<li><p>ec2_instance - raise an error when missing permission to stop instance when <code class="docutils literal notranslate"><span class="pre">state</span></code> is set to <code class="docutils literal notranslate"><span class="pre">rebooted`</span></code> (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/671">https://github.com/ansible-collections/amazon.aws/pull/671</a>).</p></li>
<li><p>ec2_vpc_igw - use gateway_id rather than filters to paginate if possible to fix ‘NoneType’ object is not subscriptable error (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/766">https://github.com/ansible-collections/amazon.aws/pull/766</a>).</p></li>
<li><p>ec2_vpc_net - fix a bug where CIDR configuration would be updated in check mode (<a class="reference external" href="https://github.com/ansible/ansible/issues/62678">https://github.com/ansible/ansible/issues/62678</a>).</p></li>
<li><p>ec2_vpc_net - fix a bug where the module would get stuck if DNS options were updated in check mode (<a class="reference external" href="https://github.com/ansible/ansible/issues/62677">https://github.com/ansible/ansible/issues/62677</a>).</p></li>
<li><p>elb_classic_lb - modify the return value of _format_listeners method to resolve a failure creating https listeners (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/860">https://github.com/ansible-collections/amazon.aws/pull/860</a>).</p></li>
</ul>
</section>
</section>
<section id="v3-5-0">
<h2><a class="toc-backref" href="#id117" role="doc-backlink">v3.5.0</a><a class="headerlink" href="#v3-5-0" title="Permalink to this heading"></a></h2>
<section id="id27">
<h3><a class="toc-backref" href="#id118" role="doc-backlink">Release Summary</a><a class="headerlink" href="#id27" title="Permalink to this heading"></a></h3>
<p>Following the release of amazon.aws 5.0.0, 3.5.0 is a bugfix release and the final planned release for the 3.x series.</p>
</section>
<section id="id28">
<h3><a class="toc-backref" href="#id119" role="doc-backlink">Minor Changes</a><a class="headerlink" href="#id28" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>ec2_security_group - set type as <code class="docutils literal notranslate"><span class="pre">list</span></code> for rules-&gt;group_name as it can accept both <code class="docutils literal notranslate"><span class="pre">str</span></code> and <code class="docutils literal notranslate"><span class="pre">list</span></code> (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/971">https://github.com/ansible-collections/amazon.aws/pull/971</a>).</p></li>
</ul>
</section>
<section id="id29">
<h3><a class="toc-backref" href="#id120" role="doc-backlink">Bugfixes</a><a class="headerlink" href="#id29" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>ec2_metadata_facts - fix <code class="docutils literal notranslate"><span class="pre">'NoneType'</span> <span class="pre">object</span> <span class="pre">is</span> <span class="pre">not</span> <span class="pre">callable</span></code> exception when using Ansible 2.13+ (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/issues/942">https://github.com/ansible-collections/amazon.aws/issues/942</a>).</p></li>
</ul>
</section>
</section>
<section id="v3-4-0">
<h2><a class="toc-backref" href="#id121" role="doc-backlink">v3.4.0</a><a class="headerlink" href="#v3-4-0" title="Permalink to this heading"></a></h2>
<section id="id30">
<h3><a class="toc-backref" href="#id122" role="doc-backlink">Minor Changes</a><a class="headerlink" href="#id30" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>ec2_instance - expanded the use of the automatic retries on temporary failures (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/issues/927">https://github.com/ansible-collections/amazon.aws/issues/927</a>).</p></li>
</ul>
</section>
<section id="id31">
<h3><a class="toc-backref" href="#id123" role="doc-backlink">Bugfixes</a><a class="headerlink" href="#id31" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>elb_application_lb - fix <code class="docutils literal notranslate"><span class="pre">KeyError</span></code> when balancing across two Target Groups (<a class="reference external" href="https://github.com/ansible-collections/community.aws/issues/1089">https://github.com/ansible-collections/community.aws/issues/1089</a>).</p></li>
<li><p>elb_classic_lb - fix <code class="docutils literal notranslate"><span class="pre">'NoneType'</span> <span class="pre">object</span> <span class="pre">has</span> <span class="pre">no</span> <span class="pre">attribute</span></code> bug when creating a new ELB in check mode with a health check (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/915">https://github.com/ansible-collections/amazon.aws/pull/915</a>).</p></li>
<li><p>elb_classic_lb - fix <code class="docutils literal notranslate"><span class="pre">'NoneType'</span> <span class="pre">object</span> <span class="pre">has</span> <span class="pre">no</span> <span class="pre">attribute</span></code> bug when creating a new ELB using security group names (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/issues/914">https://github.com/ansible-collections/amazon.aws/issues/914</a>).</p></li>
</ul>
</section>
</section>
<section id="v3-3-1">
<h2><a class="toc-backref" href="#id124" role="doc-backlink">v3.3.1</a><a class="headerlink" href="#v3-3-1" title="Permalink to this heading"></a></h2>
</section>
<section id="v3-3-0">
<h2><a class="toc-backref" href="#id125" role="doc-backlink">v3.3.0</a><a class="headerlink" href="#v3-3-0" title="Permalink to this heading"></a></h2>
<section id="id32">
<h3><a class="toc-backref" href="#id126" role="doc-backlink">Minor Changes</a><a class="headerlink" href="#id32" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>aws_ec2 inventory - Allow for literal strings in hostname that don’t match filter parameters in ec2 describe-instances (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/826">https://github.com/ansible-collections/amazon.aws/pull/826</a>).</p></li>
<li><p>aws_ssm - Add support for <code class="docutils literal notranslate"><span class="pre">endpoint</span></code> parameter (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/837">https://github.com/ansible-collections/amazon.aws/pull/837</a>).</p></li>
<li><p>module.utils.rds - add retry_codes to get_rds_method_attribute return data to use in call_method and add unit tests (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/776">https://github.com/ansible-collections/amazon.aws/pull/776</a>).</p></li>
<li><p>module.utils.rds - refactor to utilize get_rds_method_attribute return data (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/776">https://github.com/ansible-collections/amazon.aws/pull/776</a>).</p></li>
<li><p>module_utils - add new aliases <code class="docutils literal notranslate"><span class="pre">aws_session_token</span></code> and <code class="docutils literal notranslate"><span class="pre">session_token</span></code> to the <code class="docutils literal notranslate"><span class="pre">security_token</span></code> parameter to be more in-line with the boto SDK (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/631">https://github.com/ansible-collections/amazon.aws/pull/631</a>).</p></li>
<li><p>module_utils.rds - Add support and unit tests for addition/removal of IAM roles to/from a db instance in module_utils.rds with waiters (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/714">https://github.com/ansible-collections/amazon.aws/pull/714</a>).</p></li>
</ul>
</section>
<section id="id33">
<h3><a class="toc-backref" href="#id127" role="doc-backlink">Bugfixes</a><a class="headerlink" href="#id33" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>Include <code class="docutils literal notranslate"><span class="pre">PSF-license.txt</span></code> file for <code class="docutils literal notranslate"><span class="pre">plugins/module_utils/_version.py</span></code>.</p></li>
<li><p>aws_account_attribute lookup plugin - fix linting errors in documentation data (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/701">https://github.com/ansible-collections/amazon.aws/pull/701</a>).</p></li>
<li><p>aws_ec2 inventory plugin - fix linting errors in documentation data (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/701">https://github.com/ansible-collections/amazon.aws/pull/701</a>).</p></li>
<li><p>aws_rds inventory plugin - fix linting errors in documentation data (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/701">https://github.com/ansible-collections/amazon.aws/pull/701</a>).</p></li>
<li><p>aws_resource_actions callback plugin - fix linting errors in documentation data (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/701">https://github.com/ansible-collections/amazon.aws/pull/701</a>).</p></li>
<li><p>aws_secret lookup plugin - fix linting errors in documentation data (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/701">https://github.com/ansible-collections/amazon.aws/pull/701</a>).</p></li>
<li><p>aws_service_ip_ranges lookup plugin - fix linting errors in documentation data (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/701">https://github.com/ansible-collections/amazon.aws/pull/701</a>).</p></li>
<li><p>aws_ssm - Fix environment variables for client configuration (e.g., AWS_PROFILE, AWS_ACCESS_KEY_ID) (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/837">https://github.com/ansible-collections/amazon.aws/pull/837</a>).</p></li>
<li><p>aws_ssm lookup plugin - fix linting errors in documentation data (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/701">https://github.com/ansible-collections/amazon.aws/pull/701</a>).</p></li>
<li><p>ec2_instance - ec2_instance module broken in Python 3.8 - dict keys modified during iteration (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/issues/709">https://github.com/ansible-collections/amazon.aws/issues/709</a>).</p></li>
<li><p>module.utils.rds - Add waiter for promoting read replica to fix idempotency issue (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/714">https://github.com/ansible-collections/amazon.aws/pull/714</a>).</p></li>
<li><p>module.utils.rds - Catch InvalidDBSecurityGroupStateFault when modifying a db instance (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/776">https://github.com/ansible-collections/amazon.aws/pull/776</a>).</p></li>
<li><p>module.utils.s3 - Update validate_bucket_name minimum length to 3 (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/802">https://github.com/ansible-collections/amazon.aws/pull/802</a>).</p></li>
</ul>
</section>
</section>
<section id="v3-2-0">
<h2><a class="toc-backref" href="#id128" role="doc-backlink">v3.2.0</a><a class="headerlink" href="#v3-2-0" title="Permalink to this heading"></a></h2>
<section id="id34">
<h3><a class="toc-backref" href="#id129" role="doc-backlink">Minor Changes</a><a class="headerlink" href="#id34" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>aws_secret - add pagination for <code class="docutils literal notranslate"><span class="pre">bypath</span></code> functionality (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/591">https://github.com/ansible-collections/amazon.aws/pull/591</a>).</p></li>
<li><p>ec2_instance - Fix scope of deprecation warning to not show warning when <code class="docutils literal notranslate"><span class="pre">state</span></code> in <code class="docutils literal notranslate"><span class="pre">absent</span></code> (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/719">https://github.com/ansible-collections/amazon.aws/pull/719</a>).</p></li>
<li><p>ec2_vpc_route_table - support associating internet gateways (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/690">https://github.com/ansible-collections/amazon.aws/pull/690</a>).</p></li>
<li><p>module_utils.elbv2 - Add support for alb specific attributes and compare_elb_attributes method to support check_mode in module_utils.elbv2 (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/696">https://github.com/ansible-collections/amazon.aws/pull/696</a>).</p></li>
<li><p>s3_bucket - Add support for enforced bucket owner object ownership (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/694">https://github.com/ansible-collections/amazon.aws/pull/694</a>).</p></li>
</ul>
</section>
<section id="id35">
<h3><a class="toc-backref" href="#id130" role="doc-backlink">Bugfixes</a><a class="headerlink" href="#id35" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>aws_ec2 inventory - use the iam_role_arn configuration parameter to assume the role before trying to call DescribeRegions if the regions configuration is not set and AWS credentials provided without enough privilege to perform the DescribeRegions action. (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/issues/566">https://github.com/ansible-collections/amazon.aws/issues/566</a>).</p></li>
<li><p>ec2_vol - changing a volume from a type that does not support IOPS (like <code class="docutils literal notranslate"><span class="pre">standard</span></code>) to a type that does (like <code class="docutils literal notranslate"><span class="pre">gp3</span></code>) fails (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/issues/626">https://github.com/ansible-collections/amazon.aws/issues/626</a>).</p></li>
<li><p>ec2_vpc_igw - fix ‘NoneType’ object is not subscriptable error (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/691">https://github.com/ansible-collections/amazon.aws/pull/691</a>).</p></li>
<li><p>ec2_vpc_igw - use paginator for describe internet gateways and add retry to fix NoneType object is not subscriptable error (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/695">https://github.com/ansible-collections/amazon.aws/pull/695</a>).</p></li>
<li><p>ec2_vpc_net - In check mode, ensure the module does not change the configuration. Handle case when Amazon-provided ipv6 block is enabled, then disabled, then enabled again. Do not disable IPv6 CIDR association (using Amazon pool) if ipv6_cidr property is not present in the task. If the VPC already exists and ipv6_cidr property, retain the current config (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/631">https://github.com/ansible-collections/amazon.aws/pull/631</a>).</p></li>
</ul>
</section>
</section>
<section id="v3-1-1">
<h2><a class="toc-backref" href="#id131" role="doc-backlink">v3.1.1</a><a class="headerlink" href="#v3-1-1" title="Permalink to this heading"></a></h2>
<section id="id36">
<h3><a class="toc-backref" href="#id132" role="doc-backlink">Minor Changes</a><a class="headerlink" href="#id36" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>bump the release version of the amazon.aws collection from 3.1.0 to 3.1.1 because of a bug that occurred while uploading to Galaxy.</p></li>
</ul>
</section>
</section>
<section id="v3-1-0">
<h2><a class="toc-backref" href="#id133" role="doc-backlink">v3.1.0</a><a class="headerlink" href="#v3-1-0" title="Permalink to this heading"></a></h2>
<section id="id37">
<h3><a class="toc-backref" href="#id134" role="doc-backlink">Minor Changes</a><a class="headerlink" href="#id37" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>add new parameters hostvars_prefix and hostvars_suffix for inventory plugins aws_ec2 and aws_rds (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/issues/535">https://github.com/ansible-collections/amazon.aws/issues/535</a>).</p></li>
<li><p>aws_s3 - Add <code class="docutils literal notranslate"><span class="pre">validate_bucket_name</span></code> option, to control bucket name validation (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/615">https://github.com/ansible-collections/amazon.aws/pull/615</a>).</p></li>
<li><p>aws_s3 - add latest choice on <code class="docutils literal notranslate"><span class="pre">overwrite</span></code> parameter to get latest object on S3 (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/595">https://github.com/ansible-collections/amazon.aws/pull/595</a>).</p></li>
<li><p>ec2_vol - add support for OutpostArn param (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/597">https://github.com/ansible-collections/amazon.aws/pull/597</a>).</p></li>
<li><p>ec2_vol - tag volume on creation (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/603">https://github.com/ansible-collections/amazon.aws/pull/603</a>).</p></li>
<li><p>ec2_vpc_route_table - add support for IPv6 in creating route tables (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/601">https://github.com/ansible-collections/amazon.aws/pull/601</a>).</p></li>
<li><p>s3_bucket - Add <code class="docutils literal notranslate"><span class="pre">validate_bucket_name</span></code> option, to control bucket name validation (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/615">https://github.com/ansible-collections/amazon.aws/pull/615</a>).</p></li>
</ul>
</section>
<section id="id38">
<h3><a class="toc-backref" href="#id135" role="doc-backlink">Deprecated Features</a><a class="headerlink" href="#id38" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>ec2_instance - The default value for <code class="docutils literal notranslate"><span class="pre">`instance_type`</span></code> has been deprecated, in the future release you must set an instance_type or a launch_template (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/587">https://github.com/ansible-collections/amazon.aws/pull/587</a>).</p></li>
</ul>
</section>
<section id="id39">
<h3><a class="toc-backref" href="#id136" role="doc-backlink">Bugfixes</a><a class="headerlink" href="#id39" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>Various modules and plugins - use vendored version of <code class="docutils literal notranslate"><span class="pre">distutils.version</span></code> instead of the deprecated Python standard library <code class="docutils literal notranslate"><span class="pre">distutils</span></code> (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/599">https://github.com/ansible-collections/amazon.aws/pull/599</a>).</p></li>
<li><p>aws_acm - No longer raising ResourceNotFound exception while retrieving ACM certificates.</p></li>
<li><p>aws_s3 - fix exception raised when using module to copy from source to destination and key is missing from source (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/issues/602">https://github.com/ansible-collections/amazon.aws/issues/602</a>).</p></li>
<li><p>ec2_instance - Add a condition to handle default <code class="docutils literal notranslate"><span class="pre">`instance_type`</span></code> value for fix breaking on instance creation with launch template (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/587">https://github.com/ansible-collections/amazon.aws/pull/587</a>).</p></li>
<li><p>ec2_key - add support for ED25519 key type (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/issues/572">https://github.com/ansible-collections/amazon.aws/issues/572</a>).</p></li>
<li><p>ec2_vol - Sets the Iops value in req_obj even if the iops value has not changed, to allow modifying volume types that require passing an iops value to boto. (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/606">https://github.com/ansible-collections/amazon.aws/pull/606</a>)</p></li>
<li><p>elb_classic_lb - handle security_group_ids when providing security_group_names and fix broken tasks in integration test (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/592">https://github.com/ansible-collections/amazon.aws/pull/592</a>).</p></li>
<li><p>s3_bucket - Enable the management of bucket-level ACLs (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/issues/573">https://github.com/ansible-collections/amazon.aws/issues/573</a>).</p></li>
</ul>
</section>
</section>
<section id="v3-0-0">
<h2><a class="toc-backref" href="#id137" role="doc-backlink">v3.0.0</a><a class="headerlink" href="#v3-0-0" title="Permalink to this heading"></a></h2>
<section id="id40">
<h3><a class="toc-backref" href="#id138" role="doc-backlink">Major Changes</a><a class="headerlink" href="#id40" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>amazon.aws collection - The amazon.aws collection has dropped support for <code class="docutils literal notranslate"><span class="pre">botocore&lt;1.19.0</span></code> and <code class="docutils literal notranslate"><span class="pre">boto3&lt;1.16.0</span></code>. Most modules will continue to work with older versions of the AWS SDK, however compatibility with older versions of the SDK is not guaranteed and will not be tested. When using older versions of the SDK a warning will be emitted by Ansible (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/574">https://github.com/ansible-collections/amazon.aws/pull/574</a>).</p></li>
</ul>
</section>
<section id="id41">
<h3><a class="toc-backref" href="#id139" role="doc-backlink">Minor Changes</a><a class="headerlink" href="#id41" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>ec2_instance - add count parameter support (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/539">https://github.com/ansible-collections/amazon.aws/pull/539</a>).</p></li>
</ul>
</section>
<section id="id42">
<h3><a class="toc-backref" href="#id140" role="doc-backlink">Breaking Changes / Porting Guide</a><a class="headerlink" href="#id42" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>aws_caller_facts - Remove deprecated <code class="docutils literal notranslate"><span class="pre">aws_caller_facts</span></code> alias.  Please use <code class="docutils literal notranslate"><span class="pre">aws_caller_info</span></code> instead.</p></li>
<li><p>cloudformation_facts - Remove deprecated <code class="docutils literal notranslate"><span class="pre">cloudformation_facts</span></code> alias.  Please use <code class="docutils literal notranslate"><span class="pre">cloudformation_info</span></code> instead.</p></li>
<li><p>ec2_ami_facts - Remove deprecated <code class="docutils literal notranslate"><span class="pre">ec2_ami_facts</span></code> alias.  Please use <code class="docutils literal notranslate"><span class="pre">ec2_ami_info</span></code> instead.</p></li>
<li><p>ec2_eni_facts - Remove deprecated <code class="docutils literal notranslate"><span class="pre">ec2_eni_facts</span></code> alias.  Please use <code class="docutils literal notranslate"><span class="pre">ec2_eni_info</span></code> instead.</p></li>
<li><p>ec2_group_facts - Remove deprecated <code class="docutils literal notranslate"><span class="pre">ec2_group_facts</span></code> alias.  Please use <code class="docutils literal notranslate"><span class="pre">ec2_group_info</span></code> instead.</p></li>
<li><p>ec2_instance_facts - Remove deprecated <code class="docutils literal notranslate"><span class="pre">ec2_instance_facts</span></code> alias.  Please use <code class="docutils literal notranslate"><span class="pre">ec2_instance_info</span></code> instead.</p></li>
<li><p>ec2_snapshot_facts - Remove deprecated <code class="docutils literal notranslate"><span class="pre">ec2_snapshot_facts</span></code> alias.  Please use <code class="docutils literal notranslate"><span class="pre">ec2_snapshot_info</span></code> instead.</p></li>
<li><p>ec2_vol_facts - Remove deprecated <code class="docutils literal notranslate"><span class="pre">ec2_vol_facts</span></code> alias.  Please use <code class="docutils literal notranslate"><span class="pre">ec2_vol_info</span></code> instead.</p></li>
<li><p>ec2_vpc_dhcp_option_facts - Remove deprecated <code class="docutils literal notranslate"><span class="pre">ec2_vpc_dhcp_option_facts</span></code> alias.  Please use <code class="docutils literal notranslate"><span class="pre">ec2_vpc_dhcp_option_info</span></code> instead.</p></li>
<li><p>ec2_vpc_endpoint_facts - Remove deprecated <code class="docutils literal notranslate"><span class="pre">ec2_vpc_endpoint_facts</span></code> alias.  Please use <code class="docutils literal notranslate"><span class="pre">ec2_vpc_endpoint_info</span></code> instead.</p></li>
<li><p>ec2_vpc_igw_facts - Remove deprecated <code class="docutils literal notranslate"><span class="pre">ec2_vpc_igw_facts</span></code> alias.  Please use <code class="docutils literal notranslate"><span class="pre">ec2_vpc_igw_info</span></code> instead.</p></li>
<li><p>ec2_vpc_nat_gateway_facts - Remove deprecated <code class="docutils literal notranslate"><span class="pre">ec2_vpc_nat_gateway_facts</span></code> alias.  Please use <code class="docutils literal notranslate"><span class="pre">ec2_vpc_nat_gateway_info</span></code> instead.</p></li>
<li><p>ec2_vpc_net_facts - Remove deprecated <code class="docutils literal notranslate"><span class="pre">ec2_vpc_net_facts</span></code> alias.  Please use <code class="docutils literal notranslate"><span class="pre">ec2_vpc_net_info</span></code> instead.</p></li>
<li><p>ec2_vpc_route_table_facts - Remove deprecated <code class="docutils literal notranslate"><span class="pre">ec2_vpc_route_table_facts</span></code> alias.  Please use <code class="docutils literal notranslate"><span class="pre">ec2_vpc_route_table_info</span></code> instead.</p></li>
<li><p>ec2_vpc_subnet_facts - Remove deprecated <code class="docutils literal notranslate"><span class="pre">ec2_vpc_subnet_facts</span></code> alias.  Please use <code class="docutils literal notranslate"><span class="pre">ec2_vpc_subnet_info</span></code> instead.</p></li>
</ul>
</section>
<section id="id43">
<h3><a class="toc-backref" href="#id141" role="doc-backlink">Deprecated Features</a><a class="headerlink" href="#id43" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>module_utils - support for the original AWS SDK <code class="docutils literal notranslate"><span class="pre">boto</span></code> has been deprecated in favour of the <code class="docutils literal notranslate"><span class="pre">boto3</span></code>/<code class="docutils literal notranslate"><span class="pre">botocore</span></code> SDK. All <code class="docutils literal notranslate"><span class="pre">boto</span></code> based modules have either been deprecated or migrated to <code class="docutils literal notranslate"><span class="pre">botocore</span></code>, and the remaining support code in module_utils will be removed in release 4.0.0 of the amazon.aws collection. Any modules outside of the amazon.aws and community.aws collections based on the <code class="docutils literal notranslate"><span class="pre">boto</span></code> library will need to be migrated to the <code class="docutils literal notranslate"><span class="pre">boto3</span></code>/<code class="docutils literal notranslate"><span class="pre">botocore</span></code> libraries (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/575">https://github.com/ansible-collections/amazon.aws/pull/575</a>).</p></li>
</ul>
</section>
</section>
<section id="v2-2-0">
<h2><a class="toc-backref" href="#id142" role="doc-backlink">v2.2.0</a><a class="headerlink" href="#v2-2-0" title="Permalink to this heading"></a></h2>
<section id="id44">
<h3><a class="toc-backref" href="#id143" role="doc-backlink">Minor Changes</a><a class="headerlink" href="#id44" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>ec2_instance - add count parameter support (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/539">https://github.com/ansible-collections/amazon.aws/pull/539</a>).</p></li>
</ul>
</section>
<section id="id45">
<h3><a class="toc-backref" href="#id144" role="doc-backlink">Bugfixes</a><a class="headerlink" href="#id45" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>aws_ec2 inventory - use the iam_role_arn configuration parameter to assume the role before trying to call DescribeRegions if the regions configuration is not set and AWS credentials provided without enough privilege to perform the DescribeRegions action. (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/issues/566">https://github.com/ansible-collections/amazon.aws/issues/566</a>).</p></li>
<li><p>ec2_vol - Sets the Iops value in req_obj even if the iops value has not changed, to allow modifying volume types that require passing an iops value to boto. (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/606">https://github.com/ansible-collections/amazon.aws/pull/606</a>)</p></li>
<li><p>ec2_vol - changing a volume from a type that does not support IOPS (like <code class="docutils literal notranslate"><span class="pre">standard</span></code>) to a type that does (like <code class="docutils literal notranslate"><span class="pre">gp3</span></code>) fails (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/issues/626">https://github.com/ansible-collections/amazon.aws/issues/626</a>).</p></li>
<li><p>ec2_vpc_igw - fix ‘NoneType’ object is not subscriptable error (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/691">https://github.com/ansible-collections/amazon.aws/pull/691</a>).</p></li>
<li><p>ec2_vpc_igw - use paginator for describe internet gateways and add retry to fix NoneType object is not subscriptable error (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/695">https://github.com/ansible-collections/amazon.aws/pull/695</a>).</p></li>
<li><p>elb_classic_lb - handle security_group_ids when providing security_group_names and fix broken tasks in integration test (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/592">https://github.com/ansible-collections/amazon.aws/pull/592</a>).</p></li>
</ul>
</section>
</section>
<section id="v2-1-0">
<h2><a class="toc-backref" href="#id145" role="doc-backlink">v2.1.0</a><a class="headerlink" href="#v2-1-0" title="Permalink to this heading"></a></h2>
<section id="id46">
<h3><a class="toc-backref" href="#id146" role="doc-backlink">Minor Changes</a><a class="headerlink" href="#id46" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>aws_service_ip_ranges - add new option <code class="docutils literal notranslate"><span class="pre">ipv6_prefixes</span></code> to get only IPV6 addresses and prefixes for Amazon services (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/430">https://github.com/ansible-collections/amazon.aws/pull/430</a>)</p></li>
<li><p>cloudformation - fix detection when there are no changes. Sometimes when there are no changes, the change set will have a status FAILED with StatusReason No updates are to be performed (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/507">https://github.com/ansible-collections/amazon.aws/pull/507</a>).</p></li>
<li><p>ec2_ami - add check_mode support (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/516">https://github.com/ansible-collections/amazon.aws/pull/516</a>).</p></li>
<li><p>ec2_ami - use module_util helper for tagging AMIs (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/520">https://github.com/ansible-collections/amazon.aws/pull/520</a>).</p></li>
<li><p>ec2_ami - when creating an AMI from an instance pass the tagging options at creation time (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/551">https://github.com/ansible-collections/amazon.aws/pull/551</a>).</p></li>
<li><p>ec2_elb_lb - module renamed to <code class="docutils literal notranslate"><span class="pre">elb_classic_lb</span></code> (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/377">https://github.com/ansible-collections/amazon.aws/pull/377</a>).</p></li>
<li><p>ec2_eni - add check mode support (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/534">https://github.com/ansible-collections/amazon.aws/pull/534</a>).</p></li>
<li><p>ec2_eni - use module_util helper for tagging ENIs (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/522">https://github.com/ansible-collections/amazon.aws/pull/522</a>).</p></li>
<li><p>ec2_instance - use module_util helpers for tagging (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/527">https://github.com/ansible-collections/amazon.aws/pull/527</a>).</p></li>
<li><p>ec2_key - add support for tagging key pairs (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/548">https://github.com/ansible-collections/amazon.aws/pull/548</a>).</p></li>
<li><p>ec2_snapshot - add check_mode support (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/512">https://github.com/ansible-collections/amazon.aws/pull/512</a>).</p></li>
<li><p>ec2_vol - add check_mode support (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/509">https://github.com/ansible-collections/amazon.aws/pull/509</a>).</p></li>
<li><p>ec2_vpc_dhcp_option - use module_util helpers for tagging (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/531">https://github.com/ansible-collections/amazon.aws/pull/531</a>).</p></li>
<li><p>ec2_vpc_endpoint - added <code class="docutils literal notranslate"><span class="pre">vpc_endpoint_security_groups</span></code> parameter to support defining the security group attached to an interface endpoint (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/544">https://github.com/ansible-collections/amazon.aws/pull/544</a>).</p></li>
<li><p>ec2_vpc_endpoint - added <code class="docutils literal notranslate"><span class="pre">vpc_endpoint_subnets</span></code> parameter to support defining the subnet attached to an interface or gateway endpoint (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/544">https://github.com/ansible-collections/amazon.aws/pull/544</a>).</p></li>
<li><p>ec2_vpc_endpoint - use module_util helper for tagging (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/525">https://github.com/ansible-collections/amazon.aws/pull/525</a>).</p></li>
<li><p>ec2_vpc_endpoint - use module_util helpers for tagging (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/531">https://github.com/ansible-collections/amazon.aws/pull/531</a>).</p></li>
<li><p>ec2_vpc_igw - use module_util helper for tagging (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/523">https://github.com/ansible-collections/amazon.aws/pull/523</a>).</p></li>
<li><p>ec2_vpc_igw - use module_util helpers for tagging (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/531">https://github.com/ansible-collections/amazon.aws/pull/531</a>).</p></li>
<li><p>ec2_vpc_nat_gateway - use module_util helper for tagging (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/524">https://github.com/ansible-collections/amazon.aws/pull/524</a>).</p></li>
<li><p>ec2_vpc_nat_gateway - use module_util helpers for tagging (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/531">https://github.com/ansible-collections/amazon.aws/pull/531</a>).</p></li>
<li><p>elb_classic_lb - added retries on common AWS temporary API failures (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/377">https://github.com/ansible-collections/amazon.aws/pull/377</a>).</p></li>
<li><p>elb_classic_lb - added support for check_mode (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/377">https://github.com/ansible-collections/amazon.aws/pull/377</a>).</p></li>
<li><p>elb_classic_lb - added support for wait during creation (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/377">https://github.com/ansible-collections/amazon.aws/pull/377</a>).</p></li>
<li><p>elb_classic_lb - added support for wait during instance addition and removal (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/377">https://github.com/ansible-collections/amazon.aws/pull/377</a>).</p></li>
<li><p>elb_classic_lb - migrated to boto3 SDK (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/377">https://github.com/ansible-collections/amazon.aws/pull/377</a>).</p></li>
<li><p>elb_classic_lb - various error messages changed due to refactor (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/377">https://github.com/ansible-collections/amazon.aws/pull/377</a>).</p></li>
<li><p>module_utils.ec2 - moved generic tagging helpers into module_utils.tagging (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/527">https://github.com/ansible-collections/amazon.aws/pull/527</a>).</p></li>
<li><p>module_utils.tagging - add new helper to generate TagSpecification lists (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/527">https://github.com/ansible-collections/amazon.aws/pull/527</a>).</p></li>
</ul>
</section>
<section id="id47">
<h3><a class="toc-backref" href="#id147" role="doc-backlink">Deprecated Features</a><a class="headerlink" href="#id47" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>ec2_classic_lb - setting of the <code class="docutils literal notranslate"><span class="pre">ec2_elb</span></code> fact has been deprecated and will be removed in release 4.0.0 of the collection. The module now returns <code class="docutils literal notranslate"><span class="pre">elb</span></code> which can be accessed using the register keyword (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/552">https://github.com/ansible-collections/amazon.aws/pull/552</a>).</p></li>
</ul>
</section>
<section id="id48">
<h3><a class="toc-backref" href="#id148" role="doc-backlink">Bugfixes</a><a class="headerlink" href="#id48" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>AWS action group - added missing <code class="docutils literal notranslate"><span class="pre">ec2_instance_facts</span></code> entry (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/issues/557">https://github.com/ansible-collections/amazon.aws/issues/557</a>)</p></li>
<li><p>ec2_ami - fix problem when creating an AMI from an instance with ephemeral volumes (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/issues/511">https://github.com/ansible-collections/amazon.aws/issues/511</a>).</p></li>
<li><p>ec2_instance - ensure that ec2_instance falls back to the tag(Name) parameter when no filter and no name parameter is passed (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/issues/526">https://github.com/ansible-collections/amazon.aws/issues/526</a>).</p></li>
<li><p>s3_bucket - update error handling to better support DigitalOcean Space (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/issues/508">https://github.com/ansible-collections/amazon.aws/issues/508</a>).</p></li>
</ul>
</section>
</section>
<section id="v2-0-0">
<h2><a class="toc-backref" href="#id149" role="doc-backlink">v2.0.0</a><a class="headerlink" href="#v2-0-0" title="Permalink to this heading"></a></h2>
<section id="id49">
<h3><a class="toc-backref" href="#id150" role="doc-backlink">Major Changes</a><a class="headerlink" href="#id49" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>amazon.aws collection - Due to the AWS SDKs announcing the end of support for Python less than 3.6 (<a class="reference external" href="https://boto3.amazonaws.com/v1/documentation/api/1.17.64/guide/migrationpy3.html">https://boto3.amazonaws.com/v1/documentation/api/1.17.64/guide/migrationpy3.html</a>) this collection now requires Python 3.6+ (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/298">https://github.com/ansible-collections/amazon.aws/pull/298</a>).</p></li>
<li><p>amazon.aws collection - The amazon.aws collection has dropped support for <code class="docutils literal notranslate"><span class="pre">botocore&lt;1.18.0</span></code> and <code class="docutils literal notranslate"><span class="pre">boto3&lt;1.15.0</span></code>. Most modules will continue to work with older versions of the AWS SDK, however compatibility with older versions of the SDK is not guaranteed and will not be tested. When using older versions of the SDK a warning will be emitted by Ansible (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/502">https://github.com/ansible-collections/amazon.aws/pull/502</a>).</p></li>
<li><p>ec2_instance - The module has been migrated from the <code class="docutils literal notranslate"><span class="pre">community.aws</span></code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code class="docutils literal notranslate"><span class="pre">amazon.aws.ec2_instance</span></code>.</p></li>
<li><p>ec2_instance_info - The module has been migrated from the <code class="docutils literal notranslate"><span class="pre">community.aws</span></code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code class="docutils literal notranslate"><span class="pre">amazon.aws.ec2_instance_info</span></code>.</p></li>
<li><p>ec2_vpc_endpoint - The module has been migrated from the <code class="docutils literal notranslate"><span class="pre">community.aws</span></code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code class="docutils literal notranslate"><span class="pre">amazon.aws.ec2_vpc_endpoint</span></code>.</p></li>
<li><p>ec2_vpc_endpoint_facts - The module has been migrated from the <code class="docutils literal notranslate"><span class="pre">community.aws</span></code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code class="docutils literal notranslate"><span class="pre">amazon.aws.ec2_vpc_endpoint_info</span></code>.</p></li>
<li><p>ec2_vpc_endpoint_info - The module has been migrated from the <code class="docutils literal notranslate"><span class="pre">community.aws</span></code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code class="docutils literal notranslate"><span class="pre">amazon.aws.ec2_vpc_endpoint_info</span></code>.</p></li>
<li><p>ec2_vpc_endpoint_service_info - The module has been migrated from the <code class="docutils literal notranslate"><span class="pre">community.aws</span></code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code class="docutils literal notranslate"><span class="pre">amazon.aws.ec2_vpc_endpoint_service_info</span></code>.</p></li>
<li><p>ec2_vpc_igw - The module has been migrated from the <code class="docutils literal notranslate"><span class="pre">community.aws</span></code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code class="docutils literal notranslate"><span class="pre">amazon.aws.ec2_vpc_igw</span></code>.</p></li>
<li><p>ec2_vpc_igw_facts - The module has been migrated from the <code class="docutils literal notranslate"><span class="pre">community.aws</span></code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code class="docutils literal notranslate"><span class="pre">amazon.aws.ec2_vpc_igw_facts</span></code>.</p></li>
<li><p>ec2_vpc_igw_info - The module has been migrated from the <code class="docutils literal notranslate"><span class="pre">community.aws</span></code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code class="docutils literal notranslate"><span class="pre">amazon.aws.ec2_vpc_igw_info</span></code>.</p></li>
<li><p>ec2_vpc_nat_gateway - The module has been migrated from the <code class="docutils literal notranslate"><span class="pre">community.aws</span></code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code class="docutils literal notranslate"><span class="pre">amazon.aws.ec2_vpc_nat_gateway</span></code>.</p></li>
<li><p>ec2_vpc_nat_gateway_facts - The module has been migrated from the <code class="docutils literal notranslate"><span class="pre">community.aws</span></code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code class="docutils literal notranslate"><span class="pre">amazon.aws.ec2_vpc_nat_gateway_info</span></code>.</p></li>
<li><p>ec2_vpc_nat_gateway_info - The module has been migrated from the <code class="docutils literal notranslate"><span class="pre">community.aws</span></code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code class="docutils literal notranslate"><span class="pre">amazon.aws.ec2_vpc_nat_gateway_info</span></code>.</p></li>
<li><p>ec2_vpc_route_table - The module has been migrated from the <code class="docutils literal notranslate"><span class="pre">community.aws</span></code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code class="docutils literal notranslate"><span class="pre">amazon.aws.ec2_vpc_route_table</span></code>.</p></li>
<li><p>ec2_vpc_route_table_facts - The module has been migrated from the <code class="docutils literal notranslate"><span class="pre">community.aws</span></code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code class="docutils literal notranslate"><span class="pre">amazon.aws.ec2_vpc_route_table_facts</span></code>.</p></li>
<li><p>ec2_vpc_route_table_info - The module has been migrated from the <code class="docutils literal notranslate"><span class="pre">community.aws</span></code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code class="docutils literal notranslate"><span class="pre">amazon.aws.ec2_vpc_route_table_info</span></code>.</p></li>
</ul>
</section>
<section id="id50">
<h3><a class="toc-backref" href="#id151" role="doc-backlink">Minor Changes</a><a class="headerlink" href="#id50" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>aws_ec2 - use a generator rather than list comprehension (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/465">https://github.com/ansible-collections/amazon.aws/pull/465</a>).</p></li>
<li><p>aws_s3 - Tests for compatibility with older versions of the AWS SDKs have been removed (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/442">https://github.com/ansible-collections/amazon.aws/pull/442</a>).</p></li>
<li><p>aws_s3 - Tests for compatibility with older versions of the AWS SDKs have been removed (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/442">https://github.com/ansible-collections/amazon.aws/pull/442</a>).</p></li>
<li><p>aws_s3 - add <code class="docutils literal notranslate"><span class="pre">tags</span></code> and <code class="docutils literal notranslate"><span class="pre">purge_tags</span></code> features for an S3 object (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/335">https://github.com/ansible-collections/amazon.aws/pull/335</a>)</p></li>
<li><p>aws_s3 - new mode to copy existing on another bucket (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/359">https://github.com/ansible-collections/amazon.aws/pull/359</a>).</p></li>
<li><p>aws_secret - added support for gracefully handling deleted secrets (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/455">https://github.com/ansible-collections/amazon.aws/pull/455</a>).</p></li>
<li><p>aws_ssm - add “on_missing” and “on_denied” option (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/370">https://github.com/ansible-collections/amazon.aws/pull/370</a>).</p></li>
<li><p>cloudformation - Tests for compatibility with older versions of the AWS SDKs have been removed (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/442">https://github.com/ansible-collections/amazon.aws/pull/442</a>).</p></li>
<li><p>cloudformation - Tests for compatibility with older versions of the AWS SDKs have been removed (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/442">https://github.com/ansible-collections/amazon.aws/pull/442</a>).</p></li>
<li><p>ec2_ami - ensure tags are propagated to the snapshot(s) when creating an AMI (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/437">https://github.com/ansible-collections/amazon.aws/pull/437</a>).</p></li>
<li><p>ec2_eni - fix idempotency when <code class="docutils literal notranslate"><span class="pre">security_groups</span></code> attribute is specified (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/337">https://github.com/ansible-collections/amazon.aws/pull/337</a>).</p></li>
<li><p>ec2_eni - timeout increased when waiting for ENIs to finish detaching (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/501">https://github.com/ansible-collections/amazon.aws/pull/501</a>).</p></li>
<li><p>ec2_group - Tests for compatibility with older versions of the AWS SDKs have been removed (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/442">https://github.com/ansible-collections/amazon.aws/pull/442</a>).</p></li>
<li><p>ec2_group - Tests for compatibility with older versions of the AWS SDKs have been removed (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/442">https://github.com/ansible-collections/amazon.aws/pull/442</a>).</p></li>
<li><p>ec2_group - use a generator rather than list comprehension (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/465">https://github.com/ansible-collections/amazon.aws/pull/465</a>).</p></li>
<li><p>ec2_group - use system ipaddress module, available with Python &gt;= 3.3, instead of vendored copy (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/461">https://github.com/ansible-collections/amazon.aws/pull/461</a>).</p></li>
<li><p>ec2_instance - Tests for compatibility with older versions of the AWS SDKs have been removed (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/442">https://github.com/ansible-collections/amazon.aws/pull/442</a>).</p></li>
<li><p>ec2_instance - Tests for compatibility with older versions of the AWS SDKs have been removed (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/442">https://github.com/ansible-collections/amazon.aws/pull/442</a>).</p></li>
<li><p>ec2_instance - add <code class="docutils literal notranslate"><span class="pre">throughput</span></code> parameter for gp3 volume types (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/433">https://github.com/ansible-collections/amazon.aws/pull/433</a>).</p></li>
<li><p>ec2_instance - add support for controlling metadata options (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/414">https://github.com/ansible-collections/amazon.aws/pull/414</a>).</p></li>
<li><p>ec2_instance - remove unnecessary raise when exiting with a failure (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/460">https://github.com/ansible-collections/amazon.aws/pull/460</a>).</p></li>
<li><p>ec2_instance_info - Tests for compatibility with older versions of the AWS SDKs have been removed (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/442">https://github.com/ansible-collections/amazon.aws/pull/442</a>).</p></li>
<li><p>ec2_instance_info - Tests for compatibility with older versions of the AWS SDKs have been removed (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/442">https://github.com/ansible-collections/amazon.aws/pull/442</a>).</p></li>
<li><p>ec2_snapshot - migrated to use the boto3 python library (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/356">https://github.com/ansible-collections/amazon.aws/pull/356</a>).</p></li>
<li><p>ec2_spot_instance_info - Added a new module that describes the specified Spot Instance requests (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/487">https://github.com/ansible-collections/amazon.aws/pull/487</a>).</p></li>
<li><p>ec2_vol - add parameter <code class="docutils literal notranslate"><span class="pre">multi_attach</span></code> to support Multi-Attach on volume creation/update (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/362">https://github.com/ansible-collections/amazon.aws/pull/362</a>).</p></li>
<li><p>ec2_vol - relax the boto3/botocore requirements and only require botocore 1.19.27 for modifying the <code class="docutils literal notranslate"><span class="pre">throughput</span></code> parameter (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/346">https://github.com/ansible-collections/amazon.aws/pull/346</a>).</p></li>
<li><p>ec2_vpc_dhcp_option - Now also returns a boto3-style resource description in the <code class="docutils literal notranslate"><span class="pre">dhcp_options</span></code> result key.  This includes any tags for the <code class="docutils literal notranslate"><span class="pre">dhcp_options_id</span></code> and has the same format as the current return value of <code class="docutils literal notranslate"><span class="pre">ec2_vpc_dhcp_option_info</span></code>. (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/252">https://github.com/ansible-collections/amazon.aws/pull/252</a>)</p></li>
<li><p>ec2_vpc_dhcp_option_info - Now also returns a user-friendly <code class="docutils literal notranslate"><span class="pre">dhcp_config</span></code> key that matches the historical <code class="docutils literal notranslate"><span class="pre">new_config</span></code> key from ec2_vpc_dhcp_option, and alleviates the need to use <code class="docutils literal notranslate"><span class="pre">items2dict(key_name='key',</span> <span class="pre">value_name='values')</span></code> when parsing the output of the module. (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/252">https://github.com/ansible-collections/amazon.aws/pull/252</a>)</p></li>
<li><p>ec2_vpc_subnet - Tests for compatibility with older versions of the AWS SDKs have been removed (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/442">https://github.com/ansible-collections/amazon.aws/pull/442</a>).</p></li>
<li><p>ec2_vpc_subnet - Tests for compatibility with older versions of the AWS SDKs have been removed (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/442">https://github.com/ansible-collections/amazon.aws/pull/442</a>).</p></li>
<li><p>integration tests - remove dependency with collection <code class="docutils literal notranslate"><span class="pre">community.general</span></code> (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/361">https://github.com/ansible-collections/amazon.aws/pull/361</a>).</p></li>
<li><p>module_utils/waiter - add RDS cluster <code class="docutils literal notranslate"><span class="pre">cluster_available</span></code> waiter (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/464">https://github.com/ansible-collections/amazon.aws/pull/464</a>).</p></li>
<li><p>module_utils/waiter - add RDS cluster <code class="docutils literal notranslate"><span class="pre">cluster_deleted</span></code> waiter (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/464">https://github.com/ansible-collections/amazon.aws/pull/464</a>).</p></li>
<li><p>module_utils/waiter - add Route53 <code class="docutils literal notranslate"><span class="pre">resource_record_sets_changed</span></code> waiter (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/350">https://github.com/ansible-collections/amazon.aws/pull/350</a>).</p></li>
<li><p>s3_bucket - Tests for compatibility with older versions of the AWS SDKs have been removed (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/442">https://github.com/ansible-collections/amazon.aws/pull/442</a>).</p></li>
<li><p>s3_bucket - Tests for compatibility with older versions of the AWS SDKs have been removed (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/442">https://github.com/ansible-collections/amazon.aws/pull/442</a>).</p></li>
<li><p>s3_bucket - add new option <code class="docutils literal notranslate"><span class="pre">object_ownership</span></code> to configure object ownership (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/311">https://github.com/ansible-collections/amazon.aws/pull/311</a>)</p></li>
<li><p>s3_bucket - updated to use HeadBucket instead of ListBucket when testing for bucket existence (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/357">https://github.com/ansible-collections/amazon.aws/pull/357</a>).</p></li>
</ul>
</section>
<section id="id51">
<h3><a class="toc-backref" href="#id152" role="doc-backlink">Breaking Changes / Porting Guide</a><a class="headerlink" href="#id51" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>ec2_instance - instance wait for state behaviour has changed.  If plays require the old behavior of waiting for the instance monitoring status to become <code class="docutils literal notranslate"><span class="pre">OK</span></code> when launching a new instance, the action will need to specify <code class="docutils literal notranslate"><span class="pre">state:</span> <span class="pre">started</span></code> (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/481">https://github.com/ansible-collections/amazon.aws/pull/481</a>).</p></li>
<li><p>ec2_snapshot - support for waiting indefinitely has been dropped, new default is 10 minutes (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/356">https://github.com/ansible-collections/amazon.aws/pull/356</a>).</p></li>
<li><p>ec2_vol_info - return <code class="docutils literal notranslate"><span class="pre">attachment_set</span></code> is now a list of attachments with Multi-Attach support on disk. (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/362">https://github.com/ansible-collections/amazon.aws/pull/362</a>).</p></li>
<li><p>ec2_vpc_dhcp_option - The module has been refactored to use boto3. Keys and value types returned by the module are now consistent, which is a change from the previous behaviour. A <code class="docutils literal notranslate"><span class="pre">purge_tags</span></code> option has been added, which defaults to <code class="docutils literal notranslate"><span class="pre">True</span></code>.  (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/252">https://github.com/ansible-collections/amazon.aws/pull/252</a>)</p></li>
<li><p>ec2_vpc_dhcp_option_info - Now preserves case for tag keys in return value. (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/252">https://github.com/ansible-collections/amazon.aws/pull/252</a>)</p></li>
<li><p>module_utils.core - The boto3 switch has been removed from the region parameter (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/287">https://github.com/ansible-collections/amazon.aws/pull/287</a>).</p></li>
<li><p>module_utils/compat - vendored copy of ipaddress removed (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/461">https://github.com/ansible-collections/amazon.aws/pull/461</a>).</p></li>
<li><p>module_utils/core - updated the <code class="docutils literal notranslate"><span class="pre">scrub_none_parameters</span></code> function so that <code class="docutils literal notranslate"><span class="pre">descend_into_lists</span></code> is set to <code class="docutils literal notranslate"><span class="pre">True</span></code> by default (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/297">https://github.com/ansible-collections/amazon.aws/pull/297</a>).</p></li>
</ul>
</section>
<section id="id52">
<h3><a class="toc-backref" href="#id153" role="doc-backlink">Deprecated Features</a><a class="headerlink" href="#id52" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>ec2 - the boto based <code class="docutils literal notranslate"><span class="pre">ec2</span></code> module has been deprecated in favour of the boto3 based <code class="docutils literal notranslate"><span class="pre">ec2_instance</span></code> module. The <code class="docutils literal notranslate"><span class="pre">ec2</span></code> module will be removed in release 4.0.0 (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/424">https://github.com/ansible-collections/amazon.aws/pull/424</a>).</p></li>
<li><p>ec2_vpc_dhcp_option - The <code class="docutils literal notranslate"><span class="pre">new_config</span></code> return key has been deprecated and will be removed in a future release.  It will be replaced by <code class="docutils literal notranslate"><span class="pre">dhcp_config</span></code>.  Both values are returned in the interim. (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/252">https://github.com/ansible-collections/amazon.aws/pull/252</a>)</p></li>
</ul>
</section>
<section id="id53">
<h3><a class="toc-backref" href="#id154" role="doc-backlink">Bugfixes</a><a class="headerlink" href="#id53" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>aws_s3 - Fix upload permission when an S3 bucket ACL policy requires a particular canned ACL (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/318">https://github.com/ansible-collections/amazon.aws/pull/318</a>)</p></li>
<li><p>ec2_ami - Fix ami issue when creating an ami with no_device parameter (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/386">https://github.com/ansible-collections/amazon.aws/pull/386</a>)</p></li>
<li><p>ec2_instance - <code class="docutils literal notranslate"><span class="pre">ec2_instance</span></code> was waiting on EC2 instance monitoring status to be <code class="docutils literal notranslate"><span class="pre">OK</span></code> when launching a new instance. This could cause a play to wait multiple minutes for AWS’s monitoring to complete status checks (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/481">https://github.com/ansible-collections/amazon.aws/pull/481</a>).</p></li>
<li><p>ec2_snapshot - Fix snapshot issue when capturing a snapshot of a volume without tags (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/383">https://github.com/ansible-collections/amazon.aws/pull/383</a>)</p></li>
<li><p>ec2_vol - Fixes <code class="docutils literal notranslate"><span class="pre">changed</span></code> status when <code class="docutils literal notranslate"><span class="pre">modify_volume</span></code> is used, but no new  disk is being attached.  The module incorrectly reported that no change had  occurred even when disks had been modified (iops, throughput, type, etc.). (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/issues/482">https://github.com/ansible-collections/amazon.aws/issues/482</a>).</p></li>
<li><p>ec2_vol - fix iops setting and enforce iops/throughput parameters usage (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/334">https://github.com/ansible-collections/amazon.aws/pull/334</a>)</p></li>
<li><p>inventory - <code class="docutils literal notranslate"><span class="pre">include_filters</span></code> won’t be ignored anymore if <code class="docutils literal notranslate"><span class="pre">filters</span></code> is not set (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/issues/457">https://github.com/ansible-collections/amazon.aws/issues/457</a>).</p></li>
<li><p>s3_bucket - Fix error handling when attempting to set a feature that is not implemented (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/391">https://github.com/ansible-collections/amazon.aws/pull/391</a>).</p></li>
<li><p>s3_bucket - Gracefully handle <code class="docutils literal notranslate"><span class="pre">NotImplemented</span></code> exceptions when fetching encryption settings (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/issues/390">https://github.com/ansible-collections/amazon.aws/issues/390</a>).</p></li>
</ul>
</section>
<section id="id54">
<h3><a class="toc-backref" href="#id155" role="doc-backlink">New Modules</a><a class="headerlink" href="#id54" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>ec2_spot_instance - request, stop, reboot or cancel spot instance</p></li>
<li><p>ec2_spot_instance_info - Gather information about ec2 spot instance requests</p></li>
</ul>
</section>
</section>
<section id="v1-5-0">
<h2><a class="toc-backref" href="#id156" role="doc-backlink">v1.5.0</a><a class="headerlink" href="#v1-5-0" title="Permalink to this heading"></a></h2>
<section id="id55">
<h3><a class="toc-backref" href="#id157" role="doc-backlink">Minor Changes</a><a class="headerlink" href="#id55" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>AWS inventory plugins - use shared HAS_BOTO3 helper rather than copying code (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/288">https://github.com/ansible-collections/amazon.aws/pull/288</a>).</p></li>
<li><p>AWS lookup plugins - use shared HAS_BOTO3 helper rather than copying code (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/288">https://github.com/ansible-collections/amazon.aws/pull/288</a>).</p></li>
<li><p>aws_account_attribute - add retries on common AWS failures (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/295">https://github.com/ansible-collections/amazon.aws/pull/295</a>).</p></li>
<li><p>aws_ec2 inventory - expose a new configuration key <code class="docutils literal notranslate"><span class="pre">use_contrib_script_compatible_ec2_tag_keys</span></code> to reproduce a behavior of the old <code class="docutils literal notranslate"><span class="pre">ec2.py</span></code> inventory script. With this option enabled, each tag is exposed using a <code class="docutils literal notranslate"><span class="pre">ec2_tag_TAGNAME</span></code> key (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/331">https://github.com/ansible-collections/amazon.aws/pull/331</a>).</p></li>
<li><p>aws_ec2 inventory - expose to new keys called <code class="docutils literal notranslate"><span class="pre">include_filters</span></code> and <code class="docutils literal notranslate"><span class="pre">exclude_filters</span></code> to give the user the ability to compose an inventory with multiple queries (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/328">https://github.com/ansible-collections/amazon.aws/pull/328</a>).</p></li>
<li><p>aws_ec2 inventory plugin - Added support for using Jinja2 templates in the authentication fields (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/57">https://github.com/ansible-collections/amazon.aws/pull/57</a>).</p></li>
<li><p>cloudformation - added support for StackPolicyDuringUpdateBody (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/155">https://github.com/ansible-collections/amazon.aws/pull/155</a>).</p></li>
<li><p>ec2_metadata_facts - add support for IMDSv2 (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/43">https://github.com/ansible-collections/amazon.aws/pull/43</a>).</p></li>
<li><p>ec2_snapshot_info - add the <code class="docutils literal notranslate"><span class="pre">max_results</span></code> along with <code class="docutils literal notranslate"><span class="pre">next_token_id</span></code> option (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/321">https://github.com/ansible-collections/amazon.aws/pull/321</a>).</p></li>
<li><p>ec2_tag - use common code for tagging resources (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/309">https://github.com/ansible-collections/amazon.aws/pull/309</a>).</p></li>
<li><p>ec2_tag_info - use common code for tagging resources (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/309">https://github.com/ansible-collections/amazon.aws/pull/309</a>).</p></li>
<li><p>ec2_vol - add the <code class="docutils literal notranslate"><span class="pre">purge_tags</span></code> option (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/242">https://github.com/ansible-collections/amazon.aws/pull/242</a>).</p></li>
<li><p>ec2_vol - use common code for tagging resources (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/309">https://github.com/ansible-collections/amazon.aws/pull/309</a>).</p></li>
<li><p>ec2_vpc_net - use a custom waiter which can handle API rate limiting (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/270">https://github.com/ansible-collections/amazon.aws/pull/270</a>).</p></li>
<li><p>ec2_vpc_subnet - use AWSRetry decorator to more consistently handle API rate limiting (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/270">https://github.com/ansible-collections/amazon.aws/pull/270</a>).</p></li>
<li><p>ec2_vpc_subnet - use common code for tagging resources (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/309">https://github.com/ansible-collections/amazon.aws/pull/309</a>).</p></li>
<li><p>module_utils.cloudfront_facts - linting cleanup (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/291">https://github.com/ansible-collections/amazon.aws/pull/291</a>).</p></li>
<li><p>module_utils.ec2 - linting cleanup (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/291">https://github.com/ansible-collections/amazon.aws/pull/291</a>).</p></li>
<li><p>module_utils/core - add a helper function <code class="docutils literal notranslate"><span class="pre">normalize_boto3_result</span></code> (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/271">https://github.com/ansible-collections/amazon.aws/pull/271</a>).</p></li>
<li><p>module_utils/core - add parameter <code class="docutils literal notranslate"><span class="pre">descend_into_lists</span></code> to <code class="docutils literal notranslate"><span class="pre">scrub_none_parameters</span></code> helper function (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/262">https://github.com/ansible-collections/amazon.aws/pull/262</a>).</p></li>
<li><p>module_utils/ec2 - added additional helper functions for tagging EC2 resources (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/309">https://github.com/ansible-collections/amazon.aws/pull/309</a>).</p></li>
<li><p>sanity tests - add ignore.txt for 2.12 (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/315">https://github.com/ansible-collections/amazon.aws/pull/315</a>).</p></li>
</ul>
</section>
<section id="id56">
<h3><a class="toc-backref" href="#id158" role="doc-backlink">Bugfixes</a><a class="headerlink" href="#id56" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>ec2_vol - create or update now preserves the existing tags, including Name (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/issues/229">https://github.com/ansible-collections/amazon.aws/issues/229</a>)</p></li>
<li><p>ec2_vol - fix exception when platform information isn’t available (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/issues/305">https://github.com/ansible-collections/amazon.aws/issues/305</a>).</p></li>
</ul>
</section>
</section>
<section id="v1-4-1">
<h2><a class="toc-backref" href="#id159" role="doc-backlink">v1.4.1</a><a class="headerlink" href="#v1-4-1" title="Permalink to this heading"></a></h2>
<section id="id57">
<h3><a class="toc-backref" href="#id160" role="doc-backlink">Minor Changes</a><a class="headerlink" href="#id57" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>module_utils - the ipaddress module utility has been vendored into this collection.  This eliminates the collection dependency on ansible.netcommon (which had removed the library in its 2.0 release).  The ipaddress library is provided for internal use in this collection only. (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/issues/273">https://github.com/ansible-collections/amazon.aws/issues/273</a>)-</p></li>
</ul>
</section>
</section>
<section id="v1-4-0">
<h2><a class="toc-backref" href="#id161" role="doc-backlink">v1.4.0</a><a class="headerlink" href="#v1-4-0" title="Permalink to this heading"></a></h2>
<section id="id58">
<h3><a class="toc-backref" href="#id162" role="doc-backlink">Minor Changes</a><a class="headerlink" href="#id58" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>aws_ec2 - Add hostname options concatenation</p></li>
<li><p>aws_ec2 inventory plugin - avoid a superfluous import of <code class="docutils literal notranslate"><span class="pre">ansible.utils.display.Display</span></code> (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/226">https://github.com/ansible-collections/amazon.aws/pull/226</a>).</p></li>
<li><p>aws_ec2 module - Replace inverse aws instance-state-name filters !terminated, !shutting-down in favor of postive filters pending, running, stopping, stopped. Issue 235. (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/237">https://github.com/ansible-collections/amazon.aws/pull/237</a>)</p></li>
<li><p>aws_secret - add <code class="docutils literal notranslate"><span class="pre">bypath</span></code> functionality (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/192">https://github.com/ansible-collections/amazon.aws/pull/192</a>).</p></li>
<li><p>ec2_key - add AWSRetry decorator to automatically retry on common temporary failures (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/213">https://github.com/ansible-collections/amazon.aws/pull/213</a>).</p></li>
<li><p>ec2_vol - Add support for gp3 volumes and support for modifying existing volumes (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/issues/55">https://github.com/ansible-collections/amazon.aws/issues/55</a>).</p></li>
<li><p>module_utils/elbv2 - add logic to compare_rules to suit Values list nested within dicts unique to each field type. Fixes issue (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/issues/187">https://github.com/ansible-collections/amazon.aws/issues/187</a>)</p></li>
<li><p>various AWS plugins and module_utils - Cleanup unused imports (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/217">https://github.com/ansible-collections/amazon.aws/pull/217</a>).</p></li>
</ul>
</section>
<section id="id59">
<h3><a class="toc-backref" href="#id163" role="doc-backlink">Bugfixes</a><a class="headerlink" href="#id59" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>ec2_vol - a creation or update now returns a structure with an up to date list of tags (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/241">https://github.com/ansible-collections/amazon.aws/pull/241</a>).</p></li>
</ul>
</section>
</section>
<section id="v1-3-0">
<h2><a class="toc-backref" href="#id164" role="doc-backlink">v1.3.0</a><a class="headerlink" href="#v1-3-0" title="Permalink to this heading"></a></h2>
<section id="id60">
<h3><a class="toc-backref" href="#id165" role="doc-backlink">Minor Changes</a><a class="headerlink" href="#id60" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>aws_caller_info - add AWSRetry decorator to automatically retry on common temporary failures (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/208">https://github.com/ansible-collections/amazon.aws/pull/208</a>)</p></li>
<li><p>aws_s3 - Add support for uploading templated content (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/20">https://github.com/ansible-collections/amazon.aws/pull/20</a>).</p></li>
<li><p>aws_secret - add “on_missing” and “on_denied” option (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/122">https://github.com/ansible-collections/amazon.aws/pull/122</a>).</p></li>
<li><p>ec2_ami - Add retries for ratelimiting related errors (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/195">https://github.com/ansible-collections/amazon.aws/pull/195</a>).</p></li>
<li><p>ec2_ami - fixed and streamlined <code class="docutils literal notranslate"><span class="pre">max_attempts</span></code> logic when waiting for AMI creation to finish (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/194">https://github.com/ansible-collections/amazon.aws/pull/194</a>).</p></li>
<li><p>ec2_ami - increased default <code class="docutils literal notranslate"><span class="pre">wait_timeout</span></code> to 1200 seconds (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/194">https://github.com/ansible-collections/amazon.aws/pull/194</a>).</p></li>
<li><p>ec2_ami_info - Add retries for ratelimiting related errors (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/195">https://github.com/ansible-collections/amazon.aws/pull/195</a>).</p></li>
<li><p>ec2_eni - Improve reliability of the module by adding waiters and performing lookups by ENI ID rather than repeated searches (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/180">https://github.com/ansible-collections/amazon.aws/pull/180</a>).</p></li>
<li><p>ec2_eni_info - Improve reliability of the module by adding waiters and performing lookups by ENI ID rather than repeated searches (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/180">https://github.com/ansible-collections/amazon.aws/pull/180</a>).</p></li>
<li><p>ec2_group - add AWSRetry decorator to automatically retry on common temporary failures (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/207">https://github.com/ansible-collections/amazon.aws/pull/207</a>)</p></li>
<li><p>ec2_group_info - add AWSRetry decorator to automatically retry on common temporary failures (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/207">https://github.com/ansible-collections/amazon.aws/pull/207</a>)</p></li>
<li><p>ec2_snapshot_info - add AWSRetry decorator to automatically retry on common temporary failures (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/208">https://github.com/ansible-collections/amazon.aws/pull/208</a>)</p></li>
<li><p>ec2_vol - Add automatic retries on AWS rate limit errors (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/199">https://github.com/ansible-collections/amazon.aws/pull/199</a>).</p></li>
<li><p>ec2_vol - ported ec2_vol to use boto3 (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/53">https://github.com/ansible-collections/amazon.aws/pull/53</a>).</p></li>
<li><p>ec2_vpc_dhcp_option_info - add AWSRetry decorator to automatically retry on common temporary failures (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/208">https://github.com/ansible-collections/amazon.aws/pull/208</a>)</p></li>
<li><p>module_utils/core - add helper function <code class="docutils literal notranslate"><span class="pre">scrub_none_parameters</span></code> to remove params set to <code class="docutils literal notranslate"><span class="pre">None</span></code> (<a class="reference external" href="https://github.com/ansible-collections/community.aws/issues/251">https://github.com/ansible-collections/community.aws/issues/251</a>).</p></li>
<li><p>module_utils/waiters - Add retries to our waiters for the same failure codes that we retry with AWSRetry (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/185">https://github.com/ansible-collections/amazon.aws/pull/185</a>)</p></li>
<li><p>s3_bucket - Add support for managing the <code class="docutils literal notranslate"><span class="pre">public_access</span></code> settings (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/171">https://github.com/ansible-collections/amazon.aws/pull/171</a>).</p></li>
</ul>
</section>
<section id="id61">
<h3><a class="toc-backref" href="#id166" role="doc-backlink">Bugfixes</a><a class="headerlink" href="#id61" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>ec2 - Code fix so module can create ec2 instances with <code class="docutils literal notranslate"><span class="pre">ec2_volume_iops</span></code> option (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/177">https://github.com/ansible-collections/amazon.aws/pull/177</a>).</p></li>
<li><p>ec2 - ignore terminated instances and instances that are shutting down when starting and stopping (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/issues/146">https://github.com/ansible-collections/amazon.aws/issues/146</a>).</p></li>
<li><p>ec2_group - Fixes error handling during tagging failures (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/issues/210">https://github.com/ansible-collections/amazon.aws/issues/210</a>).</p></li>
<li><p>ec2_group_info - Code fix so module works with Python 3.8 (make dict immutable in loop) (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/181">https://github.com/ansible-collections/amazon.aws/pull/181</a>)</p></li>
</ul>
</section>
</section>
<section id="v1-2-1">
<h2><a class="toc-backref" href="#id167" role="doc-backlink">v1.2.1</a><a class="headerlink" href="#v1-2-1" title="Permalink to this heading"></a></h2>
<section id="id62">
<h3><a class="toc-backref" href="#id168" role="doc-backlink">Minor Changes</a><a class="headerlink" href="#id62" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>ec2_eni - Add support for tagging.</p></li>
<li><p>ec2_eni - Port ec2_eni module to boto3 and add an integration test suite.</p></li>
<li><p>ec2_eni_info - Add retries on transient AWS failures.</p></li>
<li><p>ec2_eni_info - Add support for providing an ENI ID.</p></li>
</ul>
</section>
</section>
<section id="v1-2-0">
<h2><a class="toc-backref" href="#id169" role="doc-backlink">v1.2.0</a><a class="headerlink" href="#v1-2-0" title="Permalink to this heading"></a></h2>
<section id="id63">
<h3><a class="toc-backref" href="#id170" role="doc-backlink">Minor Changes</a><a class="headerlink" href="#id63" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>ec2 module_utils - Update <code class="docutils literal notranslate"><span class="pre">ec2_connect</span></code> (boto2) behaviour so that <code class="docutils literal notranslate"><span class="pre">ec2_url</span></code> overrides <code class="docutils literal notranslate"><span class="pre">region</span></code>.</p></li>
<li><p>module_utils.core - Support passing arbitrary extra keys to fail_json_aws, matching capabilities of fail_json.</p></li>
</ul>
</section>
<section id="id64">
<h3><a class="toc-backref" href="#id171" role="doc-backlink">Deprecated Features</a><a class="headerlink" href="#id64" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>All AWS Modules - <code class="docutils literal notranslate"><span class="pre">aws_access_key</span></code>, <code class="docutils literal notranslate"><span class="pre">aws_secret_key</span></code> and <code class="docutils literal notranslate"><span class="pre">security_token</span></code> will be made mutually exclusive with <code class="docutils literal notranslate"><span class="pre">profile</span></code> after 2022-06-01.</p></li>
</ul>
</section>
<section id="id65">
<h3><a class="toc-backref" href="#id172" role="doc-backlink">Bugfixes</a><a class="headerlink" href="#id65" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>ec2 module_utils - Ensure boto3 verify parameter isn’t overridden by setting a profile (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/issues/129">https://github.com/ansible-collections/amazon.aws/issues/129</a>)</p></li>
<li><p>s3_bucket - Ceph compatibility: treat error code NoSuchTagSetError used by Ceph synonymously to NoSuchTagSet used by AWS</p></li>
</ul>
</section>
</section>
<section id="v1-1-0">
<h2><a class="toc-backref" href="#id173" role="doc-backlink">v1.1.0</a><a class="headerlink" href="#v1-1-0" title="Permalink to this heading"></a></h2>
<section id="id66">
<h3><a class="toc-backref" href="#id174" role="doc-backlink">Major Changes</a><a class="headerlink" href="#id66" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>ec2 module_utils - The <code class="docutils literal notranslate"><span class="pre">AWSRetry</span></code> decorator no longer catches <code class="docutils literal notranslate"><span class="pre">NotFound</span></code> exceptions by default.  <code class="docutils literal notranslate"><span class="pre">NotFound</span></code> exceptions need to be explicitly added using <code class="docutils literal notranslate"><span class="pre">catch_extra_error_codes</span></code>.  Some AWS modules may see an increase in transient failures due to AWS’’s eventual consistency model.</p></li>
</ul>
</section>
<section id="id67">
<h3><a class="toc-backref" href="#id175" role="doc-backlink">Minor Changes</a><a class="headerlink" href="#id67" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>Add <code class="docutils literal notranslate"><span class="pre">aws_security_token</span></code>, <code class="docutils literal notranslate"><span class="pre">aws_endpoint_url</span></code> and <code class="docutils literal notranslate"><span class="pre">endpoint_url</span></code> aliases to improve AWS module parameter naming consistency.</p></li>
<li><p>Add support for <code class="docutils literal notranslate"><span class="pre">aws_ca_bundle</span></code> to boto3 based AWS modules</p></li>
<li><p>Add support for configuring boto3 profiles using <code class="docutils literal notranslate"><span class="pre">AWS_PROFILE</span></code> and <code class="docutils literal notranslate"><span class="pre">AWS_DEFAULT_PROFILE</span></code></p></li>
<li><p>Added check_mode support to aws_az_info</p></li>
<li><p>Added check_mode support to ec2_eni_info</p></li>
<li><p>Added check_mode support to ec2_snapshot_info</p></li>
<li><p>ansible_dict_to_boto3_filter_list - convert integers and bools to strings before using them in filters.</p></li>
<li><p>aws_direct_connect_virtual_interface - add direct_connect_gateway_id parameter. This field is only applicable in private VIF cases (public=False) and is mutually exclusive to virtual_gateway_id.</p></li>
<li><p>cloudformation - Return change_set_id in the cloudformation output if a change set was created.</p></li>
<li><p>ec2 - deprecate allowing both group and group_id - currently we ignore group_id if both are passed.</p></li>
<li><p>ec2_ami_info - allow integer and bool values for filtering images (<a class="reference external" href="https://github.com/ansible/ansible/issues/43570">https://github.com/ansible/ansible/issues/43570</a>).</p></li>
<li><p>ec2_asg - Add support for Max Instance Lifetime</p></li>
<li><p>ec2_asg - Add the ability to use mixed_instance_policy in launch template driven autoscaling groups</p></li>
<li><p>ec2_asg - Migrated to AnsibleAWSModule</p></li>
<li><p>ec2_placement_group - make <code class="docutils literal notranslate"><span class="pre">name</span></code> a required field.</p></li>
<li><p>ec2_vol_info - Code cleanup and use of the AWSRetry decorator to improve stability</p></li>
<li><p>ec2_vpc_net - Enable IPv6 CIDR assignment</p></li>
</ul>
</section>
<section id="id68">
<h3><a class="toc-backref" href="#id176" role="doc-backlink">Breaking Changes / Porting Guide</a><a class="headerlink" href="#id68" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>aws_s3 - can now delete versioned buckets even when they are not empty - set mode to delete to delete a versioned bucket and everything in it.</p></li>
</ul>
</section>
<section id="id69">
<h3><a class="toc-backref" href="#id177" role="doc-backlink">Deprecated Features</a><a class="headerlink" href="#id69" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>cloudformation - The <code class="docutils literal notranslate"><span class="pre">template_format</span></code> option had no effect since Ansible 2.3 and will be removed after 2022-06-01</p></li>
<li><p>cloudformation - the <code class="docutils literal notranslate"><span class="pre">template_format</span></code> option has been deprecated and will be removed in a later release. It has been ignored by the module since Ansible 2.3.</p></li>
<li><p>data_pipeline - The <code class="docutils literal notranslate"><span class="pre">version</span></code> option had no effect and will be removed in after 2022-06-01</p></li>
<li><p>ec2 - in a later release, the <code class="docutils literal notranslate"><span class="pre">group</span></code> and <code class="docutils literal notranslate"><span class="pre">group_id</span></code> options will become mutually exclusive.  Currently <code class="docutils literal notranslate"><span class="pre">group_id</span></code> is ignored if you pass both.</p></li>
<li><p>ec2_ami - The <code class="docutils literal notranslate"><span class="pre">no_device</span></code> alias <code class="docutils literal notranslate"><span class="pre">NoDevice</span></code> has been deprecated  and will be removed after 2022-06-01</p></li>
<li><p>ec2_ami - The <code class="docutils literal notranslate"><span class="pre">virtual_name</span></code> alias <code class="docutils literal notranslate"><span class="pre">VirtualName</span></code> has been deprecated and will be removed after 2022-06-01</p></li>
<li><p>ec2_eip - The <code class="docutils literal notranslate"><span class="pre">wait_timeout</span></code> option had no effect and will be removed after 2022-06-01</p></li>
<li><p>ec2_key - The <code class="docutils literal notranslate"><span class="pre">wait_timeout</span></code> option had no effect and will be removed after 2022-06-01</p></li>
<li><p>ec2_key - The <code class="docutils literal notranslate"><span class="pre">wait</span></code> option had no effect and will be removed after 2022-06-01</p></li>
<li><p>ec2_key - the <code class="docutils literal notranslate"><span class="pre">wait_timeout</span></code> option has been deprecated and will be removed in a later release. It has had no effect since Ansible 2.5.</p></li>
<li><p>ec2_key - the <code class="docutils literal notranslate"><span class="pre">wait</span></code> option has been deprecated and will be removed in a later release. It has had no effect since Ansible 2.5.</p></li>
<li><p>ec2_lc - The <code class="docutils literal notranslate"><span class="pre">associate_public_ip_address</span></code> option had no effect and will be removed after 2022-06-01</p></li>
<li><p>ec2_tag - deprecate the <code class="docutils literal notranslate"><span class="pre">list</span></code> option in favor of ec2_tag_info</p></li>
<li><p>ec2_tag - support for <code class="docutils literal notranslate"><span class="pre">list</span></code> as a state has been deprecated and will be removed in a later release.  The <code class="docutils literal notranslate"><span class="pre">ec2_tag_info</span></code> can be used to fetch the tags on an EC2 resource.</p></li>
</ul>
</section>
<section id="id70">
<h3><a class="toc-backref" href="#id178" role="doc-backlink">Bugfixes</a><a class="headerlink" href="#id70" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>aws_ec2 - fix idempotency when managing tags</p></li>
<li><p>aws_ec2 - fix idempotency when metrics are enable</p></li>
<li><p>aws_s3 - Delete objects and delete markers so versioned buckets can be removed.</p></li>
<li><p>aws_s3 - Try to wait for the bucket to exist before setting the access control list.</p></li>
<li><p>cloudformation_info - Fix a KeyError returning information about the stack(s).</p></li>
<li><p>ec2_asg - Ensure “wait” is honored during replace operations</p></li>
<li><p>ec2_launch_template - Update output to include latest_version and default_version, matching the documentation</p></li>
<li><p>ec2_transit_gateway - Use AWSRetry before ClientError is handled when describing transit gateways</p></li>
<li><p>ec2_transit_gateway - fixed issue where auto_attach set to yes was not being honored (<a class="reference external" href="https://github.com/ansible/ansible/issues/61907">https://github.com/ansible/ansible/issues/61907</a>)</p></li>
<li><p>ec2_vol - fix filtering bug</p></li>
<li><p>s3_bucket - Accept XNotImplemented response to support NetApp StorageGRID.</p></li>
</ul>
</section>
</section>
</section>


           </div>
          </div>
          

<footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../index.html" class="btn btn-neutral float-left" title="Amazon.Aws" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="guide_aws.html" class="btn btn-neutral float-right" title="Amazon Web Services Guide" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Ansible contributors.</p>
  </div>

  
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script><!-- extra footer elements for Ansible beyond RTD Sphinx Theme -->

</body>
</html>